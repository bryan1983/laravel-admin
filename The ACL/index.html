<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>The ACL - Laravel Admin Panel</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "The ACL";
    var mkdocs_page_input_path = "The ACL.md";
    var mkdocs_page_url = "/The ACL/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Laravel Admin Panel</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Instalation/">Instalation</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../config/">Config</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Authentication/">Authentication</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">The ACL</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#the-acl">The ACL</a></li>
                
                    <li><a class="toctree-l4" href="#middleware">Middleware</a></li>
                
                    <li><a class="toctree-l4" href="#example">Example</a></li>
                
                    <li><a class="toctree-l4" href="#protecting-routes">Protecting Routes</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Master View/">Master View</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../The Menu/">The Menu</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Simple Table Builder/">Simple Table Builder</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Flash Messages/">Flash Messages</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../license/">License</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../changelog/">Changelog</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Laravel Admin Panel</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>The ACL</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="the-acl">The ACL</h1>
<p>I am using <a href="https://github.com/Zizaco/entrust/">https://github.com/Zizaco/entrust/</a> for the ACL, since the package comes with an admin interface for the permissions, you can create, edit or assign the permissions there, or you can also use Entrust methods to do so.</p>
<h2 id="middleware">Middleware</h2>
<p>Laravel admin ships with a middleware to protect routes. Simply add the middleware to your route definition and give it the permission as a parameter like so:</p>
<pre><code class="php">    'middleware' =&gt; 'Joselfonseca\LaravelAdmin\Http\Middleware\AclMiddleware:list-users' 
</code></pre>

<p>You can give it multiple permissions also separating them with a coma (,):</p>
<pre><code class="php">    'middleware' =&gt; 'Joselfonseca\LaravelAdmin\Http\Middleware\AclMiddleware:list-users,see-something' 
</code></pre>

<h2 id="example">Example</h2>
<pre><code class="php">    Route::get('/',[
        'as' =&gt; 'LaravelAdminUsers',
        'uses' =&gt; 'Joselfonseca\LaravelAdmin\Http\Controllers\Users\UsersController@index',
        'middleware' =&gt; 'Joselfonseca\LaravelAdmin\Http\Middleware\AclMiddleware:list-users'
    ]);
</code></pre>

<h2 id="protecting-routes">Protecting Routes</h2>
<p>Say you want to protect a route so only users with the correct permission are able to access it, use the Entrust alias for that in a service provider or bootstrap file.</p>
<pre><code class="php">    \Entrust::routeNeedsPermission('backend/permissions*', array('permissions-crud'), view('LaravelAdmin::errors.unauthorized'), false);
</code></pre>

<p>First parameter is the route you want to protect, the second receives an array of permissions required to see the route, third would be the return, this can be a view or a text, its up to you, laravel admin gives you a simple view for that, and last parameter will tell Entrust if all of the permissions are required to access the route. <a href="https://github.com/Zizaco/entrust/blob/master/README.md#short-syntax-route-filter">More info.</a></p>
<p>For more advance ACL usage, please refer to <a href="https://github.com/Zizaco/entrust/blob/master/README.md#usage">Entrust Documentation</a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Master View/" class="btn btn-neutral float-right" title="Master View">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Authentication/" class="btn btn-neutral" title="Authentication"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../Authentication/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Master View/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
