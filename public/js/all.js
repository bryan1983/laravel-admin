function _init(){$.AdminLTE.layout={activate:function(){var t=this;t.fix(),t.fixSidebar(),$(window,".wrapper").resize(function(){t.fix(),t.fixSidebar()})},fix:function(){var t=$(".main-header").outerHeight()+$(".main-footer").outerHeight(),e=$(window).height(),n=$(".sidebar").height();if($("body").hasClass("fixed"))$(".content-wrapper, .right-side").css("min-height",e-$(".main-footer").outerHeight());else{var i;e>=n?($(".content-wrapper, .right-side").css("min-height",e-t),i=e-t):($(".content-wrapper, .right-side").css("min-height",n),i=n);var s=$($.AdminLTE.options.controlSidebarOptions.selector);"undefined"!=typeof s&&s.height()>i&&$(".content-wrapper, .right-side").css("min-height",s.height())}},fixSidebar:function(){return $("body").hasClass("fixed")?("undefined"==typeof $.fn.slimScroll&&console&&console.error("Error: the fixed layout requires the slimscroll plugin!"),void($.AdminLTE.options.sidebarSlimScroll&&"undefined"!=typeof $.fn.slimScroll&&($(".sidebar").slimScroll({destroy:!0}).height("auto"),$(".sidebar").slimscroll({height:$(window).height()-$(".main-header").height()+"px",color:"rgba(0,0,0,0.2)",size:"3px"})))):void("undefined"!=typeof $.fn.slimScroll&&$(".sidebar").slimScroll({destroy:!0}).height("auto"))}},$.AdminLTE.pushMenu={activate:function(t){var e=$.AdminLTE.options.screenSizes;$(t).on("click",function(t){t.preventDefault(),$(window).width()>e.sm-1?$("body").toggleClass("sidebar-collapse"):$("body").hasClass("sidebar-open")?($("body").removeClass("sidebar-open"),$("body").removeClass("sidebar-collapse")):$("body").addClass("sidebar-open")}),$(".content-wrapper").click(function(){$(window).width()<=e.sm-1&&$("body").hasClass("sidebar-open")&&$("body").removeClass("sidebar-open")}),($.AdminLTE.options.sidebarExpandOnHover||$("body").hasClass("fixed")&&$("body").hasClass("sidebar-mini"))&&this.expandOnHover()},expandOnHover:function(){var t=this,e=$.AdminLTE.options.screenSizes.sm-1;$(".main-sidebar").hover(function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-collapse")&&$(window).width()>e&&t.expand()},function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-expanded-on-hover")&&$(window).width()>e&&t.collapse()})},expand:function(){$("body").removeClass("sidebar-collapse").addClass("sidebar-expanded-on-hover")},collapse:function(){$("body").hasClass("sidebar-expanded-on-hover")&&$("body").removeClass("sidebar-expanded-on-hover").addClass("sidebar-collapse")}},$.AdminLTE.tree=function(t){var e=this;$("li a",$(t)).on("click",function(t){var n=$(this),i=n.next();if(i.is(".treeview-menu")&&i.is(":visible"))i.slideUp("normal",function(){i.removeClass("menu-open")}),i.parent("li").removeClass("active");else if(i.is(".treeview-menu")&&!i.is(":visible")){var s=n.parents("ul").first(),a=s.find("ul:visible").slideUp("normal");a.removeClass("menu-open");var o=n.parent("li");i.slideDown("normal",function(){i.addClass("menu-open"),s.find("li.active").removeClass("active"),o.addClass("active"),e.layout.fix()})}i.is(".treeview-menu")&&t.preventDefault()})},$.AdminLTE.controlSidebar={activate:function(){var t=this,e=$.AdminLTE.options.controlSidebarOptions,n=$(e.selector),i=$(e.toggleBtnSelector);i.on("click",function(i){i.preventDefault(),n.hasClass("control-sidebar-open")||$("body").hasClass("control-sidebar-open")?t.close(n,e.slide):t.open(n,e.slide)});var s=$(".control-sidebar-bg");t._fix(s),$("body").hasClass("fixed")?t._fixForFixed(n):$(".content-wrapper, .right-side").height()<n.height()&&t._fixForContent(n)},open:function(t,e){e?t.addClass("control-sidebar-open"):$("body").addClass("control-sidebar-open")},close:function(t,e){e?t.removeClass("control-sidebar-open"):$("body").removeClass("control-sidebar-open")},_fix:function(t){var e=this;$("body").hasClass("layout-boxed")?(t.css("position","absolute"),t.height($(".wrapper").height()),$(window).resize(function(){e._fix(t)})):t.css({position:"fixed",height:"auto"})},_fixForFixed:function(t){t.css({position:"fixed","max-height":"100%",overflow:"auto","padding-bottom":"50px"})},_fixForContent:function(t){$(".content-wrapper, .right-side").css("min-height",t.height())}},$.AdminLTE.boxWidget={selectors:$.AdminLTE.options.boxWidgetOptions.boxWidgetSelectors,icons:$.AdminLTE.options.boxWidgetOptions.boxWidgetIcons,activate:function(){var t=this;$(t.selectors.collapse).on("click",function(e){e.preventDefault(),t.collapse($(this))}),$(t.selectors.remove).on("click",function(e){e.preventDefault(),t.remove($(this))})},collapse:function(t){var e=this,n=t.parents(".box").first(),i=n.find("> .box-body, > .box-footer");n.hasClass("collapsed-box")?(t.children(":first").removeClass(e.icons.open).addClass(e.icons.collapse),i.slideDown(300,function(){n.removeClass("collapsed-box")})):(t.children(":first").removeClass(e.icons.collapse).addClass(e.icons.open),i.slideUp(300,function(){n.addClass("collapsed-box")}))},remove:function(t){var e=t.parents(".box").first();e.slideUp()}}}!function(t,e,n){var i=function(i){function s(t){var e,n,a={};i.each(t,function(i){(e=i.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(e[1]+" ")&&(n=i.replace(e[0],e[2].toLowerCase()),a[n]=i,"o"===e[1]&&s(t[i]))}),t._hungarianMap=a}function a(t,e,o){t._hungarianMap||s(t);var r;i.each(e,function(s){r=t._hungarianMap[s],r===n||!o&&e[r]!==n||("o"===r.charAt(0)?(e[r]||(e[r]={}),i.extend(!0,e[r],e[s]),a(t[r],e[r],o)):e[r]=e[s])})}function o(t){var e=Vt.defaults.oLanguage,n=t.sZeroRecords;!t.sEmptyTable&&n&&"No data available in table"===e.sEmptyTable&&Lt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"Loading..."===e.sLoadingRecords&&Lt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&jt(t)}function r(t){if(pe(t,"ordering","bSort"),pe(t,"orderMulti","bSortMulti"),pe(t,"orderClasses","bSortClasses"),pe(t,"orderCellsTop","bSortCellsTop"),pe(t,"order","aaSorting"),pe(t,"orderFixed","aaSortingFixed"),pe(t,"paging","bPaginate"),pe(t,"pagingType","sPaginationType"),pe(t,"pageLength","iDisplayLength"),pe(t,"searching","bFilter"),t=t.aoSearchCols)for(var e=0,n=t.length;n>e;e++)t[e]&&a(Vt.models.oSearch,t[e])}function l(t){pe(t,"orderable","bSortable"),pe(t,"orderData","aDataSort"),pe(t,"orderSequence","asSorting"),pe(t,"orderDataType","sortDataType");var e=t.aDataSort;e&&!i.isArray(e)&&(t.aDataSort=[e])}function c(t){var t=t.oBrowser,e=i("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(i("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(i('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),n=e.find(".test");t.bScrollOversize=100===n[0].offsetWidth,t.bScrollbarLeft=1!==Math.round(n.offset().left),e.remove()}function d(t,e,i,s,a,o){var r,l=!1;for(i!==n&&(r=i,l=!0);s!==a;)t.hasOwnProperty(s)&&(r=l?e(r,t[s],s,t):t[s],l=!0,s+=o);return r}function u(t,n){var s=Vt.defaults.column,a=t.aoColumns.length,s=i.extend({},Vt.models.oColumn,s,{nTh:n?n:e.createElement("th"),sTitle:s.sTitle?s.sTitle:n?n.innerHTML:"",aDataSort:s.aDataSort?s.aDataSort:[a],mData:s.mData?s.mData:a,idx:a});t.aoColumns.push(s),s=t.aoPreSearchCols,s[a]=i.extend({},Vt.models.oSearch,s[a]),h(t,a,i(n).data())}function h(t,e,s){var e=t.aoColumns[e],o=t.oClasses,r=i(e.nTh);if(!e.sWidthOrig){e.sWidthOrig=r.attr("width")||null;var c=(r.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(e.sWidthOrig=c[1])}s!==n&&null!==s&&(l(s),a(Vt.defaults.column,s),s.mDataProp!==n&&!s.mData&&(s.mData=s.mDataProp),s.sType&&(e._sManualType=s.sType),s.className&&!s.sClass&&(s.sClass=s.className),i.extend(e,s),Lt(e,s,"sWidth","sWidthOrig"),s.iDataSort!==n&&(e.aDataSort=[s.iDataSort]),Lt(e,s,"aDataSort"));var d=e.mData,u=_(d),h=e.mRender?_(e.mRender):null,s=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};e._bAttrSrc=i.isPlainObject(d)&&(s(d.sort)||s(d.type)||s(d.filter)),e.fnGetData=function(t,e,i){var s=u(t,e,n,i);return h&&e?h(s,e,t,i):s},e.fnSetData=function(t,e,n){return T(d)(t,e,n)},"number"!=typeof d&&(t._rowReadObject=!0),t.oFeatures.bSort||(e.bSortable=!1,r.addClass(o.sSortableNone)),t=-1!==i.inArray("asc",e.asSorting),s=-1!==i.inArray("desc",e.asSorting),e.bSortable&&(t||s)?t&&!s?(e.sSortingClass=o.sSortableAsc,e.sSortingClassJUI=o.sSortJUIAscAllowed):!t&&s?(e.sSortingClass=o.sSortableDesc,e.sSortingClassJUI=o.sSortJUIDescAllowed):(e.sSortingClass=o.sSortable,e.sSortingClassJUI=o.sSortJUI):(e.sSortingClass=o.sSortableNone,e.sSortingClassJUI="")}function f(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;gt(t);for(var n=0,i=e.length;i>n;n++)e[n].nTh.style.width=e[n].sWidth}e=t.oScroll,(""!==e.sY||""!==e.sX)&&pt(t),Yt(t,null,"column-sizing",[t])}function p(t,e){var n=v(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function m(t,e){var n=v(t,"bVisible"),n=i.inArray(e,n);return-1!==n?n:null}function g(t){return v(t,"bVisible").length}function v(t,e){var n=[];return i.map(t.aoColumns,function(t,i){t[e]&&n.push(i)}),n}function y(t){var e,i,s,a,o,r,l,c,d,u=t.aoColumns,h=t.aoData,f=Vt.ext.type.detect;for(e=0,i=u.length;i>e;e++)if(l=u[e],d=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(s=0,a=f.length;a>s;s++){for(o=0,r=h.length;r>o&&(d[o]===n&&(d[o]=D(t,o,e,"type")),c=f[s](d[o],t),c||s===f.length-1)&&"html"!==c;o++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function b(t,e,s,a){var o,r,l,c,d,h,f=t.aoColumns;if(e)for(o=e.length-1;o>=0;o--){h=e[o];var p=h.targets!==n?h.targets:h.aTargets;for(i.isArray(p)||(p=[p]),r=0,l=p.length;l>r;r++)if("number"==typeof p[r]&&0<=p[r]){for(;f.length<=p[r];)u(t);a(p[r],h)}else if("number"==typeof p[r]&&0>p[r])a(f.length+p[r],h);else if("string"==typeof p[r])for(c=0,d=f.length;d>c;c++)("_all"==p[r]||i(f[c].nTh).hasClass(p[r]))&&a(c,h)}if(s)for(o=0,t=s.length;t>o;o++)a(o,s[o])}function w(t,e,n,s){var a=t.aoData.length,o=i.extend(!0,{},Vt.models.oRow,{src:n?"dom":"data"});o._aData=e,t.aoData.push(o);for(var e=t.aoColumns,o=0,r=e.length;r>o;o++)n&&S(t,a,o,D(t,a,o)),e[o].sType=null;return t.aiDisplayMaster.push(a),(n||!t.oFeatures.bDeferRender)&&A(t,a,n,s),a}function C(t,e){var n;return e instanceof i||(e=i(e)),e.map(function(e,i){return n=R(t,i),w(t,n.data,i,n.cells)})}function D(t,e,i,s){var a=t.iDraw,o=t.aoColumns[i],r=t.aoData[e]._aData,l=o.sDefaultContent,i=o.fnGetData(r,s,{settings:t,row:e,col:i});if(i===n)return t.iDrawError!=a&&null===l&&(It(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+e,4),t.iDrawError=a),l;if(i!==r&&null!==i||null===l){if("function"==typeof i)return i.call(r)}else i=l;return null===i&&"display"==s?"":i}function S(t,e,n,i){t.aoColumns[n].fnSetData(t.aoData[e]._aData,i,{settings:t,row:e,col:n})}function x(t){return i.map(t.match(/(\\.|[^\.])+/g),function(t){return t.replace(/\\./g,".")})}function _(t){if(i.isPlainObject(t)){var e={};return i.each(t,function(t,n){n&&(e[t]=_(n))}),function(t,i,s,a){var o=e[i]||e._;return o!==n?o(t,i,s,a):t}}if(null===t)return function(t){return t};if("function"==typeof t)return function(e,n,i,s){return t(e,n,i,s)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var s=function(t,e,i){var a,o;if(""!==i){o=x(i);for(var r=0,l=o.length;l>r;r++){if(i=o[r].match(me),a=o[r].match(ge),i){for(o[r]=o[r].replace(me,""),""!==o[r]&&(t=t[o[r]]),a=[],o.splice(0,r+1),o=o.join("."),r=0,l=t.length;l>r;r++)a.push(s(t[r],e,o));t=i[0].substring(1,i[0].length-1),t=""===t?a:a.join(t);break}if(a)o[r]=o[r].replace(ge,""),t=t[o[r]]();else{if(null===t||t[o[r]]===n)return n;t=t[o[r]]}}}return t};return function(e,n){return s(e,n,t)}}return function(e){return e[t]}}function T(t){if(i.isPlainObject(t))return T(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,i){t(e,"set",n,i)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var e=function(t,i,s){var a,s=x(s);a=s[s.length-1];for(var o,r,l=0,c=s.length-1;c>l;l++){if(o=s[l].match(me),r=s[l].match(ge),o){for(s[l]=s[l].replace(me,""),t[s[l]]=[],a=s.slice(),a.splice(0,l+1),o=a.join("."),r=0,c=i.length;c>r;r++)a={},e(a,i[r],o),t[s[l]].push(a);return}r&&(s[l]=s[l].replace(ge,""),t=t[s[l]](i)),(null===t[s[l]]||t[s[l]]===n)&&(t[s[l]]={}),t=t[s[l]]}a.match(ge)?t[a.replace(ge,"")](i):t[a.replace(me,"")]=i};return function(n,i){return e(n,i,t)}}return function(e,n){e[t]=n}}function E(t){return ce(t.aoData,"_aData")}function k(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0}function N(t,e,i){for(var s=-1,a=0,o=t.length;o>a;a++)t[a]==e?s=a:t[a]>e&&t[a]--;-1!=s&&i===n&&t.splice(s,1)}function M(t,e,i,s){var a,o=t.aoData[e],r=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=D(t,e,i,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==o.src)){var l=o.anCells;if(l)if(s!==n)r(l[s],s);else for(i=0,a=l.length;a>i;i++)r(l[i],i)}else o._aData=R(t,o,s,s===n?n:o._aData).data;if(o._aSortData=null,o._aFilterData=null,r=t.aoColumns,s!==n)r[s].sType=null;else{for(i=0,a=r.length;a>i;i++)r[i].sType=null;O(o)}}function R(t,e,s,a){var o,r,l=[],c=e.firstChild,d=0,u=t.aoColumns,h=t._rowReadObject,a=a||h?{}:[],f=function(t,e){if("string"==typeof t){var n=t.indexOf("@");-1!==n&&(n=t.substring(n+1),T(t)(a,e.getAttribute(n)))}},t=function(t){(s===n||s===d)&&(o=u[d],r=i.trim(t.innerHTML),o&&o._bAttrSrc?(T(o.mData._)(a,r),f(o.mData.sort,t),f(o.mData.type,t),f(o.mData.filter,t)):h?(o._setter||(o._setter=T(o.mData)),o._setter(a,r)):a[d]=r),d++};if(c)for(;c;)e=c.nodeName.toUpperCase(),("TD"==e||"TH"==e)&&(t(c),l.push(c)),c=c.nextSibling;else for(l=e.anCells,c=0,e=l.length;e>c;c++)t(l[c]);return{data:a,cells:l}}function A(t,n,i,s){var a,o,r,l,c,d=t.aoData[n],u=d._aData,h=[];if(null===d.nTr){for(a=i||e.createElement("tr"),d.nTr=a,d.anCells=h,a._DT_RowIndex=n,O(d),l=0,c=t.aoColumns.length;c>l;l++)r=t.aoColumns[l],o=i?s[l]:e.createElement(r.sCellType),h.push(o),(!i||r.mRender||r.mData!==l)&&(o.innerHTML=D(t,n,l,"display")),r.sClass&&(o.className+=" "+r.sClass),r.bVisible&&!i?a.appendChild(o):!r.bVisible&&i&&o.parentNode.removeChild(o),r.fnCreatedCell&&r.fnCreatedCell.call(t.oInstance,o,D(t,n,l),u,n,l);Yt(t,"aoRowCreatedCallback",null,[a,u,n])}d.nTr.setAttribute("role","row")}function O(t){var e=t.nTr,n=t._aData;if(e){if(n.DT_RowId&&(e.id=n.DT_RowId),n.DT_RowClass){var s=n.DT_RowClass.split(" ");t.__rowc=t.__rowc?fe(t.__rowc.concat(s)):s,i(e).removeClass(t.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowAttr&&i(e).attr(n.DT_RowAttr),n.DT_RowData&&i(e).data(n.DT_RowData)}}function I(t){var e,n,s,a,o,r=t.nTHead,l=t.nTFoot,c=0===i("th, td",r).length,d=t.oClasses,u=t.aoColumns;for(c&&(a=i("<tr/>").appendTo(r)),e=0,n=u.length;n>e;e++)o=u[e],s=i(o.nTh).addClass(o.sClass),c&&s.appendTo(a),t.oFeatures.bSort&&(s.addClass(o.sSortingClass),!1!==o.bSortable&&(s.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),kt(t,o.nTh,e))),o.sTitle!=s.html()&&s.html(o.sTitle),Ut(t,"header")(t,s,o,d);if(c&&Y(t.aoHeader,r),i(r).find(">tr").attr("role","row"),i(r).find(">tr>th, >tr>td").addClass(d.sHeaderTH),i(l).find(">tr>th, >tr>td").addClass(d.sFooterTH),null!==l)for(t=t.aoFooter[0],e=0,n=t.length;n>e;e++)o=u[e],o.nTf=t[e].cell,o.sClass&&i(o.nTf).addClass(o.sClass)}function L(t,e,s){var a,o,r,l,c=[],d=[],u=t.aoColumns.length;if(e){for(s===n&&(s=!1),a=0,o=e.length;o>a;a++){for(c[a]=e[a].slice(),c[a].nTr=e[a].nTr,r=u-1;r>=0;r--)!t.aoColumns[r].bVisible&&!s&&c[a].splice(r,1);d.push([])}for(a=0,o=c.length;o>a;a++){if(t=c[a].nTr)for(;r=t.firstChild;)t.removeChild(r);for(r=0,e=c[a].length;e>r;r++)if(l=u=1,d[a][r]===n){for(t.appendChild(c[a][r].cell),d[a][r]=1;c[a+u]!==n&&c[a][r].cell==c[a+u][r].cell;)d[a+u][r]=1,u++;for(;c[a][r+l]!==n&&c[a][r].cell==c[a][r+l].cell;){for(s=0;u>s;s++)d[a+s][r+l]=1;l++}i(c[a][r].cell).attr("rowspan",u).attr("colspan",l)}}}}function H(t){var e=Yt(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==i.inArray(!1,e))ht(t,!1);else{var e=[],s=0,a=t.asStripeClasses,o=a.length,r=t.oLanguage,l=t.iInitDisplayStart,c="ssp"==Bt(t),d=t.aiDisplay;t.bDrawing=!0,l!==n&&-1!==l&&(t._iDisplayStart=c?l:l>=t.fnRecordsDisplay()?0:l,t.iInitDisplayStart=-1);var l=t._iDisplayStart,u=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,ht(t,!1);else if(c){if(!t.bDestroying&&!B(t))return}else t.iDraw++;if(0!==d.length)for(r=c?t.aoData.length:u,c=c?0:l;r>c;c++){var h=d[c],f=t.aoData[h];if(null===f.nTr&&A(t,h),h=f.nTr,0!==o){var p=a[s%o];f._sRowStripe!=p&&(i(h).removeClass(f._sRowStripe).addClass(p),f._sRowStripe=p)}Yt(t,"aoRowCallback",null,[h,f._aData,s,c]),e.push(h),s++}else s=r.sZeroRecords,1==t.iDraw&&"ajax"==Bt(t)?s=r.sLoadingRecords:r.sEmptyTable&&0===t.fnRecordsTotal()&&(s=r.sEmptyTable),e[0]=i("<tr/>",{"class":o?a[0]:""}).append(i("<td />",{valign:"top",colSpan:g(t),"class":t.oClasses.sRowEmpty}).html(s))[0];Yt(t,"aoHeaderCallback","header",[i(t.nTHead).children("tr")[0],E(t),l,u,d]),Yt(t,"aoFooterCallback","footer",[i(t.nTFoot).children("tr")[0],E(t),l,u,d]),a=i(t.nTBody),a.children().detach(),a.append(i(e)),Yt(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function P(t,e){var n=t.oFeatures,i=n.bFilter;n.bSort&&_t(t),i?G(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,H(t),t._drawHold=!1}function F(t){var e=t.oClasses,n=i(t.nTable),n=i("<div/>").insertBefore(n),s=t.oFeatures,a=i("<div/>",{id:t.sTableId+"_wrapper","class":e.sWrapper+(t.nTFoot?"":" "+e.sNoFooter)});t.nHolding=n[0],t.nTableWrapper=a[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var o,r,l,c,d,u,h=t.sDom.split(""),f=0;f<h.length;f++){if(o=null,r=h[f],"<"==r){if(l=i("<div/>")[0],c=h[f+1],"'"==c||'"'==c){for(d="",u=2;h[f+u]!=c;)d+=h[f+u],u++;"H"==d?d=e.sJUIHeader:"F"==d&&(d=e.sJUIFooter),-1!=d.indexOf(".")?(c=d.split("."),l.id=c[0].substr(1,c[0].length-1),l.className=c[1]):"#"==d.charAt(0)?l.id=d.substr(1,d.length-1):l.className=d,f+=u}a.append(l),a=i(l)}else if(">"==r)a=a.parent();else if("l"==r&&s.bPaginate&&s.bLengthChange)o=lt(t);else if("f"==r&&s.bFilter)o=V(t);else if("r"==r&&s.bProcessing)o=ut(t);else if("t"==r)o=ft(t);else if("i"==r&&s.bInfo)o=nt(t);else if("p"==r&&s.bPaginate)o=ct(t);else if(0!==Vt.ext.feature.length)for(l=Vt.ext.feature,u=0,c=l.length;c>u;u++)if(r==l[u].cFeature){o=l[u].fnInit(t);break}o&&(l=t.aanFeatures,l[r]||(l[r]=[]),l[r].push(o),a.append(o))}n.replaceWith(a)}function Y(t,e){var n,s,a,o,r,l,c,d,u,h,f=i(e).children("tr");for(t.splice(0,t.length),a=0,l=f.length;l>a;a++)t.push([]);for(a=0,l=f.length;l>a;a++)for(n=f[a],s=n.firstChild;s;){if("TD"==s.nodeName.toUpperCase()||"TH"==s.nodeName.toUpperCase()){for(d=1*s.getAttribute("colspan"),u=1*s.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,u=u&&0!==u&&1!==u?u:1,o=0,r=t[a];r[o];)o++;for(c=o,h=1===d?!0:!1,r=0;d>r;r++)for(o=0;u>o;o++)t[a+o][c+r]={cell:s,unique:h},t[a+o].nTr=n}s=s.nextSibling}}function $(t,e,n){var i=[];n||(n=t.aoHeader,e&&(n=[],Y(n,e)));for(var e=0,s=n.length;s>e;e++)for(var a=0,o=n[e].length;o>a;a++)!n[e][a].unique||i[a]&&t.bSortCellsTop||(i[a]=n[e][a].cell);return i}function U(t,e,n){if(Yt(t,"aoServerParams","serverParams",[e]),e&&i.isArray(e)){var s={},a=/(.*?)\[\]$/;i.each(e,function(t,e){var n=e.name.match(a);n?(n=n[0],s[n]||(s[n]=[]),s[n].push(e.value)):s[e.name]=e.value}),e=s}var o,r=t.ajax,l=t.oInstance,c=function(e){Yt(t,null,"xhr",[t,e,t.jqXHR]),n(e)};if(i.isPlainObject(r)&&r.data){o=r.data;var d=i.isFunction(o)?o(e,t):o,e=i.isFunction(o)&&d?d:i.extend(!0,e,d);delete r.data}d={data:e,success:function(e){var n=e.error||e.sError;n&&It(t,0,n),t.json=e,c(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(e,n){var s=Yt(t,null,"xhr",[t,null,t.jqXHR]);-1===i.inArray(!0,s)&&("parsererror"==n?It(t,0,"Invalid JSON response",1):4===e.readyState&&It(t,0,"Ajax error",7)),ht(t,!1)}},t.oAjaxData=e,Yt(t,null,"preXhr",[t,e]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,i.map(e,function(t,e){return{name:e,value:t}}),c,t):t.sAjaxSource||"string"==typeof r?t.jqXHR=i.ajax(i.extend(d,{url:r||t.sAjaxSource})):i.isFunction(r)?t.jqXHR=r.call(l,e,c,t):(t.jqXHR=i.ajax(i.extend(d,r)),r.data=o)}function B(t){return t.bAjaxDataGet?(t.iDraw++,ht(t,!0),U(t,W(t),function(e){j(t,e)}),!1):!0}function W(t){var e,n,s,a,o=t.aoColumns,r=o.length,l=t.oFeatures,c=t.oPreviousSearch,d=t.aoPreSearchCols,u=[],h=xt(t);e=t._iDisplayStart,n=!1!==l.bPaginate?t._iDisplayLength:-1;var f=function(t,e){u.push({name:t,value:e})};f("sEcho",t.iDraw),f("iColumns",r),f("sColumns",ce(o,"sName").join(",")),f("iDisplayStart",e),f("iDisplayLength",n);var p={draw:t.iDraw,columns:[],order:[],start:e,length:n,search:{value:c.sSearch,regex:c.bRegex}};for(e=0;r>e;e++)s=o[e],a=d[e],n="function"==typeof s.mData?"function":s.mData,p.columns.push({data:n,name:s.sName,searchable:s.bSearchable,orderable:s.bSortable,search:{value:a.sSearch,regex:a.bRegex}}),f("mDataProp_"+e,n),l.bFilter&&(f("sSearch_"+e,a.sSearch),f("bRegex_"+e,a.bRegex),f("bSearchable_"+e,s.bSearchable)),l.bSort&&f("bSortable_"+e,s.bSortable);return l.bFilter&&(f("sSearch",c.sSearch),f("bRegex",c.bRegex)),l.bSort&&(i.each(h,function(t,e){p.order.push({column:e.col,dir:e.dir}),f("iSortCol_"+t,e.col),f("sSortDir_"+t,e.dir)}),f("iSortingCols",h.length)),o=Vt.ext.legacy.ajax,null===o?t.sAjaxSource?u:p:o?u:p}function j(t,e){var i=z(t,e),s=e.sEcho!==n?e.sEcho:e.draw,a=e.iTotalRecords!==n?e.iTotalRecords:e.recordsTotal,o=e.iTotalDisplayRecords!==n?e.iTotalDisplayRecords:e.recordsFiltered;if(s){if(1*s<t.iDraw)return;t.iDraw=1*s}for(k(t),t._iRecordsTotal=parseInt(a,10),t._iRecordsDisplay=parseInt(o,10),s=0,a=i.length;a>s;s++)w(t,i[s]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,H(t),t._bInitComplete||ot(t,e),t.bAjaxDataGet=!0,ht(t,!1)}function z(t,e){var s=i.isPlainObject(t.ajax)&&t.ajax.dataSrc!==n?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===s?e.aaData||e[s]:""!==s?_(s)(e):e}function V(t){var n=t.oClasses,s=t.sTableId,a=t.oLanguage,o=t.oPreviousSearch,r=t.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=a.sSearch,c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l,n=i("<div/>",{id:r.f?null:s+"_filter","class":n.sFilter}).append(i("<label/>").append(c)),r=function(){var e=this.value?this.value:"";e!=o.sSearch&&(G(t,{sSearch:e,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive}),t._iDisplayStart=0,H(t))},l=null!==t.searchDelay?t.searchDelay:"ssp"===Bt(t)?400:0,d=i("input",n).val(o.sSearch).attr("placeholder",a.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",l?vt(r,l):r).bind("keypress.DT",function(t){return 13==t.keyCode?!1:void 0}).attr("aria-controls",s);return i(t.nTable).on("search.dt.DT",function(n,i){if(t===i)try{d[0]!==e.activeElement&&d.val(o.sSearch)}catch(s){}}),n[0]}function G(t,e,i){var s=t.oPreviousSearch,a=t.aoPreSearchCols,o=function(t){s.sSearch=t.sSearch,s.bRegex=t.bRegex,s.bSmart=t.bSmart,s.bCaseInsensitive=t.bCaseInsensitive};if(y(t),"ssp"!=Bt(t)){for(Z(t,e.sSearch,i,e.bEscapeRegex!==n?!e.bEscapeRegex:e.bRegex,e.bSmart,e.bCaseInsensitive),o(e),e=0;e<a.length;e++)K(t,a[e].sSearch,e,a[e].bEscapeRegex!==n?!a[e].bEscapeRegex:a[e].bRegex,a[e].bSmart,a[e].bCaseInsensitive);q(t)}else o(e);t.bFiltered=!0,Yt(t,null,"search",[t])}function q(t){for(var e,n,i=Vt.ext.search,s=t.aiDisplay,a=0,o=i.length;o>a;a++){for(var r=[],l=0,c=s.length;c>l;l++)n=s[l],e=t.aoData[n],i[a](t,e._aFilterData,n,e._aData,l)&&r.push(n);s.length=0,s.push.apply(s,r)}}function K(t,e,n,i,s,a){if(""!==e)for(var o=t.aiDisplay,i=X(e,i,s,a),s=o.length-1;s>=0;s--)e=t.aoData[o[s]]._aFilterData[n],i.test(e)||o.splice(s,1)}function Z(t,e,n,i,s,a){var o,i=X(e,i,s,a),s=t.oPreviousSearch.sSearch,a=t.aiDisplayMaster;if(0!==Vt.ext.search.length&&(n=!0),o=Q(t),0>=e.length)t.aiDisplay=a.slice();else for((o||n||s.length>e.length||0!==e.indexOf(s)||t.bSorted)&&(t.aiDisplay=a.slice()),e=t.aiDisplay,n=e.length-1;n>=0;n--)i.test(t.aoData[e[n]]._sFilterRow)||e.splice(n,1)}function X(t,e,n,s){return t=e?t:J(t),n&&(t="^(?=.*?"+i.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0))var e=t.match(/^"(.*)"$/),t=e?e[1]:t;return t.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,s?"i":"")}function J(t){return t.replace(ne,"\\$1")}function Q(t){var e,n,i,s,a,o,r,l,c=t.aoColumns,d=Vt.ext.type.search;for(e=!1,n=0,s=t.aoData.length;s>n;n++)if(l=t.aoData[n],!l._aFilterData){for(o=[],i=0,a=c.length;a>i;i++)e=c[i],e.bSearchable?(r=D(t,n,i,"filter"),d[e.sType]&&(r=d[e.sType](r)),null===r&&(r=""),"string"!=typeof r&&r.toString&&(r=r.toString())):r="",r.indexOf&&-1!==r.indexOf("&")&&(ve.innerHTML=r,r=ye?ve.textContent:ve.innerText),r.replace&&(r=r.replace(/[\r\n]/g,"")),o.push(r);l._aFilterData=o,l._sFilterRow=o.join("  "),e=!0}return e}function tt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function et(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function nt(t){var e=t.sTableId,n=t.aanFeatures.i,s=i("<div/>",{"class":t.oClasses.sInfo,id:n?null:e+"_info"});return n||(t.aoDrawCallback.push({fn:it,sName:"information"}),s.attr("role","status").attr("aria-live","polite"),i(t.nTable).attr("aria-describedby",e+"_info")),s[0]}function it(t){var e=t.aanFeatures.i;if(0!==e.length){var n=t.oLanguage,s=t._iDisplayStart+1,a=t.fnDisplayEnd(),o=t.fnRecordsTotal(),r=t.fnRecordsDisplay(),l=r?n.sInfo:n.sInfoEmpty;r!==o&&(l+=" "+n.sInfoFiltered),l+=n.sInfoPostFix,l=st(t,l),n=n.fnInfoCallback,null!==n&&(l=n.call(t.oInstance,t,s,a,o,r,l)),i(e).html(l)}}function st(t,e){var n=t.fnFormatNumber,i=t._iDisplayStart+1,s=t._iDisplayLength,a=t.fnRecordsDisplay(),o=-1===s;return e.replace(/_START_/g,n.call(t,i)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,a)).replace(/_PAGE_/g,n.call(t,o?1:Math.ceil(i/s))).replace(/_PAGES_/g,n.call(t,o?1:Math.ceil(a/s)))}function at(t){var e,n,i,s=t.iInitDisplayStart,a=t.aoColumns;if(n=t.oFeatures,t.bInitialised){for(F(t),I(t),L(t,t.aoHeader),L(t,t.aoFooter),ht(t,!0),n.bAutoWidth&&gt(t),e=0,n=a.length;n>e;e++)i=a[e],i.sWidth&&(i.nTh.style.width=Dt(i.sWidth));P(t),a=Bt(t),"ssp"!=a&&("ajax"==a?U(t,[],function(n){var i=z(t,n);for(e=0;e<i.length;e++)w(t,i[e]);t.iInitDisplayStart=s,P(t),ht(t,!1),ot(t,n)},t):(ht(t,!1),ot(t)))}else setTimeout(function(){at(t)},200)}function ot(t,e){t._bInitComplete=!0,e&&f(t),Yt(t,"aoInitComplete","init",[t,e])}function rt(t,e){var n=parseInt(e,10);t._iDisplayLength=n,$t(t),Yt(t,null,"length",[t,n])}function lt(t){for(var e=t.oClasses,n=t.sTableId,s=t.aLengthMenu,a=i.isArray(s[0]),o=a?s[0]:s,s=a?s[1]:s,a=i("<select/>",{name:n+"_length","aria-controls":n,"class":e.sLengthSelect}),r=0,l=o.length;l>r;r++)a[0][r]=new Option(s[r],o[r]);var c=i("<div><label/></div>").addClass(e.sLength);return t.aanFeatures.l||(c[0].id=n+"_length"),c.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",a[0].outerHTML)),i("select",c).val(t._iDisplayLength).bind("change.DT",function(){rt(t,i(this).val()),H(t)}),i(t.nTable).bind("length.dt.DT",function(e,n,s){t===n&&i("select",c).val(s)}),c[0]}function ct(t){var e=t.sPaginationType,n=Vt.ext.pager[e],s="function"==typeof n,a=function(t){H(t)},e=i("<div/>").addClass(t.oClasses.sPaging+e)[0],o=t.aanFeatures;return s||n.fnInit(t,e,a),o.p||(e.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(t){if(s){var e,i=t._iDisplayStart,r=t._iDisplayLength,l=t.fnRecordsDisplay(),c=-1===r,i=c?0:Math.ceil(i/r),r=c?1:Math.ceil(l/r),l=n(i,r),c=0;for(e=o.p.length;e>c;c++)Ut(t,"pageButton")(t,o.p[c],c,l,i,r)}else n.fnUpdate(t,a)},sName:"pagination"})),e}function dt(t,e,n){var i=t._iDisplayStart,s=t._iDisplayLength,a=t.fnRecordsDisplay();return 0===a||-1===s?i=0:"number"==typeof e?(i=e*s,i>a&&(i=0)):"first"==e?i=0:"previous"==e?(i=s>=0?i-s:0,0>i&&(i=0)):"next"==e?a>i+s&&(i+=s):"last"==e?i=Math.floor((a-1)/s)*s:It(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==i,t._iDisplayStart=i,e&&(Yt(t,null,"page",[t]),n&&H(t)),e}function ut(t){return i("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing","class":t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function ht(t,e){t.oFeatures.bProcessing&&i(t.aanFeatures.r).css("display",e?"block":"none"),Yt(t,null,"processing",[t,e])}function ft(t){var e=i(t.nTable);e.attr("role","grid");var n=t.oScroll;if(""===n.sX&&""===n.sY)return t.nTable;var s=n.sX,a=n.sY,o=t.oClasses,r=e.children("caption"),l=r.length?r[0]._captionSide:null,c=i(e[0].cloneNode(!1)),d=i(e[0].cloneNode(!1)),u=e.children("tfoot");n.sX&&"100%"===e.attr("width")&&e.removeAttr("width"),u.length||(u=null),n=i("<div/>",{"class":o.sScrollWrapper}).append(i("<div/>",{"class":o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:s?s?Dt(s):null:"100%"}).append(i("<div/>",{"class":o.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?r:null).append(e.children("thead"))))).append(i("<div/>",{"class":o.sScrollBody}).css({overflow:"auto",height:a?Dt(a):null,width:s?Dt(s):null}).append(e)),u&&n.append(i("<div/>",{"class":o.sScrollFoot}).css({overflow:"hidden",border:0,width:s?s?Dt(s):null:"100%"}).append(i("<div/>",{"class":o.sScrollFootInner}).append(d.removeAttr("id").css("margin-left",0).append("bottom"===l?r:null).append(e.children("tfoot")))));var e=n.children(),h=e[0],o=e[1],f=u?e[2]:null;return s&&i(o).on("scroll.DT",function(){var t=this.scrollLeft;h.scrollLeft=t,u&&(f.scrollLeft=t)}),t.nScrollHead=h,t.nScrollBody=o,t.nScrollFoot=f,t.aoDrawCallback.push({fn:pt,sName:"scrolling"}),n[0]}function pt(t){var e,n,s,a,o,r,l=t.oScroll,c=l.sX,d=l.sXInner,u=l.sY,h=l.iBarWidth,f=i(t.nScrollHead),m=f[0].style,g=f.children("div"),v=g[0].style,y=g.children("table"),g=t.nScrollBody,b=i(g),w=g.style,C=i(t.nScrollFoot).children("div"),D=C.children("table"),S=i(t.nTHead),x=i(t.nTable),_=x[0],T=_.style,E=t.nTFoot?i(t.nTFoot):null,k=t.oBrowser,N=k.bScrollOversize,M=[],R=[],A=[],O=function(t){t=t.style,t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};x.children("thead, tfoot").remove(),o=S.clone().prependTo(x),e=S.find("tr"),s=o.find("tr"),o.find("th, td").removeAttr("tabindex"),E&&(a=E.clone().prependTo(x),n=E.find("tr"),a=a.find("tr")),c||(w.width="100%",f[0].style.width="100%"),i.each($(t,o),function(e,n){r=p(t,e),n.style.width=t.aoColumns[r].sWidth}),E&&mt(function(t){t.style.width=""},a),l.bCollapse&&""!==u&&(w.height=b[0].offsetHeight+S[0].offsetHeight+"px"),f=x.outerWidth(),""===c?(T.width="100%",N&&(x.find("tbody").height()>g.offsetHeight||"scroll"==b.css("overflow-y"))&&(T.width=Dt(x.outerWidth()-h))):""!==d?T.width=Dt(d):f==b.width()&&b.height()<x.height()?(T.width=Dt(f-h),x.outerWidth()>f-h&&(T.width=Dt(f))):T.width=Dt(f),f=x.outerWidth(),mt(O,s),mt(function(t){A.push(t.innerHTML),M.push(Dt(i(t).css("width")))},s),mt(function(t,e){t.style.width=M[e]},e),i(s).height(0),E&&(mt(O,a),mt(function(t){R.push(Dt(i(t).css("width")))},a),mt(function(t,e){t.style.width=R[e]},n),i(a).height(0)),mt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+A[e]+"</div>",t.style.width=M[e]},s),E&&mt(function(t,e){t.innerHTML="",t.style.width=R[e]},a),x.outerWidth()<f?(n=g.scrollHeight>g.offsetHeight||"scroll"==b.css("overflow-y")?f+h:f,N&&(g.scrollHeight>g.offsetHeight||"scroll"==b.css("overflow-y"))&&(T.width=Dt(n-h)),(""===c||""!==d)&&It(t,1,"Possible column misalignment",6)):n="100%",w.width=Dt(n),m.width=Dt(n),E&&(t.nScrollFoot.style.width=Dt(n)),!u&&N&&(w.height=Dt(_.offsetHeight+h)),u&&l.bCollapse&&(w.height=Dt(u),l=c&&_.offsetWidth>g.offsetWidth?h:0,_.offsetHeight<g.offsetHeight&&(w.height=Dt(_.offsetHeight+l))),l=x.outerWidth(),y[0].style.width=Dt(l),v.width=Dt(l),y=x.height()>g.clientHeight||"scroll"==b.css("overflow-y"),k="padding"+(k.bScrollbarLeft?"Left":"Right"),v[k]=y?h+"px":"0px",E&&(D[0].style.width=Dt(l),C[0].style.width=Dt(l),C[0].style[k]=y?h+"px":"0px"),b.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(g.scrollTop=0);

}function mt(t,e,n){for(var i,s,a=0,o=0,r=e.length;r>o;){for(i=e[o].firstChild,s=n?n[o].firstChild:null;i;)1===i.nodeType&&(n?t(i,s,a):t(i,a),a++),i=i.nextSibling,s=n?s.nextSibling:null;o++}}function gt(e){var n,s,a=e.nTable,o=e.aoColumns,r=e.oScroll,l=r.sY,c=r.sX,d=r.sXInner,u=o.length,r=v(e,"bVisible"),h=i("th",e.nTHead),p=a.getAttribute("width"),m=a.parentNode,y=!1;for((n=a.style.width)&&-1!==n.indexOf("%")&&(p=n),n=0;n<r.length;n++)s=o[r[n]],null!==s.sWidth&&(s.sWidth=yt(s.sWidthOrig,m),y=!0);if(y||c||l||u!=g(e)||u!=h.length){u=i(a).clone().css("visibility","hidden").removeAttr("id"),u.find("tbody tr").remove();var b=i("<tr/>").appendTo(u.find("tbody"));for(u.find("tfoot th, tfoot td").css("width",""),h=$(e,u.find("thead")[0]),n=0;n<r.length;n++)s=o[r[n]],h[n].style.width=null!==s.sWidthOrig&&""!==s.sWidthOrig?Dt(s.sWidthOrig):"";if(e.aoData.length)for(n=0;n<r.length;n++)y=r[n],s=o[y],i(wt(e,y)).clone(!1).append(s.sContentPadding).appendTo(b);if(u.appendTo(m),c&&d?u.width(d):c?(u.css("width","auto"),u.width()<m.offsetWidth&&u.width(m.offsetWidth)):l?u.width(m.offsetWidth):p&&u.width(p),bt(e,u[0]),c){for(n=d=0;n<r.length;n++)s=o[r[n]],l=i(h[n]).outerWidth(),d+=null===s.sWidthOrig?l:parseInt(s.sWidth,10)+l-i(h[n]).width();u.width(Dt(d)),a.style.width=Dt(d)}for(n=0;n<r.length;n++)s=o[r[n]],(l=i(h[n]).width())&&(s.sWidth=Dt(l));a.style.width=Dt(u.css("width")),u.remove()}else for(n=0;u>n;n++)o[n].sWidth=Dt(h.eq(n).width());p&&(a.style.width=Dt(p)),!p&&!c||e._reszEvt||(a=function(){i(t).bind("resize.DT-"+e.sInstance,vt(function(){f(e)}))},e.oBrowser.bScrollOversize?setTimeout(a,1e3):a(),e._reszEvt=!0)}function vt(t,e){var i,s,a=e!==n?e:200;return function(){var e=this,o=+new Date,r=arguments;i&&i+a>o?(clearTimeout(s),s=setTimeout(function(){i=n,t.apply(e,r)},a)):(i=o,t.apply(e,r))}}function yt(t,n){if(!t)return 0;var s=i("<div/>").css("width",Dt(t)).appendTo(n||e.body),a=s[0].offsetWidth;return s.remove(),a}function bt(t,e){var n=t.oScroll;(n.sX||n.sY)&&(n=n.sX?0:n.iBarWidth,e.style.width=Dt(i(e).outerWidth()-n))}function wt(t,e){var n=Ct(t,e);if(0>n)return null;var s=t.aoData[n];return s.nTr?s.anCells[e]:i("<td/>").html(D(t,n,e,"display"))[0]}function Ct(t,e){for(var n,i=-1,s=-1,a=0,o=t.aoData.length;o>a;a++)n=D(t,a,e,"display")+"",n=n.replace(be,""),n.length>i&&(i=n.length,s=a);return s}function Dt(t){return null===t?"0px":"number"==typeof t?0>t?"0px":t+"px":t.match(/\d$/)?t+"px":t}function St(){var t=Vt.__scrollbarWidth;if(t===n){var e=i("<p/>").css({position:"absolute",top:0,left:0,width:"100%",height:150,padding:0,overflow:"scroll",visibility:"hidden"}).appendTo("body"),t=e[0].offsetWidth-e[0].clientWidth;Vt.__scrollbarWidth=t,e.remove()}return t}function xt(t){var e,s,a,o,r,l,c=[],d=t.aoColumns;e=t.aaSortingFixed,s=i.isPlainObject(e);var u=[];for(a=function(t){t.length&&!i.isArray(t[0])?u.push(t):u.push.apply(u,t)},i.isArray(e)&&a(e),s&&e.pre&&a(e.pre),a(t.aaSorting),s&&e.post&&a(e.post),t=0;t<u.length;t++)for(l=u[t][0],a=d[l].aDataSort,e=0,s=a.length;s>e;e++)o=a[e],r=d[o].sType||"string",u[t]._idx===n&&(u[t]._idx=i.inArray(u[t][1],d[o].asSorting)),c.push({src:l,col:o,dir:u[t][1],index:u[t]._idx,type:r,formatter:Vt.ext.type.order[r+"-pre"]});return c}function _t(t){var e,n,i,s,a=[],o=Vt.ext.type.order,r=t.aoData,l=0,c=t.aiDisplayMaster;for(y(t),s=xt(t),e=0,n=s.length;n>e;e++)i=s[e],i.formatter&&l++,Mt(t,i.col);if("ssp"!=Bt(t)&&0!==s.length){for(e=0,n=c.length;n>e;e++)a[c[e]]=e;c.sort(l===s.length?function(t,e){var n,i,o,l,c=s.length,d=r[t]._aSortData,u=r[e]._aSortData;for(o=0;c>o;o++)if(l=s[o],n=d[l.col],i=u[l.col],n=i>n?-1:n>i?1:0,0!==n)return"asc"===l.dir?n:-n;return n=a[t],i=a[e],i>n?-1:n>i?1:0}:function(t,e){var n,i,l,c,d=s.length,u=r[t]._aSortData,h=r[e]._aSortData;for(l=0;d>l;l++)if(c=s[l],n=u[c.col],i=h[c.col],c=o[c.type+"-"+c.dir]||o["string-"+c.dir],n=c(n,i),0!==n)return n;return n=a[t],i=a[e],i>n?-1:n>i?1:0})}t.bSorted=!0}function Tt(t){for(var e,n,i=t.aoColumns,s=xt(t),t=t.oLanguage.oAria,a=0,o=i.length;o>a;a++){n=i[a];var r=n.asSorting;e=n.sTitle.replace(/<.*?>/g,"");var l=n.nTh;l.removeAttribute("aria-sort"),n.bSortable&&(0<s.length&&s[0].col==a?(l.setAttribute("aria-sort","asc"==s[0].dir?"ascending":"descending"),n=r[s[0].index+1]||r[0]):n=r[0],e+="asc"===n?t.sSortAscending:t.sSortDescending),l.setAttribute("aria-label",e)}}function Et(t,e,s,a){var o=t.aaSorting,r=t.aoColumns[e].asSorting,l=function(t,e){var s=t._idx;return s===n&&(s=i.inArray(t[1],r)),s+1<r.length?s+1:e?null:0};"number"==typeof o[0]&&(o=t.aaSorting=[o]),s&&t.oFeatures.bSortMulti?(s=i.inArray(e,ce(o,"0")),-1!==s?(e=l(o[s],!0),null===e&&1===o.length&&(e=0),null===e?o.splice(s,1):(o[s][1]=r[e],o[s]._idx=e)):(o.push([e,r[0],0]),o[o.length-1]._idx=0)):o.length&&o[0][0]==e?(e=l(o[0]),o.length=1,o[0][1]=r[e],o[0]._idx=e):(o.length=0,o.push([e,r[0]]),o[0]._idx=0),P(t),"function"==typeof a&&a(t)}function kt(t,e,n,i){var s=t.aoColumns[n];Pt(e,{},function(e){!1!==s.bSortable&&(t.oFeatures.bProcessing?(ht(t,!0),setTimeout(function(){Et(t,n,e.shiftKey,i),"ssp"!==Bt(t)&&ht(t,!1)},0)):Et(t,n,e.shiftKey,i))})}function Nt(t){var e,n,s=t.aLastSort,a=t.oClasses.sSortColumn,o=xt(t),r=t.oFeatures;if(r.bSort&&r.bSortClasses){for(r=0,e=s.length;e>r;r++)n=s[r].src,i(ce(t.aoData,"anCells",n)).removeClass(a+(2>r?r+1:3));for(r=0,e=o.length;e>r;r++)n=o[r].src,i(ce(t.aoData,"anCells",n)).addClass(a+(2>r?r+1:3))}t.aLastSort=o}function Mt(t,e){var n,i=t.aoColumns[e],s=Vt.ext.order[i.sSortDataType];s&&(n=s.call(t.oInstance,t,e,m(t,e)));for(var a,o=Vt.ext.type.order[i.sType+"-pre"],r=0,l=t.aoData.length;l>r;r++)i=t.aoData[r],i._aSortData||(i._aSortData=[]),(!i._aSortData[e]||s)&&(a=s?n[r]:D(t,r,e,"sort"),i._aSortData[e]=o?o(a):a)}function Rt(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var e={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:i.extend(!0,[],t.aaSorting),search:tt(t.oPreviousSearch),columns:i.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:tt(t.aoPreSearchCols[n])}})};Yt(t,"aoStateSaveParams","stateSaveParams",[t,e]),t.oSavedState=e,t.fnStateSaveCallback.call(t.oInstance,t,e)}}function At(t){var e,s,a=t.aoColumns;if(t.oFeatures.bStateSave){var o=t.fnStateLoadCallback.call(t.oInstance,t);if(o&&o.time&&(e=Yt(t,"aoStateLoadParams","stateLoadParams",[t,o]),-1===i.inArray(!1,e)&&(e=t.iStateDuration,!(e>0&&o.time<+new Date-1e3*e)&&a.length===o.columns.length))){for(t.oLoadedState=i.extend(!0,{},o),o.start!==n&&(t._iDisplayStart=o.start,t.iInitDisplayStart=o.start),o.length!==n&&(t._iDisplayLength=o.length),o.order!==n&&(t.aaSorting=[],i.each(o.order,function(e,n){t.aaSorting.push(n[0]>=a.length?[0,n[1]]:n)})),o.search!==n&&i.extend(t.oPreviousSearch,et(o.search)),e=0,s=o.columns.length;s>e;e++){var r=o.columns[e];r.visible!==n&&(a[e].bVisible=r.visible),r.search!==n&&i.extend(t.aoPreSearchCols[e],et(r.search))}Yt(t,"aoStateLoaded","stateLoaded",[t,o])}}}function Ot(t){var e=Vt.settings,t=i.inArray(t,ce(e,"nTable"));return-1!==t?e[t]:null}function It(e,n,i,s){if(i="DataTables warning: "+(null!==e?"table id="+e.sTableId+" - ":"")+i,s&&(i+=". For more information about this error, please see http://datatables.net/tn/"+s),n)t.console&&console.log&&console.log(i);else if(n=Vt.ext,n=n.sErrMode||n.errMode,Yt(e,null,"error",[e,s,i]),"alert"==n)alert(i);else{if("throw"==n)throw Error(i);"function"==typeof n&&n(e,s,i)}}function Lt(t,e,s,a){i.isArray(s)?i.each(s,function(n,s){i.isArray(s)?Lt(t,e,s[0],s[1]):Lt(t,e,s)}):(a===n&&(a=s),e[s]!==n&&(t[a]=e[s]))}function Ht(t,e,n){var s,a;for(a in e)e.hasOwnProperty(a)&&(s=e[a],i.isPlainObject(s)?(i.isPlainObject(t[a])||(t[a]={}),i.extend(!0,t[a],s)):t[a]=n&&"data"!==a&&"aaData"!==a&&i.isArray(s)?s.slice():s);return t}function Pt(t,e,n){i(t).bind("click.DT",e,function(e){t.blur(),n(e)}).bind("keypress.DT",e,function(t){13===t.which&&(t.preventDefault(),n(t))}).bind("selectstart.DT",function(){return!1})}function Ft(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function Yt(t,e,n,s){var a=[];return e&&(a=i.map(t[e].slice().reverse(),function(e){return e.fn.apply(t.oInstance,s)})),null!==n&&(e=i.Event(n+".dt"),i(t.nTable).trigger(e,s),a.push(e.result)),a}function $t(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;e>=n&&(e=n-i),e-=e%i,(-1===i||0>e)&&(e=0),t._iDisplayStart=e}function Ut(t,e){var n=t.renderer,s=Vt.ext.renderer[e];return i.isPlainObject(n)&&n[e]?s[n[e]]||s._:"string"==typeof n?s[n]||s._:s._}function Bt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Wt(t,e){var n=[],n=He.numbers_length,i=Math.floor(n/2);return n>=e?n=ue(0,e):i>=t?(n=ue(0,n-2),n.push("ellipsis"),n.push(e-1)):(t>=e-1-i?n=ue(e-(n-2),e):(n=ue(t-i+2,t+i-1),n.push("ellipsis"),n.push(e-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function jt(t){i.each({num:function(e){return Pe(e,t)},"num-fmt":function(e){return Pe(e,t,ie)},"html-num":function(e){return Pe(e,t,Qt)},"html-num-fmt":function(e){return Pe(e,t,Qt,ie)}},function(e,n){Gt.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(Gt.type.search[e+t]=Gt.type.search.html)})}function zt(t){return function(){var e=[Ot(this[Vt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Vt.ext.internal[t].apply(this,e)}}var Vt,Gt,qt,Kt,Zt,Xt={},Jt=/[\r\n]/g,Qt=/<.*?>/g,te=/^[\w\+\-]/,ee=/[\w\+\-]$/,ne=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),ie=/[',$\u00a3\u20ac\u00a5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,se=function(t){return t&&!0!==t&&"-"!==t?!1:!0},ae=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},oe=function(t,e){return Xt[e]||(Xt[e]=RegExp(J(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Xt[e],"."):t},re=function(t,e,n){var i="string"==typeof t;return se(t)?!0:(e&&i&&(t=oe(t,e)),n&&i&&(t=t.replace(ie,"")),!isNaN(parseFloat(t))&&isFinite(t))},le=function(t,e,n){return se(t)?!0:(se(t)||"string"==typeof t)&&re(t.replace(Qt,""),e,n)?!0:null},ce=function(t,e,i){var s=[],a=0,o=t.length;if(i!==n)for(;o>a;a++)t[a]&&t[a][e]&&s.push(t[a][e][i]);else for(;o>a;a++)t[a]&&s.push(t[a][e]);return s},de=function(t,e,i,s){var a=[],o=0,r=e.length;if(s!==n)for(;r>o;o++)t[e[o]][i]&&a.push(t[e[o]][i][s]);else for(;r>o;o++)a.push(t[e[o]][i]);return a},ue=function(t,e){var i,s=[];e===n?(e=0,i=t):(i=e,e=t);for(var a=e;i>a;a++)s.push(a);return s},he=function(t){for(var e=[],n=0,i=t.length;i>n;n++)t[n]&&e.push(t[n]);return e},fe=function(t){var e,n,i,s=[],a=t.length,o=0;n=0;t:for(;a>n;n++){for(e=t[n],i=0;o>i;i++)if(s[i]===e)continue t;s.push(e),o++}return s},pe=function(t,e,i){t[e]!==n&&(t[i]=t[e])},me=/\[.*?\]$/,ge=/\(\)$/,ve=i("<div>")[0],ye=ve.textContent!==n,be=/<.*?>/g;Vt=function(t){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new qt(t?Ot(this[Gt.iApiIndex]):this)},this.fnAddData=function(t,e){var s=this.api(!0),a=i.isArray(t)&&(i.isArray(t[0])||i.isPlainObject(t[0]))?s.rows.add(t):s.row.add(t);return(e===n||e)&&s.draw(),a.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],s=i.oScroll;t===n||t?e.draw(!1):(""!==s.sX||""!==s.sY)&&pt(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===n||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var s=this.api(!0),t=s.rows(t),a=t.settings()[0],o=a.aoData[t[0][0]];return t.remove(),e&&e.call(this,a,o),(i===n||i)&&s.draw(),o},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,s,a,o){a=this.api(!0),null===e||e===n?a.search(t,i,s,o):a.column(e).search(t,i,s,o),a.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t!==n){var s=t.nodeName?t.nodeName.toLowerCase():"";return e!==n||"td"==s||"th"==s?i.cell(t,e).data():i.row(t).data()||null}return i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==n?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();return"TR"==n?e.row(t).index():"TD"==n||"TH"==n?(t=e.cell(t).index(),[t.row,t.columnVisible,t.column]):null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===n||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){t=this.api(!0).column(t).visible(e),(i===n||i)&&t.columns.adjust().draw()},this.fnSettings=function(){return Ot(this[Gt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,i,s,a){var o=this.api(!0);return i===n||null===i?o.row(e).data(t):o.cell(e,i).data(t),(a===n||a)&&o.columns.adjust(),(s===n||s)&&o.draw(),0},this.fnVersionCheck=Gt.fnVersionCheck;var e=this,s=t===n,d=this.length;s&&(t={}),this.oApi=this.internal=Gt.internal;for(var f in Vt.ext.internal)f&&(this[f]=zt(f));return this.each(function(){var f,p={},p=d>1?Ht(p,t,!0):t,m=0,g=this.getAttribute("id"),v=!1,y=Vt.defaults,D=i(this);if("table"!=this.nodeName.toLowerCase())It(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{r(y),l(y.column),a(y,y,!0),a(y.column,y.column,!0),a(y,i.extend(p,D.data()));var S=Vt.settings,m=0;for(f=S.length;f>m;m++){var x=S[m];if(x.nTable==this||x.nTHead.parentNode==this||x.nTFoot&&x.nTFoot.parentNode==this){if(m=p.bRetrieve!==n?p.bRetrieve:y.bRetrieve,s||m)return x.oInstance;if(p.bDestroy!==n?p.bDestroy:y.bDestroy){x.oInstance.fnDestroy();break}return void It(x,0,"Cannot reinitialise DataTable",3)}if(x.sTableId==this.id){S.splice(m,1);break}}(null===g||""===g)&&(this.id=g="DataTables_Table_"+Vt.ext._unique++);var _=i.extend(!0,{},Vt.models.oSettings,{sDestroyWidth:D[0].style.width,sInstance:g,sTableId:g});_.nTable=this,_.oApi=e.internal,_.oInit=p,S.push(_),_.oInstance=1===e.length?e:D.dataTable(),r(p),p.oLanguage&&o(p.oLanguage),p.aLengthMenu&&!p.iDisplayLength&&(p.iDisplayLength=i.isArray(p.aLengthMenu[0])?p.aLengthMenu[0][0]:p.aLengthMenu[0]),p=Ht(i.extend(!0,{},y),p),Lt(_.oFeatures,p,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Lt(_,p,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Lt(_.oScroll,p,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Lt(_.oLanguage,p,"fnInfoCallback"),Ft(_,"aoDrawCallback",p.fnDrawCallback,"user"),Ft(_,"aoServerParams",p.fnServerParams,"user"),Ft(_,"aoStateSaveParams",p.fnStateSaveParams,"user"),Ft(_,"aoStateLoadParams",p.fnStateLoadParams,"user"),Ft(_,"aoStateLoaded",p.fnStateLoaded,"user"),Ft(_,"aoRowCallback",p.fnRowCallback,"user"),Ft(_,"aoRowCreatedCallback",p.fnCreatedRow,"user"),Ft(_,"aoHeaderCallback",p.fnHeaderCallback,"user"),Ft(_,"aoFooterCallback",p.fnFooterCallback,"user"),Ft(_,"aoInitComplete",p.fnInitComplete,"user"),Ft(_,"aoPreDrawCallback",p.fnPreDrawCallback,"user"),g=_.oClasses,p.bJQueryUI?(i.extend(g,Vt.ext.oJUIClasses,p.oClasses),p.sDom===y.sDom&&"lfrtip"===y.sDom&&(_.sDom='<"H"lfr>t<"F"ip>'),_.renderer?i.isPlainObject(_.renderer)&&!_.renderer.header&&(_.renderer.header="jqueryui"):_.renderer="jqueryui"):i.extend(g,Vt.ext.classes,p.oClasses),D.addClass(g.sTable),(""!==_.oScroll.sX||""!==_.oScroll.sY)&&(_.oScroll.iBarWidth=St()),!0===_.oScroll.sX&&(_.oScroll.sX="100%"),_.iInitDisplayStart===n&&(_.iInitDisplayStart=p.iDisplayStart,_._iDisplayStart=p.iDisplayStart),null!==p.iDeferLoading&&(_.bDeferLoading=!0,m=i.isArray(p.iDeferLoading),_._iRecordsDisplay=m?p.iDeferLoading[0]:p.iDeferLoading,_._iRecordsTotal=m?p.iDeferLoading[1]:p.iDeferLoading);var T=_.oLanguage;i.extend(!0,T,p.oLanguage),""!==T.sUrl&&(i.ajax({dataType:"json",url:T.sUrl,success:function(t){o(t),a(y.oLanguage,t),i.extend(!0,T,t),at(_)},error:function(){at(_)}}),v=!0),null===p.asStripeClasses&&(_.asStripeClasses=[g.sStripeOdd,g.sStripeEven]);var m=_.asStripeClasses,E=D.children("tbody").find("tr").eq(0);if(-1!==i.inArray(!0,i.map(m,function(t){return E.hasClass(t)}))&&(i("tbody tr",this).removeClass(m.join(" ")),_.asDestroyStripes=m.slice()),S=[],m=this.getElementsByTagName("thead"),0!==m.length&&(Y(_.aoHeader,m[0]),S=$(_)),null===p.aoColumns)for(x=[],m=0,f=S.length;f>m;m++)x.push(null);else x=p.aoColumns;for(m=0,f=x.length;f>m;m++)u(_,S?S[m]:null);if(b(_,p.aoColumnDefs,x,function(t,e){h(_,t,e)}),E.length){var k=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};i.each(R(_,E[0]).cells,function(t,e){var i=_.aoColumns[t];if(i.mData===t){var s=k(e,"sort")||k(e,"order"),a=k(e,"filter")||k(e,"search");(null!==s||null!==a)&&(i.mData={_:t+".display",sort:null!==s?t+".@data-"+s:n,type:null!==s?t+".@data-"+s:n,filter:null!==a?t+".@data-"+a:n},h(_,t))}})}var N=_.oFeatures;if(p.bStateSave&&(N.bStateSave=!0,At(_,p),Ft(_,"aoDrawCallback",Rt,"state_save")),p.aaSorting===n)for(S=_.aaSorting,m=0,f=S.length;f>m;m++)S[m][1]=_.aoColumns[m].asSorting[0];if(Nt(_),N.bSort&&Ft(_,"aoDrawCallback",function(){if(_.bSorted){var t=xt(_),e={};i.each(t,function(t,n){e[n.src]=n.dir}),Yt(_,null,"order",[_,t,e]),Tt(_)}}),Ft(_,"aoDrawCallback",function(){(_.bSorted||"ssp"===Bt(_)||N.bDeferRender)&&Nt(_)},"sc"),c(_),m=D.children("caption").each(function(){this._captionSide=D.css("caption-side")}),f=D.children("thead"),0===f.length&&(f=i("<thead/>").appendTo(this)),_.nTHead=f[0],f=D.children("tbody"),0===f.length&&(f=i("<tbody/>").appendTo(this)),_.nTBody=f[0],f=D.children("tfoot"),0===f.length&&0<m.length&&(""!==_.oScroll.sX||""!==_.oScroll.sY)&&(f=i("<tfoot/>").appendTo(this)),0===f.length||0===f.children().length?D.addClass(g.sNoFooter):0<f.length&&(_.nTFoot=f[0],Y(_.aoFooter,_.nTFoot)),p.aaData)for(m=0;m<p.aaData.length;m++)w(_,p.aaData[m]);else(_.bDeferLoading||"dom"==Bt(_))&&C(_,i(_.nTBody).children("tr"));_.aiDisplay=_.aiDisplayMaster.slice(),_.bInitialised=!0,!1===v&&at(_)}}),e=null,this};var we=[],Ce=Array.prototype,De=function(t){var e,n,s=Vt.settings,a=i.map(s,function(t){return t.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?(e=i.inArray(t,a),-1!==e?[s[e]]:null):t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?n=i(t):t instanceof i&&(n=t),n?n.map(function(){return e=i.inArray(this,a),-1!==e?s[e]:null}).toArray():void 0):[]};qt=function(t,e){if(!(this instanceof qt))return new qt(t,e);var n=[],s=function(t){(t=De(t))&&n.push.apply(n,t)};if(i.isArray(t))for(var a=0,o=t.length;o>a;a++)s(t[a]);else s(t);this.context=fe(n),e&&this.push.apply(this,e.toArray?e.toArray():e),this.selector={rows:null,cols:null,opts:null},qt.extend(this,this,we)},Vt.Api=qt,qt.prototype={any:function(){return 0!==this.flatten().length},concat:Ce.concat,context:[],each:function(t){for(var e=0,n=this.length;n>e;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new qt(e[t],this[t]):null},filter:function(t){var e=[];if(Ce.filter)e=Ce.filter.call(this,t,this);else for(var n=0,i=this.length;i>n;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new qt(this.context,e)},flatten:function(){var t=[];return new qt(this.context,t.concat.apply(t,this.toArray()))},join:Ce.join,indexOf:Ce.indexOf||function(t,e){for(var n=e||0,i=this.length;i>n;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,i,s){var a,o,r,l,c,d,u,h=[],f=this.context,p=this.selector;for("string"==typeof t&&(s=i,i=e,e=t,t=!1),o=0,r=f.length;r>o;o++){var m=new qt(f[o]);if("table"===e)a=i.call(m,f[o],o),a!==n&&h.push(a);else if("columns"===e||"rows"===e)a=i.call(m,f[o],this[o],o),a!==n&&h.push(a);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(u=this[o],"column-rows"===e&&(d=Ee(f[o],p.opts)),l=0,c=u.length;c>l;l++)a=u[l],a="cell"===e?i.call(m,f[o],a.row,a.column,o,l):i.call(m,f[o],a,o,l,d),a!==n&&h.push(a)}return h.length||s?(t=new qt(f,t?h.concat.apply([],h):h),e=t.selector,e.rows=p.rows,e.cols=p.cols,e.opts=p.opts,t):this},lastIndexOf:Ce.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(Ce.map)e=Ce.map.call(this,t,this);else for(var n=0,i=this.length;i>n;n++)e.push(t.call(this,this[n],n));return new qt(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:Ce.pop,push:Ce.push,reduce:Ce.reduce||function(t,e){return d(this,t,e,0,this.length,1)},reduceRight:Ce.reduceRight||function(t,e){return d(this,t,e,this.length-1,-1,-1)},reverse:Ce.reverse,selector:null,shift:Ce.shift,sort:Ce.sort,splice:Ce.splice,toArray:function(){return Ce.slice.call(this)},to$:function(){return i(this)},toJQuery:function(){return i(this)},unique:function(){return new qt(this.context,fe(this))},unshift:Ce.unshift},qt.extend=function(t,e,n){if(n.length&&e&&(e instanceof qt||e.__dt_wrapper)){var s,a,o,r=function(t,e,n){return function(){var i=e.apply(t,arguments);return qt.extend(i,i,n.methodExt),i}};for(s=0,a=n.length;a>s;s++)o=n[s],e[o.name]="function"==typeof o.val?r(t,o.val,o):i.isPlainObject(o.val)?{}:o.val,e[o.name].__dt_wrapper=!0,qt.extend(t,e[o.name],o.propExt)}},qt.register=Kt=function(t,e){if(i.isArray(t))for(var n=0,s=t.length;s>n;n++)qt.register(t[n],e);else for(var a,o,r=t.split("."),l=we,n=0,s=r.length;s>n;n++){a=(o=-1!==r[n].indexOf("()"))?r[n].replace("()",""):r[n];var c;t:{c=0;for(var d=l.length;d>c;c++)if(l[c].name===a){c=l[c];break t}c=null}c||(c={name:a,val:{},methodExt:[],propExt:[]},l.push(c)),n===s-1?c.val=e:l=o?c.methodExt:c.propExt}},qt.registerPlural=Zt=function(t,e,s){qt.register(t,s),qt.register(e,function(){var t=s.apply(this,arguments);return t===this?this:t instanceof qt?t.length?i.isArray(t[0])?new qt(t.context,t[0]):t[0]:n:t})},Kt("tables()",function(t){var e;if(t){e=qt;var n=this.context;if("number"==typeof t)t=[n[t]];else var s=i.map(n,function(t){return t.nTable}),t=i(s).filter(t).map(function(){var t=i.inArray(this,s);return n[t]}).toArray();e=new e(t)}else e=this;return e}),Kt("table()",function(t){var t=this.tables(t),e=t.context;return e.length?new qt(e[0]):t}),Zt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Zt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Zt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Zt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Zt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Kt("draw()",function(t){return this.iterator("table",function(e){P(e,!1===t)})}),Kt("page()",function(t){return t===n?this.page.info().page:this.iterator("table",function(e){dt(e,t)})}),Kt("page.info()",function(){if(0===this.context.length)return n;var t=this.context[0],e=t._iDisplayStart,i=t._iDisplayLength,s=t.fnRecordsDisplay(),a=-1===i;return{page:a?0:Math.floor(e/i),pages:a?1:Math.ceil(s/i),start:e,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:s}}),Kt("page.len()",function(t){return t===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(e){rt(e,t)})});var Se=function(t,e,n){if(n){var i=new qt(t);i.one("draw",function(){n(i.ajax.json())})}"ssp"==Bt(t)?P(t,e):(ht(t,!0),U(t,[],function(n){k(t);for(var n=z(t,n),i=0,s=n.length;s>i;i++)w(t,n[i]);P(t,e),ht(t,!1)}))};Kt("ajax.json()",function(){var t=this.context;return 0<t.length?t[0].json:void 0}),Kt("ajax.params()",function(){var t=this.context;return 0<t.length?t[0].oAjaxData:void 0}),Kt("ajax.reload()",function(t,e){return this.iterator("table",function(n){Se(n,!1===e,t)})}),Kt("ajax.url()",function(t){var e=this.context;return t===n?0===e.length?n:(e=e[0],e.ajax?i.isPlainObject(e.ajax)?e.ajax.url:e.ajax:e.sAjaxSource):this.iterator("table",function(e){i.isPlainObject(e.ajax)?e.ajax.url=t:e.ajax=t})}),Kt("ajax.url().load()",function(t,e){return this.iterator("table",function(n){Se(n,!1===e,t)})});var xe=function(t,e,s,a,o){var r,l,c,d,u,h,f=[];for(c=typeof e,e&&"string"!==c&&"function"!==c&&e.length!==n||(e=[e]),c=0,d=e.length;d>c;c++)for(l=e[c]&&e[c].split?e[c].split(","):[e[c]],u=0,h=l.length;h>u;u++)(r=s("string"==typeof l[u]?i.trim(l[u]):l[u]))&&r.length&&f.push.apply(f,r);if(t=Gt.selector[t],t.length)for(c=0,d=t.length;d>c;c++)f=t[c](a,o,f);return f},_e=function(t){return t||(t={}),t.filter&&t.search===n&&(t.search=t.filter),i.extend({search:"none",order:"current",page:"all"},t)},Te=function(t){for(var e=0,n=t.length;n>e;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Ee=function(t,e){var n,s,a,o=[],r=t.aiDisplay;n=t.aiDisplayMaster;var l=e.search;if(s=e.order,a=e.page,"ssp"==Bt(t))return"removed"===l?[]:ue(0,n.length);if("current"==a)for(n=t._iDisplayStart,s=t.fnDisplayEnd();s>n;n++)o.push(r[n]);else if("current"==s||"applied"==s)o="none"==l?n.slice():"applied"==l?r.slice():i.map(n,function(t){return-1===i.inArray(t,r)?t:null});else if("index"==s||"original"==s)for(n=0,s=t.aoData.length;s>n;n++)"none"==l?o.push(n):(a=i.inArray(n,r),(-1===a&&"removed"==l||a>=0&&"applied"==l)&&o.push(n));return o};Kt("rows()",function(t,e){t===n?t="":i.isPlainObject(t)&&(e=t,t="");var e=_e(e),s=this.iterator("table",function(n){var s=e;return xe("row",t,function(t){var e=ae(t);if(null!==e&&!s)return[e];var a=Ee(n,s);return null!==e&&-1!==i.inArray(e,a)?[e]:t?"function"==typeof t?i.map(a,function(e){var i=n.aoData[e];return t(e,i._aData,i.nTr)?e:null}):(e=he(de(n.aoData,a,"nTr")),t.nodeName&&-1!==i.inArray(t,e)?[t._DT_RowIndex]:i(e).filter(t).map(function(){return this._DT_RowIndex}).toArray()):a},n,s)},1);return s.selector.rows=t,s.selector.opts=e,s}),Kt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||n},1)}),Kt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return de(t.aoData,e,"_aData")},1)}),Zt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,n){var i=e.aoData[n];return"search"===t?i._aFilterData:i._aSortData},1)}),Zt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,n){M(e,n,t)})}),Zt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Zt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,n,s){var a=e.aoData;a.splice(n,1);for(var o=0,r=a.length;r>o;o++)null!==a[o].nTr&&(a[o].nTr._DT_RowIndex=o);i.inArray(n,e.aiDisplay),N(e.aiDisplayMaster,n),N(e.aiDisplay,n),N(t[s],n,!1),$t(e)})}),Kt("rows.add()",function(t){var e=this.iterator("table",function(e){var n,i,s,a=[];for(i=0,s=t.length;s>i;i++)n=t[i],a.push(n.nodeName&&"TR"===n.nodeName.toUpperCase()?C(e,n)[0]:w(e,n));return a},1),n=this.rows(-1);return n.pop(),n.push.apply(n,e.toArray()),n}),Kt("row()",function(t,e){return Te(this.rows(t,e))}),Kt("row().data()",function(t){var e=this.context;return t===n?e.length&&this.length?e[0].aoData[this[0]]._aData:n:(e[0].aoData[this[0]]._aData=t,M(e[0],this[0],"data"),this)}),Kt("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),Kt("row.add()",function(t){t instanceof i&&t.length&&(t=t[0]);var e=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?C(e,t)[0]:w(e,t)});return this.row(e[0])});var ke=function(t,e){var i=t.context;i.length&&(i=i[0].aoData[e!==n?e:t[0]],i._details&&(i._details.remove(),i._detailsShow=n,i._details=n))},Ne=function(t,e){var n=t.context;if(n.length&&t.length){var i=n[0].aoData[t[0]];if(i._details){(i._detailsShow=e)?i._details.insertAfter(i.nTr):i._details.detach();var s=n[0],a=new qt(s),o=s.aoData;a.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<ce(o,"_details").length&&(a.on("draw.dt.DT_details",function(t,e){s===e&&a.rows({page:"current"}).eq(0).each(function(t){t=o[t],t._detailsShow&&t._details.insertAfter(t.nTr)})}),a.on("column-visibility.dt.DT_details",function(t,e){if(s===e)for(var n,i=g(e),a=0,r=o.length;r>a;a++)n=o[a],n._details&&n._details.children("td[colspan]").attr("colspan",i)}),a.on("destroy.dt.DT_details",function(t,e){if(s===e)for(var n=0,i=o.length;i>n;n++)o[n]._details&&ke(a,n)}))}}};Kt("row().child()",function(t,e){var s=this.context;if(t===n)return s.length&&this.length?s[0].aoData[this[0]]._details:n;if(!0===t)this.child.show();else if(!1===t)ke(this);else if(s.length&&this.length){var a=s[0],s=s[0].aoData[this[0]],o=[],r=function(t,e){if(i.isArray(t)||t instanceof i)for(var n=0,s=t.length;s>n;n++)r(t[n],e);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?o.push(t):(n=i("<tr><td/></tr>").addClass(e),i("td",n).addClass(e).html(t)[0].colSpan=g(a),o.push(n[0]))};r(t,e),s._details&&s._details.remove(),s._details=i(o),s._detailsShow&&s._details.insertAfter(s.nTr)}return this}),Kt(["row().child.show()","row().child().show()"],function(){return Ne(this,!0),this}),Kt(["row().child.hide()","row().child().hide()"],function(){return Ne(this,!1),this}),Kt(["row().child.remove()","row().child().remove()"],function(){return ke(this),this}),Kt("row().child.isShown()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]]._detailsShow||!1:!1});var Me=/^(.+):(name|visIdx|visible)$/,Re=function(t,e,n,i,s){for(var n=[],i=0,a=s.length;a>i;i++)n.push(D(t,s[i],e));return n};Kt("columns()",function(t,e){t===n?t="":i.isPlainObject(t)&&(e=t,t="");var e=_e(e),s=this.iterator("table",function(n){var s=t,a=e,o=n.aoColumns,r=ce(o,"sName"),l=ce(o,"nTh");return xe("column",s,function(t){var e=ae(t);if(""===t)return ue(o.length);if(null!==e)return[e>=0?e:o.length+e];if("function"==typeof t){var s=Ee(n,a);return i.map(o,function(e,i){return t(i,Re(n,i,0,0,s),l[i])?i:null})}var c="string"==typeof t?t.match(Me):"";if(!c)return i(l).filter(t).map(function(){return i.inArray(this,l)}).toArray();switch(c[2]){case"visIdx":case"visible":if(e=parseInt(c[1],10),0>e){var d=i.map(o,function(t,e){return t.bVisible?e:null});return[d[d.length+e]]}return[p(n,e)];case"name":return i.map(r,function(t,e){return t===c[1]?e:null})}},n,a)},1);return s.selector.cols=t,s.selector.opts=e,s}),Zt("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Zt("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Zt("columns().data()","column().data()",function(){return this.iterator("column-rows",Re,1)}),Zt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Zt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,n,i,s,a){return de(e.aoData,a,"search"===t?"_aFilterData":"_aSortData",n)},1)}),Zt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,i,s){return de(t.aoData,s,"anCells",e)},1)}),Zt("columns().visible()","column().visible()",function(t,e){return this.iterator("column",function(s,a){if(t===n)return s.aoColumns[a].bVisible;var o,r,l,c=s.aoColumns,d=c[a],u=s.aoData;if(t!==n&&d.bVisible!==t){if(t){var h=i.inArray(!0,ce(c,"bVisible"),a+1);for(o=0,r=u.length;r>o;o++)l=u[o].nTr,c=u[o].anCells,l&&l.insertBefore(c[a],c[h]||null)}else i(ce(s.aoData,"anCells",a)).detach();

d.bVisible=t,L(s,s.aoHeader),L(s,s.aoFooter),(e===n||e)&&(f(s),(s.oScroll.sX||s.oScroll.sY)&&pt(s)),Yt(s,null,"column-visibility",[s,a,t]),Rt(s)}})}),Zt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,n){return"visible"===t?m(e,n):n},1)}),Kt("columns.adjust()",function(){return this.iterator("table",function(t){f(t)},1)}),Kt("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return p(n,e);if("fromData"===t||"toVisible"===t)return m(n,e)}}),Kt("column()",function(t,e){return Te(this.columns(t,e))}),Kt("cells()",function(t,e,s){if(i.isPlainObject(t)&&(t.row===n?(s=t,t=null):(s=e,e=null)),i.isPlainObject(e)&&(s=e,e=null),null===e||e===n)return this.iterator("table",function(e){var a,o,r,l,c,d,u,h=t,f=_e(s),p=e.aoData,m=Ee(e,f),g=he(de(p,m,"anCells")),v=i([].concat.apply([],g)),y=e.aoColumns.length;return xe("cell",h,function(t){var s="function"==typeof t;if(null===t||t===n||s){for(o=[],r=0,l=m.length;l>r;r++)for(a=m[r],c=0;y>c;c++)d={row:a,column:c},s?(u=e.aoData[a],t(d,D(e,a,c),u.anCells?u.anCells[c]:null)&&o.push(d)):o.push(d);return o}return i.isPlainObject(t)?[t]:v.filter(t).map(function(t,e){return a=e.parentNode._DT_RowIndex,{row:a,column:i.inArray(e,p[a].anCells)}}).toArray()},e,f)});var a,o,r,l,c,d=this.columns(e,s),u=this.rows(t,s),h=this.iterator("table",function(t,e){for(a=[],o=0,r=u[e].length;r>o;o++)for(l=0,c=d[e].length;c>l;l++)a.push({row:u[e][o],column:d[e][l]});return a},1);return i.extend(h.selector,{cols:e,rows:t,opts:s}),h}),Zt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,i){return(t=t.aoData[e].anCells)?t[i]:n},1)}),Kt("cells().data()",function(){return this.iterator("cell",function(t,e,n){return D(t,e,n)},1)}),Zt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,n,i){return e.aoData[n][t][i]},1)}),Zt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,n,i){return D(e,n,i,t)},1)}),Zt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:m(t,n)}},1)}),Zt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,n,i){M(e,n,t,i)})}),Kt("cell()",function(t,e,n){return Te(this.cells(t,e,n))}),Kt("cell().data()",function(t){var e=this.context,i=this[0];return t===n?e.length&&i.length?D(e[0],i[0].row,i[0].column):n:(S(e[0],i[0].row,i[0].column,t),M(e[0],i[0].row,"data",i[0].column),this)}),Kt("order()",function(t,e){var s=this.context;return t===n?0!==s.length?s[0].aaSorting:n:("number"==typeof t?t=[[t,e]]:i.isArray(t[0])||(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),Kt("order.listener()",function(t,e,n){return this.iterator("table",function(i){kt(i,t,e,n)})}),Kt(["columns().order()","column().order()"],function(t){var e=this;return this.iterator("table",function(n,s){var a=[];i.each(e[s],function(e,n){a.push([n,t])}),n.aaSorting=a})}),Kt("search()",function(t,e,s,a){var o=this.context;return t===n?0!==o.length?o[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&G(n,i.extend({},n.oPreviousSearch,{sSearch:t+"",bRegex:null===e?!1:e,bSmart:null===s?!0:s,bCaseInsensitive:null===a?!0:a}),1)})}),Zt("columns().search()","column().search()",function(t,e,s,a){return this.iterator("column",function(o,r){var l=o.aoPreSearchCols;return t===n?l[r].sSearch:void(o.oFeatures.bFilter&&(i.extend(l[r],{sSearch:t+"",bRegex:null===e?!1:e,bSmart:null===s?!0:s,bCaseInsensitive:null===a?!0:a}),G(o,o.oPreviousSearch,1)))})}),Kt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Kt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Kt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Kt("state.save()",function(){return this.iterator("table",function(t){Rt(t)})}),Vt.versionCheck=Vt.fnVersionCheck=function(t){for(var e,n,i=Vt.version.split("."),t=t.split("."),s=0,a=t.length;a>s;s++)if(e=parseInt(i[s],10)||0,n=parseInt(t[s],10)||0,e!==n)return e>n;return!0},Vt.isDataTable=Vt.fnIsDataTable=function(t){var e=i(t).get(0),n=!1;return i.each(Vt.settings,function(t,s){var a=s.nScrollHead?i("table",s.nScrollHead)[0]:null,o=s.nScrollFoot?i("table",s.nScrollFoot)[0]:null;(s.nTable===e||a===e||o===e)&&(n=!0)}),n},Vt.tables=Vt.fnTables=function(t){return i.map(Vt.settings,function(e){return!t||t&&i(e.nTable).is(":visible")?e.nTable:void 0})},Vt.util={throttle:vt,escapeRegex:J},Vt.camelToHungarian=a,Kt("$()",function(t,e){var n=this.rows(e).nodes(),n=i(n);return i([].concat(n.filter(t).toArray(),n.find(t).toArray()))}),i.each(["on","one","off"],function(t,e){Kt(e+"()",function(){var t=Array.prototype.slice.call(arguments);t[0].match(/\.dt\b/)||(t[0]+=".dt");var n=i(this.tables().nodes());return n[e].apply(n,t),this})}),Kt("clear()",function(){return this.iterator("table",function(t){k(t)})}),Kt("settings()",function(){return new qt(this.context,this.context)}),Kt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Kt("data()",function(){return this.iterator("table",function(t){return ce(t.aoData,"_aData")}).flatten()}),Kt("destroy()",function(e){return e=e||!1,this.iterator("table",function(n){var s,a=n.nTableWrapper.parentNode,o=n.oClasses,r=n.nTable,l=n.nTBody,c=n.nTHead,d=n.nTFoot,u=i(r),l=i(l),h=i(n.nTableWrapper),f=i.map(n.aoData,function(t){return t.nTr});n.bDestroying=!0,Yt(n,"aoDestroyCallback","destroy",[n]),e||new qt(n).columns().visible(!0),h.unbind(".DT").find(":not(tbody *)").unbind(".DT"),i(t).unbind(".DT-"+n.sInstance),r!=c.parentNode&&(u.children("thead").detach(),u.append(c)),d&&r!=d.parentNode&&(u.children("tfoot").detach(),u.append(d)),u.detach(),h.detach(),n.aaSorting=[],n.aaSortingFixed=[],Nt(n),i(f).removeClass(n.asStripeClasses.join(" ")),i("th, td",c).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),n.bJUI&&(i("th span."+o.sSortIcon+", td span."+o.sSortIcon,c).detach(),i("th, td",c).each(function(){var t=i("div."+o.sSortJUIWrapper,this);i(this).append(t.contents()),t.detach()})),!e&&a&&a.insertBefore(r,n.nTableReinsertBefore),l.children().detach(),l.append(f),u.css("width",n.sDestroyWidth).removeClass(o.sTable),(s=n.asDestroyStripes.length)&&l.children().each(function(t){i(this).addClass(n.asDestroyStripes[t%s])}),a=i.inArray(n,Vt.settings),-1!==a&&Vt.settings.splice(a,1)})}),i.each(["column","row","cell"],function(t,e){Kt(e+"s().every()",function(t){return this.iterator(e,function(n,i,s){t.call(new qt(n)[e](i,s))})})}),Kt("i18n()",function(t,e,s){var a=this.context[0],t=_(t)(a.oLanguage);return t===n&&(t=e),s!==n&&i.isPlainObject(t)&&(t=t[s]!==n?t[s]:t._),t.replace("%d",s)}),Vt.version="1.10.7",Vt.settings=[],Vt.models={},Vt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Vt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},Vt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Vt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:i.extend({},Vt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},s(Vt.defaults),Vt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},s(Vt.defaults.column),Vt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Bt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Bt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,s=this.oFeatures,a=s.bPaginate;return s.bServerSide?!1===a||-1===t?e+i:Math.min(e+t,this._iRecordsDisplay):!a||n>i||-1===t?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},Vt.ext=Gt={buttons:{},classes:{},errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Vt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Vt.version},i.extend(Gt,{afnFiltering:Gt.search,aTypes:Gt.type.detect,ofnSearch:Gt.type.search,oSort:Gt.type.order,afnSortData:Gt.order,aoFeatures:Gt.feature,oApi:Gt.internal,oStdClasses:Gt.classes,oPagination:Gt.pager}),i.extend(Vt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ae="",Ae="",Oe=Ae+"ui-state-default",Ie=Ae+"css_right ui-icon ui-icon-",Le=Ae+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";i.extend(Vt.ext.oJUIClasses,Vt.ext.classes,{sPageButton:"fg-button ui-button "+Oe,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:Oe+" sorting_asc",sSortDesc:Oe+" sorting_desc",sSortable:Oe+" sorting",sSortableAsc:Oe+" sorting_asc_disabled",sSortableDesc:Oe+" sorting_desc_disabled",sSortableNone:Oe+" sorting_disabled",sSortJUIAsc:Ie+"triangle-1-n",sSortJUIDesc:Ie+"triangle-1-s",sSortJUI:Ie+"carat-2-n-s",sSortJUIAscAllowed:Ie+"carat-1-n",sSortJUIDescAllowed:Ie+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+Oe,sScrollFoot:"dataTables_scrollFoot "+Oe,sHeaderTH:Oe,sFooterTH:Oe,sJUIHeader:Le+" ui-corner-tl ui-corner-tr",sJUIFooter:Le+" ui-corner-bl ui-corner-br"});var He=Vt.ext.pager;i.extend(He,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(t,e){return["previous",Wt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Wt(t,e),"next","last"]},_numbers:Wt,numbers_length:7}),i.extend(!0,Vt.ext.renderer,{pageButton:{_:function(t,n,s,a,o,r){var l,c,d,u=t.oClasses,h=t.oLanguage.oPaginate,f=0,p=function(e,n){var a,d,m,g,v=function(e){dt(t,e.data.action,!0)};for(a=0,d=n.length;d>a;a++)if(g=n[a],i.isArray(g))m=i("<"+(g.DT_el||"div")+"/>").appendTo(e),p(m,g);else{switch(c=l="",g){case"ellipsis":e.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=h.sFirst,c=g+(o>0?"":" "+u.sPageButtonDisabled);break;case"previous":l=h.sPrevious,c=g+(o>0?"":" "+u.sPageButtonDisabled);break;case"next":l=h.sNext,c=g+(r-1>o?"":" "+u.sPageButtonDisabled);break;case"last":l=h.sLast,c=g+(r-1>o?"":" "+u.sPageButtonDisabled);break;default:l=g+1,c=o===g?u.sPageButtonActive:""}l&&(m=i("<a>",{"class":u.sPageButton+" "+c,"aria-controls":t.sTableId,"data-dt-idx":f,tabindex:t.iTabIndex,id:0===s&&"string"==typeof g?t.sTableId+"_"+g:null}).html(l).appendTo(e),Pt(m,{action:g},v),f++)}};try{d=i(e.activeElement).data("dt-idx")}catch(m){}p(i(n).empty(),a),d&&i(n).find("[data-dt-idx="+d+"]").focus()}}}),i.extend(Vt.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return re(t,n)?"num"+n:null},function(t){if(!(!t||t instanceof Date||te.test(t)&&ee.test(t)))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||se(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return re(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return le(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return le(t,n,!0)?"html-num-fmt"+n:null},function(t){return se(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),i.extend(Vt.ext.type.search,{html:function(t){return se(t)?t:"string"==typeof t?t.replace(Jt," ").replace(Qt,""):""},string:function(t){return se(t)?t:"string"==typeof t?t.replace(Jt," "):t}});var Pe=function(t,e,n,i){return 0===t||t&&"-"!==t?(e&&(t=oe(t,e)),t.replace&&(n&&(t=t.replace(n,"")),i&&(t=t.replace(i,""))),1*t):-(1/0)};return i.extend(Gt.type.order,{"date-pre":function(t){return Date.parse(t)||0},"html-pre":function(t){return se(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return se(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return e>t?-1:t>e?1:0},"string-desc":function(t,e){return e>t?1:t>e?-1:0}}),jt(""),i.extend(!0,Vt.ext.renderer,{header:{_:function(t,e,n,s){i(t.nTable).on("order.dt.DT",function(i,a,o,r){t===a&&(i=n.idx,e.removeClass(n.sSortingClass+" "+s.sSortAsc+" "+s.sSortDesc).addClass("asc"==r[i]?s.sSortAsc:"desc"==r[i]?s.sSortDesc:n.sSortingClass))})},jqueryui:function(t,e,n,s){i("<div/>").addClass(s.sSortJUIWrapper).append(e.contents()).append(i("<span/>").addClass(s.sSortIcon+" "+n.sSortingClassJUI)).appendTo(e),i(t.nTable).on("order.dt.DT",function(i,a,o,r){t===a&&(i=n.idx,e.removeClass(s.sSortAsc+" "+s.sSortDesc).addClass("asc"==r[i]?s.sSortAsc:"desc"==r[i]?s.sSortDesc:n.sSortingClass),e.find("span."+s.sSortIcon).removeClass(s.sSortJUIAsc+" "+s.sSortJUIDesc+" "+s.sSortJUI+" "+s.sSortJUIAscAllowed+" "+s.sSortJUIDescAllowed).addClass("asc"==r[i]?s.sSortJUIAsc:"desc"==r[i]?s.sSortJUIDesc:n.sSortingClassJUI))})}}}),Vt.render={number:function(t,e,n,i){return{display:function(s){if("number"!=typeof s&&"string"!=typeof s)return s;var a=0>s?"-":"",s=Math.abs(parseFloat(s)),o=parseInt(s,10),s=n?e+(s-o).toFixed(n).substring(2):"";return a+(i||"")+o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+s}}}},i.extend(Vt.ext.internal,{_fnExternApiFunc:zt,_fnBuildAjax:U,_fnAjaxUpdate:B,_fnAjaxParameters:W,_fnAjaxUpdateDraw:j,_fnAjaxDataSrc:z,_fnAddColumn:u,_fnColumnOptions:h,_fnAdjustColumnSizing:f,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:s,_fnCamelToHungarian:a,_fnLanguageCompat:o,_fnBrowserDetect:c,_fnAddData:w,_fnAddTr:C,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==n?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,e,n){return i.inArray(n,t.aoData[e].anCells)},_fnGetCellData:D,_fnSetCellData:S,_fnSplitObjNotation:x,_fnGetObjectDataFn:_,_fnSetObjectDataFn:T,_fnGetDataMaster:E,_fnClearTable:k,_fnDeleteIndex:N,_fnInvalidate:M,_fnGetRowElements:R,_fnCreateTr:A,_fnBuildHead:I,_fnDrawHead:L,_fnDraw:H,_fnReDraw:P,_fnAddOptionsHtml:F,_fnDetectHeader:Y,_fnGetUniqueThs:$,_fnFeatureHtmlFilter:V,_fnFilterComplete:G,_fnFilterCustom:q,_fnFilterColumn:K,_fnFilter:Z,_fnFilterCreateSearch:X,_fnEscapeRegex:J,_fnFilterData:Q,_fnFeatureHtmlInfo:nt,_fnUpdateInfo:it,_fnInfoMacros:st,_fnInitialise:at,_fnInitComplete:ot,_fnLengthChange:rt,_fnFeatureHtmlLength:lt,_fnFeatureHtmlPaginate:ct,_fnPageChange:dt,_fnFeatureHtmlProcessing:ut,_fnProcessingDisplay:ht,_fnFeatureHtmlTable:ft,_fnScrollDraw:pt,_fnApplyToChildren:mt,_fnCalculateColumnWidths:gt,_fnThrottle:vt,_fnConvertToWidth:yt,_fnScrollingWidthAdjust:bt,_fnGetWidestNode:wt,_fnGetMaxLenString:Ct,_fnStringToCss:Dt,_fnScrollBarWidth:St,_fnSortFlatten:xt,_fnSort:_t,_fnSortAria:Tt,_fnSortListener:Et,_fnSortAttachListener:kt,_fnSortingClasses:Nt,_fnSortData:Mt,_fnSaveState:Rt,_fnLoadState:At,_fnSettingsFromNode:Ot,_fnLog:It,_fnMap:Lt,_fnBindAction:Pt,_fnCallbackReg:Ft,_fnCallbackFire:Yt,_fnLengthOverflow:$t,_fnRenderer:Ut,_fnDataSource:Bt,_fnRowAttributes:O,_fnCalculateEnd:function(){}}),i.fn.dataTable=Vt,i.fn.dataTableSettings=Vt.settings,i.fn.dataTableExt=Vt.ext,i.fn.DataTable=function(t){return i(this).dataTable(t).api()},i.each(Vt,function(t,e){i.fn.DataTable[t]=e}),i.fn.dataTable};"function"==typeof define&&define.amd?define("datatables",["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):jQuery&&!jQuery.fn.dataTable&&i(jQuery)}(window,document),function(t,e,n){var i=function(t,n){"use strict";t.extend(!0,n.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),t.extend(n.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),n.ext.renderer.pageButton.bootstrap=function(i,s,a,o,r,l){var c,d,u,h=new n.Api(i),f=i.oClasses,p=i.oLanguage.oPaginate,m=0,g=function(e,n){var s,o,u,v,y=function(e){e.preventDefault(),t(e.currentTarget).hasClass("disabled")||h.page(e.data.action).draw(!1)};for(s=0,o=n.length;o>s;s++)if(v=n[s],t.isArray(v))g(e,v);else{switch(c="",d="",v){case"ellipsis":c="&hellip;",d="disabled";break;case"first":c=p.sFirst,d=v+(r>0?"":" disabled");break;case"previous":c=p.sPrevious,d=v+(r>0?"":" disabled");break;case"next":c=p.sNext,d=v+(l-1>r?"":" disabled");break;case"last":c=p.sLast,d=v+(l-1>r?"":" disabled");break;default:c=v+1,d=r===v?"active":""}c&&(u=t("<li>",{"class":f.sPageButton+" "+d,id:0===a&&"string"==typeof v?i.sTableId+"_"+v:null}).append(t("<a>",{href:"#","aria-controls":i.sTableId,"data-dt-idx":m,tabindex:i.iTabIndex}).html(c)).appendTo(e),i.oApi._fnBindAction(u,{action:v},y),m++)}};try{u=t(e.activeElement).data("dt-idx")}catch(v){}g(t(s).empty().html('<ul class="pagination"/>').children("ul"),o),u&&t(s).find("[data-dt-idx="+u+"]").focus()},n.TableTools&&(t.extend(!0,n.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),t.extend(!0,n.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}))};"function"==typeof define&&define.amd?define(["jquery","datatables"],i):"object"==typeof exports?i(require("jquery"),require("datatables")):jQuery&&i(jQuery,jQuery.fn.dataTable)}(window,document),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(){!function(t){"use strict";function e(e){var n=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return t.each(n,function(){e=e.replace(this.re,this.ch)}),e}function n(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n="(?:"+Object.keys(e).join("|")+")",i=new RegExp(n),s=new RegExp(n,"g"),a=null==t?"":""+t;return i.test(a)?a.replace(s,function(t){return e[t]}):a}function i(e,n){var i=arguments,a=e,o=n;[].shift.apply(i);var r,l=this.each(function(){var e=t(this);if(e.is("select")){var n=e.data("selectpicker"),l="object"==typeof a&&a;if(n){if(l)for(var c in l)l.hasOwnProperty(c)&&(n.options[c]=l[c])}else{var d=t.extend({},s.DEFAULTS,t.fn.selectpicker.defaults||{},e.data(),l);e.data("selectpicker",n=new s(this,d,o))}"string"==typeof a&&(r=n[a]instanceof Function?n[a].apply(n,i):n.options[a])}});return"undefined"!=typeof r?r:l}String.prototype.includes||!function(){var t={}.toString,e=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(i){}return n}(),n="".indexOf,i=function(e){if(null==this)throw TypeError();var i=String(this);if(e&&"[object RegExp]"==t.call(e))throw TypeError();var s=i.length,a=String(e),o=a.length,r=arguments.length>1?arguments[1]:void 0,l=r?Number(r):0;l!=l&&(l=0);var c=Math.min(Math.max(l,0),s);return o+c>s?!1:-1!=n.call(i,a,l)};e?e(String.prototype,"includes",{value:i,configurable:!0,writable:!0}):String.prototype.includes=i}(),String.prototype.startsWith||!function(){var t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(i){}return n}(),e={}.toString,n=function(t){if(null==this)throw TypeError();var n=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var i=n.length,s=String(t),a=s.length,o=arguments.length>1?arguments[1]:void 0,r=o?Number(o):0;r!=r&&(r=0);var l=Math.min(Math.max(r,0),i);if(a+l>i)return!1;for(var c=-1;++c<a;)if(n.charCodeAt(l+c)!=s.charCodeAt(c))return!1;return!0};t?t(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}(),Object.keys||(Object.keys=function(t,e,n){n=[];for(e in t)n.hasOwnProperty.call(t,e)&&n.push(e);return n}),t.expr[":"].icontains=function(e,n,i){var s=t(e),a=(s.data("tokens")||s.text()).toUpperCase();return a.includes(i[3].toUpperCase())},t.expr[":"].ibegins=function(e,n,i){var s=t(e),a=(s.data("tokens")||s.text()).toUpperCase();return a.startsWith(i[3].toUpperCase())},t.expr[":"].aicontains=function(e,n,i){var s=t(e),a=(s.data("tokens")||s.data("normalizedText")||s.text()).toUpperCase();return a.includes(i[3].toUpperCase())},t.expr[":"].aibegins=function(e,n,i){var s=t(e),a=(s.data("tokens")||s.data("normalizedText")||s.text()).toUpperCase();return a.startsWith(i[3].toUpperCase())};var s=function(e,n,i){i&&(i.stopPropagation(),i.preventDefault()),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=n,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=s.prototype.val,this.render=s.prototype.render,this.refresh=s.prototype.refresh,this.setStyle=s.prototype.setStyle,this.selectAll=s.prototype.selectAll,this.deselectAll=s.prototype.deselectAll,this.destroy=s.prototype.remove,this.remove=s.prototype.remove,this.show=s.prototype.show,this.hide=s.prototype.hide,this.init()};s.VERSION="1.7.2",s.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},s.prototype={constructor:s,init:function(){var e=this,n=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof n&&(this.$button.attr("data-id",n),t('label[for="'+n+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on("hide.bs.dropdown",function(t){e.$element.trigger("hide.bs.select",t)}),this.$newElement.on("hidden.bs.dropdown",function(t){e.$element.trigger("hidden.bs.select",t)}),this.$newElement.on("show.bs.dropdown",function(t){e.$element.trigger("show.bs.select",t)}),this.$newElement.on("shown.bs.dropdown",function(t){e.$element.trigger("shown.bs.select",t)}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",s=this.autofocus?" autofocus":"",a=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+n(this.options.liveSearchPlaceholder)+'"')+"></div>":"",r=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",l=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",c='<div class="btn-group bootstrap-select'+e+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+s+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+a+o+r+'<ul class="dropdown-menu inner" role="menu"></ul>'+l+"</div></div>";return t(c)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){this.destroyLi();var t=this.createLi();this.$menuInner[0].innerHTML=t},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var i=this,s=[],a=0,o=document.createElement("option"),r=-1,l=function(t,e,n,i){return"<li"+("undefined"!=typeof n&""!==n?' class="'+n+'"':"")+("undefined"!=typeof e&null!==e?' data-original-index="'+e+'"':"")+("undefined"!=typeof i&null!==i?'data-optgroup="'+i+'"':"")+">"+t+"</li>"},c=function(t,s,a,o){return'<a tabindex="0"'+("undefined"!=typeof s?' class="'+s+'"':"")+("undefined"!=typeof a?' style="'+a+'"':"")+(i.options.liveSearchNormalize?' data-normalized-text="'+e(n(t))+'"':"")+("undefined"!=typeof o||null!==o?' data-tokens="'+o+'"':"")+">"+t+'<span class="'+i.options.iconBase+" "+i.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(r--,!this.$element.find(".bs-title-option").length)){var d=this.$element[0];o.className="bs-title-option",o.appendChild(document.createTextNode(this.options.title)),o.value="",d.insertBefore(o,d.firstChild),null===d.options[d.selectedIndex].getAttribute("selected")&&(o.selected=!0)}return this.$element.find("option").each(function(e){var n=t(this);if(r++,!n.hasClass("bs-title-option")){var o=this.className||"",d=this.style.cssText,u=n.data("content")?n.data("content"):n.html(),h=n.data("tokens")?n.data("tokens"):null,f="undefined"!=typeof n.data("subtext")?'<small class="text-muted">'+n.data("subtext")+"</small>":"",p="undefined"!=typeof n.data("icon")?'<span class="'+i.options.iconBase+" "+n.data("icon")+'"></span> ':"",m=this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled;if(""!==p&&m&&(p="<span>"+p+"</span>"),i.options.hideDisabled&&m)return void r--;if(n.data("content")||(u=p+'<span class="text">'+u+f+"</span>"),"OPTGROUP"===this.parentElement.tagName&&n.data("divider")!==!0){
if(0===n.index()){a+=1;var g=this.parentElement.label,v="undefined"!=typeof n.parent().data("subtext")?'<small class="text-muted">'+n.parent().data("subtext")+"</small>":"",y=n.parent().data("icon")?'<span class="'+i.options.iconBase+" "+n.parent().data("icon")+'"></span> ':"",b=" "+this.parentElement.className||"";g=y+'<span class="text">'+g+v+"</span>",0!==e&&s.length>0&&(r++,s.push(l("",null,"divider",a+"div"))),r++,s.push(l(g,null,"dropdown-header"+b,a))}s.push(l(c(u,"opt "+o+b,d,h),e,"",a))}else n.data("divider")===!0?s.push(l("",e,"divider")):n.data("hidden")===!0?s.push(l(c(u,o,d,h),e,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(r++,s.push(l("",null,"divider",a+"div"))),s.push(l(c(u,o,d,h),e)));i.liObj[e]=r}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),s.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var n,i=this;e!==!1&&this.$element.find("option").each(function(t){var e=i.findLis().eq(i.liObj[t]);i.setDisabled(t,this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled,e),i.setSelected(t,this.selected,e)}),this.tabIndex();var s=this.$element.find("option").map(function(){if(this.selected){if(i.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled))return!1;var e,n=t(this),s=n.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+n.data("icon")+'"></i> ':"";return e=i.options.showSubtext&&n.data("subtext")&&!i.multiple?' <small class="text-muted">'+n.data("subtext")+"</small>":"","undefined"!=typeof n.attr("title")?n.attr("title"):n.data("content")&&i.options.showContent?n.data("content"):s+n.html()+e}}).toArray(),a=this.multiple?s.join(this.options.multipleSeparator):s[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var o=this.options.selectedTextFormat.split(">");if(o.length>1&&s.length>o[1]||1==o.length&&s.length>=2){n=this.options.hideDisabled?", [disabled]":"";var r=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+n).length,l="function"==typeof this.options.countSelectedText?this.options.countSelectedText(s.length,r):this.options.countSelectedText;a=l.replace("{0}",s.length.toString()).replace("{1}",r.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(a=this.options.title),a||(a="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",t.trim(a.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(a),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=t?t:this.options.style;"add"==e?this.$button.addClass(n):"remove"==e?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(e){if(e||this.options.size!==!1&&!this.sizeInfo){var n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("ul"),a=document.createElement("li"),o=document.createElement("li"),r=document.createElement("a"),l=document.createElement("span"),c=this.options.header?this.$menu.find(".popover-title")[0].cloneNode(!0):null,d=this.options.liveSearch?document.createElement("div"):null,u=this.options.actionsBox&&this.multiple?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,h=this.options.doneButton&&this.multiple?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",n.className=this.$menu[0].parentNode.className+" open",i.className="dropdown-menu open",s.className="dropdown-menu inner",a.className="divider",l.appendChild(document.createTextNode("Inner text")),r.appendChild(l),o.appendChild(r),s.appendChild(o),s.appendChild(a),c&&i.appendChild(c),d){var f=document.createElement("span");d.className="bs-searchbox",f.className="form-control",d.appendChild(f),i.appendChild(d)}u&&i.appendChild(u),i.appendChild(s),h&&i.appendChild(h),n.appendChild(i),document.body.appendChild(n);var p=r.offsetHeight,m=c?c.offsetHeight:0,g=d?d.offsetHeight:0,v=u?u.offsetHeight:0,y=h?h.offsetHeight:0,b=t(a).outerHeight(!0),w=getComputedStyle?getComputedStyle(i):!1,C=w?t(i):null,D=parseInt(w?w.paddingTop:C.css("paddingTop"))+parseInt(w?w.paddingBottom:C.css("paddingBottom"))+parseInt(w?w.borderTopWidth:C.css("borderTopWidth"))+parseInt(w?w.borderBottomWidth:C.css("borderBottomWidth")),S=D+parseInt(w?w.marginTop:C.css("marginTop"))+parseInt(w?w.marginBottom:C.css("marginBottom"))+2;document.body.removeChild(n),this.sizeInfo={liHeight:p,headerHeight:m,searchHeight:g,actionsHeight:v,doneButtonHeight:y,dividerHeight:b,menuPadding:D,menuExtras:S}}},setSize:function(){this.findLis(),this.liHeight();var e,n,i,s,a=this,o=this.$menu,r=this.$menuInner,l=t(window),c=this.$newElement[0].offsetHeight,d=this.sizeInfo.liHeight,u=this.sizeInfo.headerHeight,h=this.sizeInfo.searchHeight,f=this.sizeInfo.actionsHeight,p=this.sizeInfo.doneButtonHeight,m=this.sizeInfo.dividerHeight,g=this.sizeInfo.menuPadding,v=this.sizeInfo.menuExtras,y=this.options.hideDisabled?".disabled":"",b=function(){i=a.$newElement.offset().top-l.scrollTop(),s=l.height()-i-c};if(b(),this.options.header&&o.css("padding-top",0),"auto"===this.options.size){var w=function(){var l,c=function(e,n){return function(i){return n?i.classList?i.classList.contains(e):t(i).hasClass(e):!(i.classList?i.classList.contains(e):t(i).hasClass(e))}},m=a.$menuInner[0].getElementsByTagName("li"),y=Array.prototype.filter?Array.prototype.filter.call(m,c("hidden",!1)):a.$lis.not(".hidden"),w=Array.prototype.filter?Array.prototype.filter.call(y,c("dropdown-header",!0)):y.filter(".dropdown-header");b(),e=s-v,a.options.container?(o.data("height")||o.data("height",o.height()),n=o.data("height")):n=o.height(),a.options.dropupAuto&&a.$newElement.toggleClass("dropup",i>s&&n>e-v),a.$newElement.hasClass("dropup")&&(e=i-v),l=y.length+w.length>3?3*d+v-2:0,o.css({"max-height":e+"px",overflow:"hidden","min-height":l+u+h+f+p+"px"}),r.css({"max-height":e-u-h-f-p-g+"px","overflow-y":"auto","min-height":Math.max(l-g,0)+"px"})};w(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",w),l.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",w)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(y).length>this.options.size){var C=this.$lis.not(".divider").not(y).children().slice(0,this.options.size).last().parent().index(),D=this.$lis.slice(0,C+1).filter(".divider").length;e=d*this.options.size+D*m+g,a.options.container?(o.data("height")||o.data("height",o.height()),n=o.data("height")):n=o.height(),a.options.dropupAuto&&this.$newElement.toggleClass("dropup",i>s&&n>e-v),o.css({"max-height":e+u+h+f+p+"px",overflow:"hidden","min-height":""}),r.css({"max-height":e-g+"px","overflow-y":"auto","min-height":""})}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,n=t.children(".dropdown-menu").outerWidth(),i=e.css("width","auto").children("button").outerWidth();t.remove(),e.remove(),this.$newElement.css("width",Math.max(n,i)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var e,n,i=this,s="<div />",a=t(s),o=function(t){a.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),n=t.hasClass("dropup")?0:t[0].offsetHeight,a.css({top:e.top+n,left:e.left,width:t[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){i.isDisabled()||(o(t(this)),a.appendTo(i.options.container),a.toggleClass("open",!t(this).hasClass("open")),a.append(i.$menu))}),t(window).on("resize scroll",function(){o(i.$newElement)}),this.$element.on("hide.bs.select",function(){i.$menu.data("height",i.$menu.height()),a.detach()})},setSelected:function(t,e,n){if(!n)var n=this.findLis().eq(this.liObj[t]);n.toggleClass("selected",e)},setDisabled:function(t,e,n){if(!n)var n=this.findLis().eq(this.liObj[t]);e?n.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var e=this,n=t(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),n.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&n.data("spaceSelect")&&(t.preventDefault(),n.data("spaceSelect",!1))}),this.$newElement.on("click",function(){e.setSize(),e.$element.on("shown.bs.select",function(){if(e.options.liveSearch||e.multiple){if(!e.multiple){var t=e.liObj[e.$element[0].selectedIndex];if("number"!=typeof t)return;var n=e.$lis.eq(t)[0].offsetTop-e.$menuInner[0].offsetTop;n=n-e.$menuInner[0].offsetHeight/2+e.sizeInfo.liHeight/2,e.$menuInner[0].scrollTop=n}}else e.$menu.find(".selected a").focus()})}),this.$menu.on("click","li a",function(n){var i=t(this),s=i.parent().data("originalIndex"),a=e.$element.val(),o=e.$element.prop("selectedIndex");if(e.multiple&&n.stopPropagation(),n.preventDefault(),!e.isDisabled()&&!i.parent().hasClass("disabled")){var r=e.$element.find("option"),l=r.eq(s),c=l.prop("selected"),d=l.parent("optgroup"),u=e.options.maxOptions,h=d.data("maxOptions")||!1;if(e.multiple){if(l.prop("selected",!c),e.setSelected(s,!c),i.blur(),u!==!1||h!==!1){var f=u<r.filter(":selected").length,p=h<d.find("option:selected").length;if(u&&f||h&&p)if(u&&1==u)r.prop("selected",!1),l.prop("selected",!0),e.$menu.find(".selected").removeClass("selected"),e.setSelected(s,!0);else if(h&&1==h){d.find("option:selected").prop("selected",!1),l.prop("selected",!0);var m=i.parent().data("optgroup");e.$menu.find('[data-optgroup="'+m+'"]').removeClass("selected"),e.setSelected(s,!0)}else{var g="function"==typeof e.options.maxOptionsText?e.options.maxOptionsText(u,h):e.options.maxOptionsText,v=g[0].replace("{n}",u),y=g[1].replace("{n}",h),b=t('<div class="notify"></div>');g[2]&&(v=v.replace("{var}",g[2][u>1?0:1]),y=y.replace("{var}",g[2][h>1?0:1])),l.prop("selected",!1),e.$menu.append(b),u&&f&&(b.append(t("<div>"+v+"</div>")),e.$element.trigger("maxReached.bs.select")),h&&p&&(b.append(t("<div>"+y+"</div>")),e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(s,!1)},10),b.delay(750).fadeOut(300,function(){t(this).remove()})}}}else r.prop("selected",!1),l.prop("selected",!0),e.$menu.find(".selected").removeClass("selected"),e.setSelected(s,!0);e.multiple?e.options.liveSearch&&e.$searchbox.focus():e.$button.focus(),(a!=e.$element.val()&&e.multiple||o!=e.$element.prop("selectedIndex")&&!e.multiple)&&(e.$element.change(),e.$element.trigger("changed.bs.select",[s,l.prop("selected"),c]))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),e.options.liveSearch&&!t(n.target).hasClass("close")?e.$searchbox.focus():e.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){e.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(n){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),n.preventDefault(),n.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll(),e.$element.change()}),this.$element.change(function(){e.render(!1)})},liveSearchListener:function(){var i=this,s=t('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){i.$menuInner.find(".active").removeClass("active"),i.$searchbox.val()&&(i.$searchbox.val(""),i.$lis.not(".is-hidden").removeClass("hidden"),s.parent().length&&s.remove()),i.multiple||i.$menuInner.find(".selected").addClass("active"),setTimeout(function(){i.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(i.$searchbox.val()){var a=i.$lis.not(".is-hidden").removeClass("hidden").children("a");a=a.not(i.options.liveSearchNormalize?":a"+i._searchStyle()+"("+e(i.$searchbox.val())+")":":"+i._searchStyle()+"("+i.$searchbox.val()+")"),a.parent().addClass("hidden"),i.$lis.filter(".dropdown-header").each(function(){var e=t(this),n=e.data("optgroup");0===i.$lis.filter("[data-optgroup="+n+"]").not(e).not(".hidden").length&&(e.addClass("hidden"),i.$lis.filter("[data-optgroup="+n+"div]").addClass("hidden"))});var o=i.$lis.not(".hidden");o.each(function(e){var n=t(this);n.hasClass("divider")&&(n.index()===o.eq(0).index()||n.index()===o.last().index()||o.eq(e+1).hasClass("divider"))&&n.addClass("hidden")}),i.$lis.not(".hidden, .no-results").length?s.parent().length&&s.remove():(s.parent().length&&s.remove(),s.html(i.options.noneResultsText.replace("{0}",'"'+n(i.$searchbox.val())+'"')).show(),i.$menuInner.append(s))}else i.$lis.not(".is-hidden").removeClass("hidden"),s.parent().length&&s.remove();i.$lis.filter(".active").removeClass("active"),i.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),t(this).focus()})},_searchStyle:function(){var t="icontains";switch(this.options.liveSearchStyle){case"begins":case"startsWith":t="ibegins";break;case"contains":}return t},val:function(t){return"undefined"!=typeof t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!0),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").addClass("selected"),this.render(!1)},deselectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!1),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").removeClass("selected"),this.render(!1)},keydown:function(n){var i,s,a,o,r,l,c,d,u,h=t(this),f=h.is("input")?h.parent().parent():h.parent(),p=f.data("this"),m=":not(.disabled, .hidden, .dropdown-header, .divider)",g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(p.options.liveSearch&&(f=h.parent().parent()),p.options.container&&(f=p.$menu),i=t("[role=menu] li a",f),u=p.$menu.parent().hasClass("open"),!u&&(n.keyCode>=48&&n.keyCode<=57||event.keyCode>=65&&event.keyCode<=90)&&(p.options.container?p.$newElement.trigger("click"):(p.setSize(),p.$menu.parent().addClass("open"),u=!0),p.$searchbox.focus()),p.options.liveSearch&&(/(^9$|27)/.test(n.keyCode.toString(10))&&u&&0===p.$menu.find(".active").length&&(n.preventDefault(),p.$menu.parent().removeClass("open"),p.options.container&&p.$newElement.removeClass("open"),p.$button.focus()),i=t("[role=menu] li:not(.disabled, .hidden, .dropdown-header, .divider)",f),h.val()||/(38|40)/.test(n.keyCode.toString(10))||0===i.filter(".active").length&&(i=p.$newElement.find("li"),i=i.filter(p.options.liveSearchNormalize?":a"+p._searchStyle()+"("+e(g[n.keyCode])+")":":"+p._searchStyle()+"("+g[n.keyCode]+")"))),i.length){if(/(38|40)/.test(n.keyCode.toString(10)))s=i.index(i.filter(":focus")),o=i.parent(m).first().data("originalIndex"),r=i.parent(m).last().data("originalIndex"),a=i.eq(s).parent().nextAll(m).eq(0).data("originalIndex"),l=i.eq(s).parent().prevAll(m).eq(0).data("originalIndex"),c=i.eq(a).parent().prevAll(m).eq(0).data("originalIndex"),p.options.liveSearch&&(i.each(function(e){t(this).hasClass("disabled")||t(this).data("index",e)}),s=i.index(i.filter(".active")),o=i.first().data("index"),r=i.last().data("index"),a=i.eq(s).nextAll().eq(0).data("index"),l=i.eq(s).prevAll().eq(0).data("index"),c=i.eq(a).prevAll().eq(0).data("index")),d=h.data("prevIndex"),38==n.keyCode?(p.options.liveSearch&&(s-=1),s!=c&&s>l&&(s=l),o>s&&(s=o),s==d&&(s=r)):40==n.keyCode&&(p.options.liveSearch&&(s+=1),-1==s&&(s=0),s!=c&&a>s&&(s=a),s>r&&(s=r),s==d&&(s=o)),h.data("prevIndex",s),p.options.liveSearch?(n.preventDefault(),h.hasClass("dropdown-toggle")||(i.removeClass("active").eq(s).addClass("active").children("a").focus(),h.focus())):i.eq(s).focus();else if(!h.is("input")){var v,y,b=[];i.each(function(){t(this).parent().hasClass("disabled")||t.trim(t(this).text().toLowerCase()).substring(0,1)==g[n.keyCode]&&b.push(t(this).parent().index())}),v=t(document).data("keycount"),v++,t(document).data("keycount",v),y=t.trim(t(":focus").text().toLowerCase()).substring(0,1),y!=g[n.keyCode]?(v=1,t(document).data("keycount",v)):v>=b.length&&(t(document).data("keycount",0),v>b.length&&(v=1)),i.eq(b[v-1]).focus()}if((/(13|32)/.test(n.keyCode.toString(10))||/(^9$)/.test(n.keyCode.toString(10))&&p.options.selectOnTab)&&u){if(/(32)/.test(n.keyCode.toString(10))||n.preventDefault(),p.options.liveSearch)/(32)/.test(n.keyCode.toString(10))||(p.$menu.find(".active a").click(),h.focus());else{var w=t(":focus");w.click(),w.focus(),n.preventDefault(),t(document).data("spaceSelect",!0)}t(document).data("keycount",0)}(/(^9$|27)/.test(n.keyCode.toString(10))&&u&&(p.multiple||p.options.liveSearch)||/(27)/.test(n.keyCode.toString(10))&&!u)&&(p.$menu.parent().removeClass("open"),p.options.container&&p.$newElement.removeClass("open"),p.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var a=t.fn.selectpicker;t.fn.selectpicker=i,t.fn.selectpicker.Constructor=s,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=a,this},t(document).data("keycount",0).on("keydown",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',s.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(t){t.stopPropagation()}),t(window).on("load.bs.select.data-api",function(){t(".selectpicker").each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery)}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(){!function(t){t.fn.selectpicker.defaults={noneSelectedText:"No hay seleccin",noneResultsText:"No hay resultados {0}",countSelectedText:"Seleccionados {0} de {1}",maxOptionsText:["Lmite alcanzado ({n} {var} max)","Lmite del grupo alcanzado({n} {var} max)",["elementos","element"]],multipleSeparator:", "}}(jQuery)}),!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function e(t,n){"use strict";function i(t){var e=g[p.locale];return e?e[t]:g.en[t]}function s(e,n,i){e.stopPropagation(),e.preventDefault();var s=t.isFunction(i)&&i.call(n,e)===!1;s||n.modal("hide")}function a(t){var e,n=0;for(e in t)n++;return n}function o(e,n){var i=0;t.each(e,function(t,e){n(t,e,i++)})}function r(e){var n,i;if("object"!=typeof e)throw new Error("Please supply an object of options");if(!e.message)throw new Error("Please specify a message");return e=t.extend({},p,e),e.buttons||(e.buttons={}),n=e.buttons,i=a(n),o(n,function(e,s,a){if(t.isFunction(s)&&(s=n[e]={callback:s}),"object"!==t.type(s))throw new Error("button with key "+e+" must be an object");s.label||(s.label=e),s.className||(s.className=2>=i&&a===i-1?"btn-primary":"btn-default")}),e}function l(t,e){var n=t.length,i={};if(1>n||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(i[e[0]]=t[0],i[e[1]]=t[1]):i=t[0],i}function c(e,n,i){return t.extend(!0,{},e,l(n,i))}function d(t,e,n,i){var s={className:"bootbox-"+t,buttons:u.apply(null,e)};return h(c(s,i,n),e)}function u(){for(var t={},e=0,n=arguments.length;n>e;e++){var s=arguments[e],a=s.toLowerCase(),o=s.toUpperCase();t[a]={label:i(o)}}return t}function h(t,e){var i={};return o(e,function(t,e){i[e]=!0}),o(t.buttons,function(t){if(i[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var f={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},p={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},m={};m.alert=function(){var e;if(e=d("alert",["ok"],["message","callback"],arguments),e.callback&&!t.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return t.isFunction(e.callback)?e.callback.call(this):!0},m.dialog(e)},m.confirm=function(){var e;if(e=d("confirm",["cancel","confirm"],["message","callback"],arguments),e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,!1)},e.buttons.confirm.callback=function(){return e.callback.call(this,!0)},!t.isFunction(e.callback))throw new Error("confirm requires a callback");return m.dialog(e)},m.prompt=function(){var e,i,s,a,r,l,d;if(a=t(f.form),i={className:"bootbox-prompt",buttons:u("cancel","confirm"),value:"",inputType:"text"},e=h(c(i,arguments,["title","callback"]),["cancel","confirm"]),l=e.show===n?!0:e.show,e.message=a,e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,null)},e.buttons.confirm.callback=function(){var n;switch(e.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=r.val();break;case"checkbox":var i=r.find("input:checked");n=[],o(i,function(e,i){n.push(t(i).val())})}return e.callback.call(this,n)},e.show=!1,!e.title)throw new Error("prompt requires a title");if(!t.isFunction(e.callback))throw new Error("prompt requires a callback");if(!f.inputs[e.inputType])throw new Error("invalid prompt type");switch(r=t(f.inputs[e.inputType]),e.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":r.val(e.value);break;case"select":var p={};if(d=e.inputOptions||[],!t.isArray(d))throw new Error("Please pass an array of input options");if(!d.length)throw new Error("prompt with select requires options");o(d,function(e,i){var s=r;if(i.value===n||i.text===n)throw new Error("given options in wrong format");i.group&&(p[i.group]||(p[i.group]=t("<optgroup/>").attr("label",i.group)),s=p[i.group]),s.append("<option value='"+i.value+"'>"+i.text+"</option>")}),o(p,function(t,e){r.append(e)}),r.val(e.value);break;case"checkbox":var g=t.isArray(e.value)?e.value:[e.value];if(d=e.inputOptions||[],!d.length)throw new Error("prompt with checkbox requires options");if(!d[0].value||!d[0].text)throw new Error("given options in wrong format");r=t("<div/>"),o(d,function(n,i){var s=t(f.inputs[e.inputType]);s.find("input").attr("value",i.value),s.find("label").append(i.text),o(g,function(t,e){e===i.value&&s.find("input").prop("checked",!0)}),r.append(s)})}return e.placeholder&&r.attr("placeholder",e.placeholder),e.pattern&&r.attr("pattern",e.pattern),e.maxlength&&r.attr("maxlength",e.maxlength),a.append(r),a.on("submit",function(t){t.preventDefault(),t.stopPropagation(),s.find(".btn-primary").click()}),s=m.dialog(e),s.off("shown.bs.modal"),s.on("shown.bs.modal",function(){r.focus()}),l===!0&&s.modal("show"),s},m.dialog=function(e){e=r(e);var i=t(f.dialog),a=i.find(".modal-dialog"),l=i.find(".modal-body"),c=e.buttons,d="",u={onEscape:e.onEscape};if(t.fn.modal===n)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(o(c,function(t,e){d+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",u[t]=e.callback}),l.find(".bootbox-body").html(e.message),e.animate===!0&&i.addClass("fade"),e.className&&i.addClass(e.className),"large"===e.size?a.addClass("modal-lg"):"small"===e.size&&a.addClass("modal-sm"),e.title&&l.before(f.header),e.closeButton){var h=t(f.closeButton);e.title?i.find(".modal-header").prepend(h):h.css("margin-top","-10px").prependTo(l)}return e.title&&i.find(".modal-title").html(e.title),d.length&&(l.after(f.footer),i.find(".modal-footer").html(d)),i.on("hidden.bs.modal",function(t){t.target===this&&i.remove()}),i.on("shown.bs.modal",function(){i.find(".btn-primary:first").focus()}),"static"!==e.backdrop&&i.on("click.dismiss.bs.modal",function(t){i.children(".modal-backdrop").length&&(t.currentTarget=i.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&i.trigger("escape.close.bb")}),i.on("escape.close.bb",function(t){u.onEscape&&s(t,i,u.onEscape)}),i.on("click",".modal-footer button",function(e){var n=t(this).data("bb-handler");s(e,i,u[n])}),i.on("click",".bootbox-close-button",function(t){s(t,i,u.onEscape)}),i.on("keyup",function(t){27===t.which&&i.trigger("escape.close.bb")}),t(e.container).append(i),i.modal({backdrop:e.backdrop?"static":!1,keyboard:!1,show:!1}),e.show&&i.modal("show"),i},m.setDefaults=function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],t.extend(p,e)},m.hideAll=function(){return t(".bootbox").modal("hide"),m};var g={bg_BG:{OK:"",CANCEL:"",CONFIRM:""},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zruit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"",CANCEL:"",CONFIRM:""},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"",CANCEL:"",CONFIRM:""},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"",CANCEL:"",CONFIRM:""},hu:{OK:"OK",CANCEL:"Mgsem",CONFIRM:"Megerst"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"",CONFIRM:""},lt:{OK:"Gerai",CANCEL:"Ataukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprint"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"",CANCEL:"",CONFIRM:""},tr:{OK:"Tamam",CANCEL:"ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}};return m.addLocale=function(e,n){return t.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!n[e])throw new Error("Please supply a translation for '"+e+"'")}),g[e]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},m},m.removeLocale=function(t){return delete g[t],m},m.setLocale=function(t){return m.setDefaults("locale",t)},m.init=function(n){return e(n||t)},m}),!function(t,e){"use strict";var n=function(t,e){var n,i,o,r,l,c,d,u,h,f,p,m,g,v,y,b="-",w=[";","?",":","@","&","=","+","$",",","/"],C=[";","?",":","@","&","=","+","$",","],D=[".","!","~","*","'","(",")"],S="",x="",_=!0,T={},E={"":"A","":"A","":"A","":"A","":"Ae","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"Oe","":"O","":"O","":"U","":"U","":"U","":"Ue","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"ae","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"oe","":"o","":"o","":"u","":"u","":"u","":"ue","":"u","":"y","":"th","":"y","":"SS","":"a","":"a","":"i","":"aa","":"u","":"e","":"a","":"b","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"y","":"a","":"h","":"la","":"laa","":"lai","":"laa","":"a","":"an","":"e","":"en","":"u","":"on","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"k","":"kh","":"g","":"ga","":"ng","":"s","":"sa","":"z","":"za","":"ny","":"t","":"ta","":"d","":"da","":"na","":"t","":"ta","":"d","":"da","":"n","":"p","":"pa","":"b","":"ba","":"m","":"y","":"ya","":"l","":"w","":"th","":"h","":"la","":"a","":"y",
"":"ya","":"w","":"yw","":"ywa","":"h","":"e","":"-e","":"i","":"-i","":"u","":"-u","":"aw","":"aw","":"aw","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"","":"","":"","":"c","":"d","":"e","":"n","":"r","":"s","":"t","":"u","":"z","":"C","":"D","":"E","":"N","":"R","":"S","":"T","":"U","":"Z","":"a","":"v","":"g","":"d","":"e","":"z","":"i","":"th","":"i","":"k","":"l","":"m","":"n","":"ks","":"o","":"p","":"r","":"s","":"t","":"y","":"f","":"x","":"ps","":"o","":"a","":"e","":"i","":"o","":"y","":"i","":"o","":"s","":"i","":"y","":"y","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"I","":"TH","":"I","":"K","":"L","":"M","":"N","":"KS","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"A","":"E","":"I","":"O","":"Y","":"I","":"O","":"I","":"Y","":"a","":"e","":"g","":"i","":"k","":"l","":"n","":"u","":"A","":"E","":"G","":"I","":"k","":"L","":"N","":"U","":"Kj","":"kj","":"Lj","":"lj","":"Nj","":"nj","":"Ts","":"ts","":"a","":"c","":"e","":"l","":"n","":"s","":"z","":"z","":"A","":"C","":"E","":"L","":"N","":"S","":"Z","":"Z","":"Ye","":"I","":"Yi","":"G","":"ye","":"i","":"yi","":"g","":"a","":"A","":"s","":"S","":"t","":"T","":"t","":"T","":"a","":"b","":"v","":"g","":"d","":"e","":"yo","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"","":"y","":"","":"e","":"yu","":"ya","":"A","":"B","":"V","":"G","":"D","":"E","":"Yo","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"","":"Y","":"","":"E","":"Yu","":"Ya","":"dj","":"j","":"c","":"dz","":"Dj","":"j","":"C","":"Dz","":"l","":"l","":"r","":"L","":"L","":"R","":"s","":"S","":"i","":"I","":"g","":"G","":"a","":"A","":"a","":"A","":"a","":"A","":"d","":"D","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"o","":"o","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"o","":"i","":"I","":"i","":"I","":"i","":"i","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"","":"y","":"y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":'"',"":'"',"":"'","":"'","":"d","":"f","":"(TM)","":"(C)","":"oe","":"OE","":"(R)","":"+","":"(SM)","":"...","":"o","":"o","":"a","":"*","":",","":".",$:"USD","":"EUR","":"BRN","":"FRF","":"GBP","":"ITL","":"NGN","":"ESP","":"KRW","":"ILS","":"VND","":"LAK","":"MNT","":"GRD","":"ARS","":"PYG","":"ARA","":"UAH","":"GHS","":"cent","":"CNY","":"CNY","":"YEN","":"IRR","":"EWE","":"THB","":"INR","":"INR","":"PF"},k=[""],N={"":"a","":"a","":"e","":"e","":"i","":"i","":"o","":"u","":"u","":"aung","":"aw","":"aw","":"aw","":"aw","":"","":"et","":"aik","":"auk","":"in","":"aing","":"aung","":"it","":"i","":"at","":"eik","":"ok","":"ut","":"it","":"d","":"ok","":"ait","":"an","":"an","":"ein","":"on","":"un","":"at","":"eik","":"ok","":"ut","":"nub","":"an","":"ein","":"on","":"un","":"e","":"ol","":"in","":"an","":"ein","":"on"},M={en:{},az:{"":"c","":"e","":"g","":"i","":"o","":"s","":"u","":"C","":"E","":"G","":"I","":"O","":"S","":"U"},cs:{"":"c","":"d","":"e","":"n","":"r","":"s","":"t","":"u","":"z","":"C","":"D","":"E","":"N","":"R","":"S","":"T","":"U","":"Z"},hu:{"":"a","":"A","":"o","":"O","":"u","":"U","":"u","":"U"},lt:{"":"a","":"c","":"e","":"e","":"i","":"s","":"u","":"u","":"z","":"A","":"C","":"E","":"E","":"I","":"S","":"U","":"U"},lv:{"":"a","":"c","":"e","":"g","":"i","":"k","":"l","":"n","":"s","":"u","":"z","":"A","":"C","":"E","":"G","":"i","":"k","":"L","":"N","":"S","":"u","":"Z"},pl:{"":"a","":"c","":"e","":"l","":"n","":"o","":"s","":"z","":"z","":"A","":"C","":"e","":"L","":"N","":"O","":"S","":"Z","":"Z"},sk:{"":"a","":"A"},sr:{"":"lj","":"nj","":"Lj","":"Nj","":"dj","":"Dj"},tr:{"":"U","":"O","":"u","":"o"}},R={ar:{"":"delta","":"la-nihaya","":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","":"majmou","":"omla"},az:{},cz:{"":"delta","":"nekonecno","":"laska","&":"a","|":"nebo","<":"mene jako",">":"vice jako","":"soucet","":"mena"},de:{"":"delta","":"unendlich","":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","":"Summe von","":"Waehrung"},en:{"":"delta","":"infinity","":"love","&":"and","|":"or","<":"less than",">":"greater than","":"sum","":"currency"},es:{"":"delta","":"infinito","":"amor","&":"y","|":"u","<":"menos que",">":"mas que","":"suma de los","":"moneda"},fr:{"":"delta","":"infiniment","":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","":"somme des","":"monnaie"},gr:{},hu:{"":"delta","":"vegtelen","":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","":"szumma","":"penznem"},it:{"":"delta","":"infinito","":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","":"somma","":"moneta"},lt:{},lv:{"":"delta","":"bezgaliba","":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","":"summa","":"valuta"},my:{"":"kwahkhyaet","":"asaonasme","":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","":"paungld","":"ngwekye"},mk:{},nl:{"":"delta","":"oneindig","":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","":"som","":"valuta"},pl:{"":"delta","":"nieskonczonosc","":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","":"suma","":"waluta"},pt:{"":"delta","":"infinito","":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","":"soma","":"moeda"},ro:{"":"delta","":"infinit","":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","":"suma","":"valuta"},ru:{"":"delta","":"beskonechno","":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","":"summa","":"valjuta"},sk:{"":"delta","":"nekonecno","":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","":"sucet","":"mena"},sr:{},tr:{"":"delta","":"sonsuzluk","":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","":"toplam","":"para birimi"},uk:{"":"delta","":"bezkinechnist","":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","":"suma","":"valjuta"},vn:{"":"delta","":"vo cuc","":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","":"tong","":"tien te"}};if("string"!=typeof t)return"";if("string"==typeof e&&(b=e),d=R.en,u=M.en,"object"==typeof e){n=e.maintainCase||!1,T=e.custom&&"object"==typeof e.custom?e.custom:T,o=+e.truncate>1&&e.truncate||!1,r=e.uric||!1,l=e.uricNoSlash||!1,c=e.mark||!1,_=e.symbols===!1||e.lang===!1?!1:!0,b=e.separator||b,r&&(y+=w.join("")),l&&(y+=C.join("")),c&&(y+=D.join("")),d=e.lang&&R[e.lang]&&_?R[e.lang]:_?R.en:{},u=e.lang&&M[e.lang]?M[e.lang]:e.lang===!1||e.lang===!0?{}:M.en,e.titleCase&&"number"==typeof e.titleCase.length&&Array.prototype.toString.call(e.titleCase)?(e.titleCase.forEach(function(t){T[t+""]=t+""}),i=!0):i=!!e.titleCase,e.custom&&"number"==typeof e.custom.length&&Array.prototype.toString.call(e.custom)&&e.custom.forEach(function(t){T[t+""]=t+""}),Object.keys(T).forEach(function(e){var n;n=e.length>1?new RegExp("\\b"+s(e)+"\\b","gi"):new RegExp(s(e),"gi"),t=t.replace(n,T[e])});for(p in T)y+=p}for(y+=b,i&&(t=t.replace(/(\w)(\S*)/g,function(t,e,n){var i=e.toUpperCase()+(null!==n?n:"");return Object.keys(T).indexOf(i.toLowerCase())<0?i:i.toLowerCase()})),y=s(y),t=t.replace(/(^\s+|\s+$)/g,""),g=!1,v=!1,f=0,m=t.length;m>f;f++)p=t[f],a(p,T)?g=!1:u[p]?(p=g&&u[p].match(/[A-Za-z0-9]/)?" "+u[p]:u[p],g=!1):p in E?(m>f+1&&k.indexOf(t[f+1])>=0?(x+=p,p=""):v===!0?(p=N[x]+E[p],x=""):p=g&&E[p].match(/[A-Za-z0-9]/)?" "+E[p]:E[p],g=!1,v=!1):p in N?(x+=p,p="",f===m-1&&(p=N[x]),v=!0):!d[p]||r&&-1!==w.join("").indexOf(p)||l&&-1!==C.join("").indexOf(p)?(v===!0?(p=N[x]+p,x="",v=!1):g&&(/[A-Za-z0-9]/.test(p)||S.substr(-1).match(/A-Za-z0-9]/))&&(p=" "+p),g=!1):(p=g||S.substr(-1).match(/[A-Za-z0-9]/)?b+d[p]:d[p],p+=void 0!==t[f+1]&&t[f+1].match(/[A-Za-z0-9]/)?b:"",g=!0),S+=p.replace(new RegExp("[^\\w\\s"+y+"_-]","g"),b);return S=S.replace(/\s+/g,b).replace(new RegExp("\\"+b+"+","g"),b).replace(new RegExp("(^\\"+b+"+|\\"+b+"+$)","g"),""),o&&S.length>o&&(h=S.charAt(o)===b,S=S.slice(0,o),h||(S=S.slice(0,S.lastIndexOf(b)))),n||i||(S=S.toLowerCase()),S},i=function(t){return function(e){return n(e,t)}},s=function(t){return t.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},a=function(t,e){for(var n in e)if(e[n]===t)return!0};if("undefined"!=typeof module&&module.exports)module.exports=n,module.exports.createSlug=i;else if("undefined"!=typeof define&&define.amd)define([],function(){return n});else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=n,t.createSlug=i}catch(o){}}(this),function(t){t.fn.slugify=function(e,n){return this.each(function(){var i=t(this),s=t(e);i.on("keyup change",function(){""!==i.val()&&void 0!==i.val()?i.data("locked",!0):i.data("locked",!1)}),s.on("keyup change",function(){!0!==i.data("locked")&&(i.is("input")||i.is("textarea")?i.val(t.slugify(s.val(),n)):i.text(t.slugify(s.val(),n)))})})},t.slugify=function(e,n){return n=t.extend({},t.slugify.options,n),n.lang=n.lang||t("html").prop("lang"),"function"==typeof n.preSlug&&(e=n.preSlug(e)),e=n.slugFunc(e,n),"function"==typeof n.postSlug&&(e=n.postSlug(e)),e},t.slugify.options={preSlug:null,postSlug:null,slugFunc:function(t,e){return window.getSlug(t,e)}}}(jQuery);var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};window.rangy=function(){function t(t,e){var n=typeof t[e];return n==c||!(n!=l||!t[e])||"unknown"==n}function e(t,e){return!(typeof t[e]!=l||!t[e])}function n(t,e){return typeof t[e]!=d}function i(t){return function(e,n){for(var i=n.length;i--;)if(!t(e,n[i]))return!1;return!0}}function s(t){return t&&m(t,p)&&v(t,f)}function a(t){window.alert("Rangy not supported in your browser. Reason: "+t),y.initialized=!0,y.supported=!1}function o(){if(!y.initialized){var n,i=!1,o=!1;for(t(document,"createRange")&&(n=document.createRange(),m(n,h)&&v(n,u)&&(i=!0),n.detach()),(n=e(document,"body")?document.body:document.getElementsByTagName("body")[0])&&t(n,"createTextRange")&&(n=n.createTextRange(),s(n)&&(o=!0)),!i&&!o&&a("Neither Range nor TextRange are implemented"),y.initialized=!0,y.features={implementsDomRange:i,implementsTextRange:o},i=w.concat(b),o=0,n=i.length;n>o;++o)try{i[o](y)}catch(r){e(window,"console")&&t(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",r)}}}function r(t){this.name=t,this.supported=this.initialized=!1}var l="object",c="function",d="undefined",u="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer START_TO_START START_TO_END END_TO_START END_TO_END".split(" "),h="setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "),f="boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "),p="collapse compareEndPoints duplicate getBookmark moveToBookmark moveToElementText parentElement pasteHTML select setEndPoint getBoundingClientRect".split(" "),m=i(t),g=i(e),v=i(n),y={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:t,isHostObject:e,isHostProperty:n,areHostMethods:m,areHostObjects:g,areHostProperties:v,isTextRange:s},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};y.fail=a,y.warn=function(t){t="Rangy warning: "+t,y.config.alertOnWarn?window.alert(t):typeof window.console!=d&&typeof window.console.log!=d&&window.console.log(t)},{}.hasOwnProperty?y.util.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}:a("hasOwnProperty not supported");var b=[],w=[];y.init=o,y.addInitListener=function(t){y.initialized?t(y):b.push(t)};var C=[];y.addCreateMissingNativeApiListener=function(t){C.push(t)},y.createMissingNativeApi=function(t){t=t||window,o();for(var e=0,n=C.length;n>e;++e)C[e](t)},r.prototype.fail=function(t){throw this.initialized=!0,this.supported=!1,Error("Module '"+this.name+"' failed to load: "+t)},r.prototype.warn=function(t){y.warn("Module "+this.name+": "+t)},r.prototype.createError=function(t){return Error("Error in Rangy "+this.name+" module: "+t)},y.createModule=function(t,e){var n=new r(t);y.modules[t]=n,w.push(function(t){e(t,n),n.initialized=!0,n.supported=!0})},y.requireModules=function(t){for(var e,n,i=0,s=t.length;s>i;++i){if(n=t[i],e=y.modules[n],!(e&&e instanceof r))throw Error("Module '"+n+"' not found");if(!e.supported)throw Error("Module '"+n+"' not supported")}};var D=!1,g=function(){D||(D=!0,y.initialized||o())};if(typeof window==d)a("No window found");else{if(typeof document!=d)return t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",g,!1),t(window,"addEventListener")?window.addEventListener("load",g,!1):t(window,"attachEvent")?window.attachEvent("onload",g):a("Window does not have required addEventListener or attachEvent method"),y;a("No document found")}}(),rangy.createModule("DomUtil",function(t,e){function n(t){for(var e=0;t=t.previousSibling;)e++;return e}function i(t,e){var n,i=[];for(n=t;n;n=n.parentNode)i.push(n);for(n=e;n;n=n.parentNode)if(m(i,n))return n;return null}function s(t,e,n){for(n=n?t:t.parentNode;n;){if(t=n.parentNode,t===e)return n;n=t}return null}function a(t){return t=t.nodeType,3==t||4==t||8==t}function o(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t}function r(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=h)return t.ownerDocument;if(typeof t.document!=h)return t.document;if(t.parentNode)return r(t.parentNode);throw Error("getDocument: no document found for node")}function l(t){return t?a(t)?'"'+t.data+'"':1==t.nodeType?"<"+t.nodeName+(t.id?' id="'+t.id+'"':"")+">["+t.childNodes.length+"]":t.nodeName:"[No node]"}function c(t){this._next=this.root=t}function d(t,e){this.node=t,this.offset=e}function u(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var h="undefined",f=t.util;f.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),f.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var p=document.createElement("div");f.areHostMethods(p,["insertBefore","appendChild","cloneNode"])||e.fail("Incomplete Element implementation"),f.isHostProperty(p,"innerHTML")||e.fail("Element is missing innerHTML property"),p=document.createTextNode("test"),f.areHostMethods(p,["splitText","deleteData","insertData","appendData","cloneNode"])||e.fail("Incomplete Text Node implementation");var m=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1};c.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e=this._current=this._next;if(this._current){if(t=e.firstChild,!t)for(t=null;e!==this.root&&!(t=e.nextSibling);)e=e.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},d.prototype={equals:function(t){return this.node===t.node&this.offset==t.offset},inspect:function(){return"[DomPosition("+l(this.node)+":"+this.offset+")]"}},u.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},u.prototype.toString=function(){return this.message},t.dom={arrayContains:m,isHtmlNamespace:function(t){var e;return typeof t.namespaceURI==h||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e},parentElement:function(t){return t=t.parentNode,1==t.nodeType?t:null},getNodeIndex:n,getNodeLength:function(t){var e;return a(t)?t.length:(e=t.childNodes)?e.length:0},getCommonAncestor:i,isAncestorOf:function(t,e,n){for(e=n?e:e.parentNode;e;){if(e===t)return!0;e=e.parentNode}return!1},getClosestAncestorIn:s,isCharacterDataNode:a,insertAfter:o,splitDataNode:function(t,e){var n=t.cloneNode(!1);return n.deleteData(0,e),t.deleteData(e,t.length-e),o(n,t),n},getDocument:r,getWindow:function(t){if(t=r(t),typeof t.defaultView!=h)return t.defaultView;if(typeof t.parentWindow!=h)return t.parentWindow;throw Error("Cannot get a window object for node")},getIframeWindow:function(t){if(typeof t.contentWindow!=h)return t.contentWindow;if(typeof t.contentDocument!=h)return t.contentDocument.defaultView;throw Error("getIframeWindow: No Window object found for iframe element")},getIframeDocument:function(t){if(typeof t.contentDocument!=h)return t.contentDocument;if(typeof t.contentWindow!=h)return t.contentWindow.document;throw Error("getIframeWindow: No Document object found for iframe element")},getBody:function(t){return f.isHostObject(t,"body")?t.body:t.getElementsByTagName("body")[0]},getRootContainer:function(t){for(var e;e=t.parentNode;)t=e;return t},comparePoints:function(t,e,a,o){var r;if(t==a)return e===o?0:o>e?-1:1;if(r=s(a,t,!0))return e<=n(r)?-1:1;if(r=s(t,a,!0))return n(r)<o?-1:1;if(e=i(t,a),t=t===e?e:s(t,e,!0),a=a===e?e:s(a,e,!0),t===a)throw Error("comparePoints got to case 4 and childA and childB are the same!");for(e=e.firstChild;e;){if(e===t)return-1;if(e===a)return 1;e=e.nextSibling}throw Error("Should not be here!")},inspectNode:l,fragmentFromNodeChildren:function(t){for(var e,n=r(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n},createIterator:function(t){return new c(t)},DomPosition:d},t.DOMException=u}),rangy.createModule("DomRange",function(t){function e(t,e){return 3!=t.nodeType&&(O.isAncestorOf(t,e.startContainer,!0)||O.isAncestorOf(t,e.endContainer,!0))}function n(t){return O.getDocument(t.startContainer)}function i(t,e,n){if(e=t._listeners[e])for(var i=0,s=e.length;s>i;++i)e[i].call(t,{target:t,args:n})}function s(t){return new I(t.parentNode,O.getNodeIndex(t))}function a(t){return new I(t.parentNode,O.getNodeIndex(t)+1)}function o(t,e,n){var i=11==t.nodeType?t.firstChild:t;return O.isCharacterDataNode(e)?n==e.length?O.insertAfter(t,e):e.parentNode.insertBefore(t,0==n?e:O.splitDataNode(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),i}function r(t){for(var e,i,s=n(t.range).createDocumentFragment();i=t.next();){if(e=t.isPartiallySelectedSubtree(),i=i.cloneNode(!e),e&&(e=t.getSubtreeIterator(),i.appendChild(r(e)),e.detach(!0)),10==i.nodeType)throw new L("HIERARCHY_REQUEST_ERR");s.appendChild(i)}return s}function l(t,e,n){for(var i,s,n=n||{stop:!1};i=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(i)){n.stop=!0;break}if(i=t.getSubtreeIterator(),l(i,e,n),i.detach(!0),n.stop)break}else for(i=O.createIterator(i);s=i.next();)if(!1===e(s))return void(n.stop=!0)}function c(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(e=t.getSubtreeIterator(),c(e),e.detach(!0)):t.remove()}function d(t){for(var e,i,s=n(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),i=t.getSubtreeIterator(),e.appendChild(d(i)),i.detach(!0)):t.remove(),10==e.nodeType)throw new L("HIERARCHY_REQUEST_ERR");s.appendChild(e)}return s}function u(t,e,n){var i,s=!(!e||!e.length),a=!!n;s&&(i=RegExp("^("+e.join("|")+")$"));var o=[];return l(new f(t,!1),function(t){(!s||i.test(t.nodeType))&&(!a||n(t))&&o.push(t)}),o}function h(t){return"["+("undefined"==typeof t.getName?"Range":t.getName())+"("+O.inspectNode(t.startContainer)+":"+t.startOffset+", "+O.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function f(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&O.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||O.isCharacterDataNode(this.sc)?O.getClosestAncestorIn(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||O.isCharacterDataNode(this.ec)?O.getClosestAncestorIn(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function p(t){this.code=this[t],this.codeName=t,this.message="RangeException: "+this.codeName}function m(t,e,n){this.nodes=u(t,e,n),this._next=this.nodes[0],this._position=0}function g(t){return function(e,n){for(var i,s=n?e:e.parentNode;s;){if(i=s.nodeType,O.arrayContains(t,i))return s;s=s.parentNode}return null}}function v(t,e){if(W(t,e))throw new p("INVALID_NODE_TYPE_ERR")}function y(t){if(!t.startContainer)throw new L("INVALID_STATE_ERR")}function b(t,e){if(!O.arrayContains(e,t.nodeType))throw new p("INVALID_NODE_TYPE_ERR")}function w(t,e){if(0>e||e>(O.isCharacterDataNode(t)?t.length:t.childNodes.length))throw new L("INDEX_SIZE_ERR")}function C(t,e){if(U(t,!0)!==U(e,!0))throw new L("WRONG_DOCUMENT_ERR")}function D(t){if(B(t,!0))throw new L("NO_MODIFICATION_ALLOWED_ERR")}function S(t,e){if(!t)throw new L(e)}function x(t){if(y(t),!((O.arrayContains(P,t.startContainer.nodeType)||U(t.startContainer,!0))&&(O.arrayContains(P,t.endContainer.nodeType)||U(t.endContainer,!0))&&t.startOffset<=(O.isCharacterDataNode(t.startContainer)?t.startContainer.length:t.startContainer.childNodes.length)&&t.endOffset<=(O.isCharacterDataNode(t.endContainer)?t.endContainer.length:t.endContainer.childNodes.length)))throw Error("Range error: Range is no longer valid after DOM mutation ("+t.inspect()+")")}function _(){}function T(t){t.START_TO_START=q,t.START_TO_END=K,t.END_TO_END=Z,t.END_TO_START=X,t.NODE_BEFORE=J,t.NODE_AFTER=Q,t.NODE_BEFORE_AND_AFTER=tt,t.NODE_INSIDE=et}function E(t){T(t),T(t.prototype)}function k(t,e){return function(){x(this);var n=this.startContainer,i=this.startOffset,s=this.commonAncestorContainer,o=new f(this,!0);return n!==s&&(n=O.getClosestAncestorIn(n,s,!0),i=a(n),n=i.node,i=i.offset),l(o,D),o.reset(),s=t(o),o.detach(),e(this,n,i,n,i),s}}function N(n,i,o){function r(t,e){return function(n){y(this),b(n,H),b($(n),P),n=(t?s:a)(n),(e?l:u)(this,n.node,n.offset)}}function l(t,e,n){var s=t.endContainer,a=t.endOffset;(e!==t.startContainer||n!==t.startOffset)&&(($(e)!=$(s)||1==O.comparePoints(e,n,s,a))&&(s=e,a=n),i(t,e,n,s,a))}function u(t,e,n){var s=t.startContainer,a=t.startOffset;(e!==t.endContainer||n!==t.endOffset)&&(($(e)!=$(s)||-1==O.comparePoints(e,n,s,a))&&(s=e,a=n),i(t,s,a,e,n))}n.prototype=new _,t.util.extend(n.prototype,{setStart:function(t,e){y(this),v(t,!0),w(t,e),l(this,t,e)},setEnd:function(t,e){y(this),v(t,!0),w(t,e),u(this,t,e)},setStartBefore:r(!0,!0),setStartAfter:r(!1,!0),setEndBefore:r(!0,!1),setEndAfter:r(!1,!1),collapse:function(t){x(this),t?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){y(this),v(t,!0),i(this,t,0,t,O.getNodeLength(t))},selectNode:function(t){y(this),v(t,!1),b(t,H);var e=s(t),t=a(t);i(this,e.node,e.offset,t.node,t.offset)},extractContents:k(d,i),deleteContents:k(c,i),canSurroundContents:function(){x(this),D(this.startContainer),D(this.endContainer);var t=new f(this,!0),n=t._first&&e(t._first,this)||t._last&&e(t._last,this);return t.detach(),!n},detach:function(){o(this)},splitBoundaries:function(){x(this);var t=this.startContainer,e=this.startOffset,n=this.endContainer,s=this.endOffset,a=t===n;O.isCharacterDataNode(n)&&s>0&&s<n.length&&O.splitDataNode(n,s),O.isCharacterDataNode(t)&&e>0&&e<t.length&&(t=O.splitDataNode(t,e),a?(s-=e,n=t):n==t.parentNode&&s>=O.getNodeIndex(t)&&s++,e=0),i(this,t,e,n,s)},normalizeBoundaries:function(){x(this);var t=this.startContainer,e=this.startOffset,n=this.endContainer,s=this.endOffset,a=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(n=t,s=t.length,t.appendData(e.data),e.parentNode.removeChild(e))},o=function(i){var a=i.previousSibling;if(a&&a.nodeType==i.nodeType){t=i;var o=i.length;e=a.length,i.insertData(0,a.data),a.parentNode.removeChild(a),t==n?(s+=e,n=t):n==i.parentNode&&(a=O.getNodeIndex(i),s==a?(n=i,s=o):s>a&&s--)}},r=!0;O.isCharacterDataNode(n)?n.length==s&&a(n):(s>0&&(r=n.childNodes[s-1])&&O.isCharacterDataNode(r)&&a(r),r=!this.collapsed),r?O.isCharacterDataNode(t)?0==e&&o(t):e<t.childNodes.length&&(a=t.childNodes[e])&&O.isCharacterDataNode(a)&&o(a):(t=n,e=s),i(this,t,e,n,s)},collapseToPoint:function(t,e){y(this),v(t,!0),w(t,e),(t!==this.startContainer||e!==this.startOffset||t!==this.endContainer||e!==this.endOffset)&&i(this,t,e,t,e)}}),E(n)}function M(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:O.getCommonAncestor(t.startContainer,t.endContainer)}function R(t,e,n,s,a){var o=t.startContainer!==e||t.startOffset!==n,r=t.endContainer!==s||t.endOffset!==a;t.startContainer=e,t.startOffset=n,t.endContainer=s,t.endOffset=a,M(t),i(t,"boundarychange",{startMoved:o,endMoved:r})}function A(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},M(this)}t.requireModules(["DomUtil"]);var O=t.dom,I=O.DomPosition,L=t.DOMException;f.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,O.isCharacterDataNode(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,n=this._current;!O.isCharacterDataNode(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(t=n===this.sc?this.so:0,e=n===this.ec?this.eo:n.length,t!=e&&n.deleteData(t,e-t))},isPartiallySelectedSubtree:function(){return e(this._current,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)t=this.range.cloneRange(),t.collapse();else{t=new A(n(this.range));var e=this._current,i=e,s=0,a=e,o=O.getNodeLength(e);O.isAncestorOf(e,this.sc,!0)&&(i=this.sc,s=this.so),O.isAncestorOf(e,this.ec,!0)&&(a=this.ec,o=this.eo),R(t,i,s,a,o)}return new f(t,this.clonePartiallySelectedTextNodes)},detach:function(t){t&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},p.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},p.prototype.toString=function(){return this.message},m.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var H=[1,3,4,5,7,8,10],P=[2,9,11],F=[1,3,4,5,7,8,10,11],Y=[1,3,4,5,7,8],$=O.getRootContainer,U=g([9,11]),B=g([5,6,10,12]),W=g([6,10,12]),j=document.createElement("style"),z=!1;try{j.innerHTML="<b>x</b>",z=3==j.firstChild.nodeType}catch(V){}t.features.htmlParsingConforms=z;var G="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),q=0,K=1,Z=2,X=3,J=0,Q=1,tt=2,et=3;_.prototype={attachListener:function(t,e){this._listeners[t].push(e)},compareBoundaryPoints:function(t,e){x(this),C(this.startContainer,e.startContainer);var n=t==X||t==q?"start":"end",i=t==K||t==q?"start":"end";return O.comparePoints(this[n+"Container"],this[n+"Offset"],e[i+"Container"],e[i+"Offset"])},insertNode:function(t){if(x(this),b(t,F),D(this.startContainer),O.isAncestorOf(t,this.startContainer,!0))throw new L("HIERARCHY_REQUEST_ERR");this.setStartBefore(o(t,this.startContainer,this.startOffset))},cloneContents:function(){x(this);var t,e;return this.collapsed?n(this).createDocumentFragment():this.startContainer===this.endContainer&&O.isCharacterDataNode(this.startContainer)?(t=this.startContainer.cloneNode(!0),t.data=t.data.slice(this.startOffset,this.endOffset),e=n(this).createDocumentFragment(),e.appendChild(t),e):(e=new f(this,!0),t=r(e),e.detach(),t)},canSurroundContents:function(){x(this),D(this.startContainer),D(this.endContainer);var t=new f(this,!0),n=t._first&&e(t._first,this)||t._last&&e(t._last,this);return t.detach(),!n},surroundContents:function(t){if(b(t,Y),!this.canSurroundContents())throw new p("BAD_BOUNDARYPOINTS_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);o(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){x(this);for(var t,e=new A(n(this)),i=G.length;i--;)t=G[i],e[t]=this[t];return e},toString:function(){x(this);var t=this.startContainer;if(t===this.endContainer&&O.isCharacterDataNode(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],t=new f(this,!0);return l(t,function(t){(3==t.nodeType||4==t.nodeType)&&e.push(t.data)}),t.detach(),e.join("")},compareNode:function(t){x(this);var e=t.parentNode,n=O.getNodeIndex(t);if(!e)throw new L("NOT_FOUND_ERR");return t=this.comparePoint(e,n),e=this.comparePoint(e,n+1),0>t?e>0?tt:J:e>0?Q:et},comparePoint:function(t,e){return x(this),S(t,"HIERARCHY_REQUEST_ERR"),C(t,this.startContainer),0>O.comparePoints(t,e,this.startContainer,this.startOffset)?-1:0<O.comparePoints(t,e,this.endContainer,this.endOffset)?1:0},createContextualFragment:z?function(t){var e=this.startContainer,n=O.getDocument(e);if(!e)throw new L("INVALID_STATE_ERR");var i=null;return 1==e.nodeType?i=e:O.isCharacterDataNode(e)&&(i=O.parentElement(e)),i=null===i||"HTML"==i.nodeName&&O.isHtmlNamespace(O.getDocument(i).documentElement)&&O.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1),i.innerHTML=t,O.fragmentFromNodeChildren(i)}:function(t){y(this);var e=n(this).createElement("body");return e.innerHTML=t,O.fragmentFromNodeChildren(e)},toHtml:function(){x(this);var t=n(this).createElement("div");return t.appendChild(this.cloneContents()),t.innerHTML},intersectsNode:function(t,e){if(x(this),S(t,"NOT_FOUND_ERR"),O.getDocument(t)!==n(this))return!1;var i=t.parentNode,s=O.getNodeIndex(t);S(i,"NOT_FOUND_ERR");var a=O.comparePoints(i,s,this.endContainer,this.endOffset),i=O.comparePoints(i,s+1,this.startContainer,this.startOffset);return e?0>=a&&i>=0:0>a&&i>0},isPointInRange:function(t,e){return x(this),S(t,"HIERARCHY_REQUEST_ERR"),C(t,this.startContainer),0<=O.comparePoints(t,e,this.startContainer,this.startOffset)&&0>=O.comparePoints(t,e,this.endContainer,this.endOffset)},intersectsRange:function(t,e){if(x(this),n(t)!=n(this))throw new L("WRONG_DOCUMENT_ERR");var i=O.comparePoints(this.startContainer,this.startOffset,t.endContainer,t.endOffset),s=O.comparePoints(this.endContainer,this.endOffset,t.startContainer,t.startOffset);return e?0>=i&&s>=0:0>i&&s>0},intersection:function(t){if(this.intersectsRange(t)){var e=O.comparePoints(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=O.comparePoints(this.endContainer,this.endOffset,t.endContainer,t.endOffset),i=this.cloneRange();

return-1==e&&i.setStart(t.startContainer,t.startOffset),1==n&&i.setEnd(t.endContainer,t.endOffset),i}return null},union:function(t){if(this.intersectsRange(t,!0)){var e=this.cloneRange();return-1==O.comparePoints(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==O.comparePoints(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new p("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==et},containsNodeContents:function(t){return 0<=this.comparePoint(t,0)&&0>=this.comparePoint(t,O.getNodeLength(t))},containsRange:function(t){return this.intersection(t).equals(t)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);return 0<n.length?(e.setStart(n[0],0),t=n.pop(),e.setEnd(t,t.length),t=this.containsRange(e),e.detach(),t):this.containsNodeContents(t)},createNodeIterator:function(t,e){return x(this),new m(this,t,e)},getNodes:function(t,e){return x(this),u(this,t,e)},getDocument:function(){return n(this)},collapseBefore:function(t){y(this),this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){y(this),this.setStartAfter(t),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(t){return A.rangesEqual(this,t)},inspect:function(){return h(this)}},N(A,R,function(t){y(t),t.startContainer=t.startOffset=t.endContainer=t.endOffset=null,t.collapsed=t.commonAncestorContainer=null,i(t,"detach",null),t._listeners=null}),t.rangePrototype=_.prototype,A.rangeProperties=G,A.RangeIterator=f,A.copyComparisonConstants=E,A.createPrototypeRange=N,A.inspect=h,A.getRangeDocument=n,A.rangesEqual=function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},t.DomRange=A,t.RangeException=p}),rangy.createModule("WrappedRange",function(t){function e(t,e,n,i){var o=t.duplicate();o.collapse(n);var r=o.parentElement();if(s.isAncestorOf(e,r,!0)||(r=e),!r.canHaveHTML)return new a(r.parentNode,s.getNodeIndex(r));var l,e=s.getDocument(r).createElement("span"),c=n?"StartToStart":"StartToEnd";do r.insertBefore(e,e.previousSibling),o.moveToElementText(e);while(0<(l=o.compareEndPoints(c,t))&&e.previousSibling);if(c=e.nextSibling,-1==l&&c&&s.isCharacterDataNode(c)){if(o.setEndPoint(n?"EndToStart":"EndToEnd",t),/[\r\n]/.test(c.data))for(r=o.duplicate(),n=r.text.replace(/\r\n/g,"\r").length,n=r.moveStart("character",n);-1==r.compareEndPoints("StartToEnd",r);)n++,r.moveStart("character",1);else n=o.text.length;r=new a(c,n)}else c=(i||!n)&&e.previousSibling,r=(n=(i||n)&&e.nextSibling)&&s.isCharacterDataNode(n)?new a(n,0):c&&s.isCharacterDataNode(c)?new a(c,c.length):new a(r,s.getNodeIndex(e));return e.parentNode.removeChild(e),r}function n(t,e){var n,i,a=t.offset,o=s.getDocument(t.node),r=o.body.createTextRange(),l=s.isCharacterDataNode(t.node);return l?(n=t.node,i=n.parentNode):(n=t.node.childNodes,n=a<n.length?n[a]:null,i=t.node),o=o.createElement("span"),o.innerHTML="&#feff;",n?i.insertBefore(o,n):i.appendChild(o),r.moveToElementText(o),r.collapse(!e),i.removeChild(o),l&&r[e?"moveStart":"moveEnd"]("character",a),r}t.requireModules(["DomUtil","DomRange"]);var i,s=t.dom,a=s.DomPosition,o=t.DomRange;if(!t.features.implementsDomRange||t.features.implementsTextRange&&t.config.preferTextRange){if(t.features.implementsTextRange){i=function(t){this.textRange=t,this.refresh()},i.prototype=new o(document),i.prototype.refresh=function(){var t,n,i=this.textRange;t=i.parentElement();var a=i.duplicate();a.collapse(!0),n=a.parentElement(),a=i.duplicate(),a.collapse(!1),i=a.parentElement(),n=n==i?n:s.getCommonAncestor(n,i),n=n==t?n:s.getCommonAncestor(t,n),0==this.textRange.compareEndPoints("StartToEnd",this.textRange)?n=t=e(this.textRange,n,!0,!0):(t=e(this.textRange,n,!0,!1),n=e(this.textRange,n,!1,!1)),this.setStart(t.node,t.offset),this.setEnd(n.node,n.offset)},o.copyComparisonConstants(i);var r=function(){return this}();"undefined"==typeof r.Range&&(r.Range=i),t.createNativeRange=function(t){return t=t||document,t.body.createTextRange()}}}else(function(){function e(t){for(var e,n=r.length;n--;)e=r[n],t[e]=t.nativeRange[e]}var n,a,r=o.rangeProperties;i=function(t){if(!t)throw Error("Range must be specified");this.nativeRange=t,e(this)},o.createPrototypeRange(i,function(t,e,n,i,s){var a=t.endContainer!==i||t.endOffset!=s;(t.startContainer!==e||t.startOffset!=n||a)&&(t.setEnd(i,s),t.setStart(e,n))},function(t){t.nativeRange.detach(),t.detached=!0;for(var e,n=r.length;n--;)e=r[n],t[e]=null}),n=i.prototype,n.selectNode=function(t){this.nativeRange.selectNode(t),e(this)},n.deleteContents=function(){this.nativeRange.deleteContents(),e(this)},n.extractContents=function(){var t=this.nativeRange.extractContents();return e(this),t},n.cloneContents=function(){return this.nativeRange.cloneContents()},n.surroundContents=function(t){this.nativeRange.surroundContents(t),e(this)},n.collapse=function(t){this.nativeRange.collapse(t),e(this)},n.cloneRange=function(){return new i(this.nativeRange.cloneRange())},n.refresh=function(){e(this)},n.toString=function(){return this.nativeRange.toString()};var l=document.createTextNode("test");s.getBody(document).appendChild(l);var c=document.createRange();c.setStart(l,0),c.setEnd(l,0);try{c.setStart(l,1),n.setStart=function(t,n){this.nativeRange.setStart(t,n),e(this)},n.setEnd=function(t,n){this.nativeRange.setEnd(t,n),e(this)},a=function(t){return function(n){this.nativeRange[t](n),e(this)}}}catch(d){n.setStart=function(t,n){try{this.nativeRange.setStart(t,n)}catch(i){this.nativeRange.setEnd(t,n),this.nativeRange.setStart(t,n)}e(this)},n.setEnd=function(t,n){try{this.nativeRange.setEnd(t,n)}catch(i){this.nativeRange.setStart(t,n),this.nativeRange.setEnd(t,n)}e(this)},a=function(t,n){return function(i){try{this.nativeRange[t](i)}catch(s){this.nativeRange[n](i),this.nativeRange[t](i)}e(this)}}}n.setStartBefore=a("setStartBefore","setEndBefore"),n.setStartAfter=a("setStartAfter","setEndAfter"),n.setEndBefore=a("setEndBefore","setStartBefore"),n.setEndAfter=a("setEndAfter","setStartAfter"),c.selectNodeContents(l),n.selectNodeContents=c.startContainer==l&&c.endContainer==l&&0==c.startOffset&&c.endOffset==l.length?function(t){this.nativeRange.selectNodeContents(t),e(this)}:function(t){this.setStart(t,0),this.setEnd(t,o.getEndOffset(t))},c.selectNodeContents(l),c.setEnd(l,3),a=document.createRange(),a.selectNodeContents(l),a.setEnd(l,4),a.setStart(l,2),n.compareBoundaryPoints=-1==c.compareBoundaryPoints(c.START_TO_END,a)&1==c.compareBoundaryPoints(c.END_TO_START,a)?function(t,e){return e=e.nativeRange||e,t==e.START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)},t.util.isHostMethod(c,"createContextualFragment")&&(n.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),s.getBody(document).removeChild(l),c.detach(),a.detach()})(),t.createNativeRange=function(t){return t=t||document,t.createRange()};t.features.implementsTextRange&&(i.rangeToTextRange=function(t){if(t.collapsed)return n(new a(t.startContainer,t.startOffset),!0);var e=n(new a(t.startContainer,t.startOffset),!0),i=n(new a(t.endContainer,t.endOffset),!1),t=s.getDocument(t.startContainer).body.createTextRange();return t.setEndPoint("StartToStart",e),t.setEndPoint("EndToEnd",i),t}),i.prototype.getName=function(){return"WrappedRange"},t.WrappedRange=i,t.createRange=function(e){return e=e||document,new i(t.createNativeRange(e))},t.createRangyRange=function(t){return t=t||document,new o(t)},t.createIframeRange=function(e){return t.createRange(s.getIframeDocument(e))},t.createIframeRangyRange=function(e){return t.createRangyRange(s.getIframeDocument(e))},t.addCreateMissingNativeApiListener(function(e){e=e.document,"undefined"==typeof e.createRange&&(e.createRange=function(){return t.createRange(this)}),e=e=null})}),rangy.createModule("WrappedSelection",function(t,e){function n(t){return(t||window).getSelection()}function i(t){return(t||window).document.selection}function s(t,e,n){var i=n?"end":"start",n=n?"start":"end";t.anchorNode=e[i+"Container"],t.anchorOffset=e[i+"Offset"],t.focusNode=e[n+"Container"],t.focusOffset=e[n+"Offset"]}function a(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function o(e){var n;return e instanceof b?(n=e._selectionNativeRange,n||(n=t.createNativeRange(v.getDocument(e.startContainer)),n.setEnd(e.endContainer,e.endOffset),n.setStart(e.startContainer,e.startOffset),e._selectionNativeRange=n,e.attachListener("detach",function(){this._selectionNativeRange=null}))):e instanceof w?n=e.nativeRange:t.features.implementsDomRange&&e instanceof v.getWindow(e.startContainer).Range&&(n=e),n}function r(t){var e,n=t.getNodes();t:if(n.length&&1==n[0].nodeType){e=1;for(var i=n.length;i>e;++e)if(!v.isAncestorOf(n[0],n[e])){e=!1;break t}e=!0}else e=!1;if(!e)throw Error("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return n[0]}function l(t,e){var n=new w(e);t._ranges=[n],s(t,n,!1),t.rangeCount=1,t.isCollapsed=n.collapsed}function c(e){if(e._ranges.length=0,"None"==e.docSelection.type)a(e);else{var n=e.docSelection.createRange();if(n&&"undefined"!=typeof n.text)l(e,n);else{e.rangeCount=n.length;for(var i,o=v.getDocument(n.item(0)),r=0;r<e.rangeCount;++r)i=t.createRange(o),i.selectNode(n.item(r)),e._ranges.push(i);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,s(e,e._ranges[e.rangeCount-1],!1)}}}function d(t,e){for(var n=t.docSelection.createRange(),i=r(e),s=v.getDocument(n.item(0)),s=v.getBody(s).createControlRange(),a=0,o=n.length;o>a;++a)s.add(n.item(a));try{s.add(i)}catch(l){throw Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}s.select(),c(t)}function u(t,e,n){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=n,this.refresh()}function h(t,e){for(var n,i=v.getDocument(e[0].startContainer),i=v.getBody(i).createControlRange(),s=0;rangeCount>s;++s){n=r(e[s]);try{i.add(n)}catch(a){throw Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}i.select(),c(t)}function f(t,e){if(t.anchorNode&&v.getDocument(t.anchorNode)!==v.getDocument(e))throw new C("WRONG_DOCUMENT_ERR")}function p(t){var e=[],n=new D(t.anchorNode,t.anchorOffset),i=new D(t.focusNode,t.focusOffset),s="function"==typeof t.getName?t.getName():"Selection";if("undefined"!=typeof t.rangeCount)for(var a=0,o=t.rangeCount;o>a;++a)e[a]=b.inspect(t.getRangeAt(a));return"["+s+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}t.requireModules(["DomUtil","DomRange","WrappedRange"]),t.config.checkSelectionRanges=!0;var m,g,v=t.dom,y=t.util,b=t.DomRange,w=t.WrappedRange,C=t.DOMException,D=v.DomPosition,S=t.util.isHostMethod(window,"getSelection"),x=t.util.isHostObject(document,"selection"),_=x&&(!S||t.config.preferTextRange);_?(m=i,t.isSelectionValid=function(t){var t=(t||window).document,e=t.selection;return"None"!=e.type||v.getDocument(e.createRange().parentElement())==t}):S?(m=n,t.isSelectionValid=function(){return!0}):e.fail("Neither document.selection or window.getSelection() detected."),t.getNativeSelection=m;var S=m(),T=t.createNativeRange(document),E=v.getBody(document),k=y.areHostObjects(S,y.areHostProperties(S,["anchorOffset","focusOffset"]));t.features.selectionHasAnchorAndFocus=k;var N=y.isHostMethod(S,"extend");t.features.selectionHasExtend=N;var M="number"==typeof S.rangeCount;t.features.selectionHasRangeCount=M;var R=!1,A=!0;y.areHostMethods(S,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof S.rangeCount&&t.features.implementsDomRange&&function(){var t=document.createElement("iframe");E.appendChild(t);var e=v.getIframeDocument(t);e.open(),e.write("<html><head></head><body>12</body></html>"),e.close();var n=v.getIframeWindow(t).getSelection(),i=e.documentElement.lastChild.firstChild,e=e.createRange();e.setStart(i,1),e.collapse(!0),n.addRange(e),A=1==n.rangeCount,n.removeAllRanges();var s=e.cloneRange();e.setStart(i,0),s.setEnd(i,2),n.addRange(e),n.addRange(s),R=2==n.rangeCount,e.detach(),s.detach(),E.removeChild(t)}(),t.features.selectionSupportsMultipleRanges=R,t.features.collapsedNonEditableSelectionsSupported=A;var O,I=!1;E&&y.isHostMethod(E,"createControlRange")&&(O=E.createControlRange(),y.areHostProperties(O,["item","add"])&&(I=!0)),t.features.implementsControlRange=I,g=k?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return t.rangeCount?t.getRangeAt(t.rangeCount-1).collapsed:!1};var L;if(y.isHostMethod(S,"getRangeAt")?L=function(t,e){try{return t.getRangeAt(e)}catch(n){return null}}:k&&(L=function(e){var n=v.getDocument(e.anchorNode),n=t.createRange(n);return n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.collapsed!==this.isCollapsed&&(n.setStart(e.focusNode,e.focusOffset),n.setEnd(e.anchorNode,e.anchorOffset)),n}),t.getSelection=function(t){var t=t||window,e=t._rangySelection,n=m(t),s=x?i(t):null;return e?(e.nativeSelection=n,e.docSelection=s,e.refresh(t)):(e=new u(n,s,t),t._rangySelection=e),e},t.getIframeSelection=function(e){return t.getSelection(v.getIframeWindow(e))},O=u.prototype,!_&&k&&y.areHostMethods(S,["removeAllRanges","addRange"])){O.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),a(this)};var H=function(e,n){var i=b.getRangeDocument(n),i=t.createRange(i);i.collapseToPoint(n.endContainer,n.endOffset),e.nativeSelection.addRange(o(i)),e.nativeSelection.extend(n.startContainer,n.startOffset),e.refresh()};O.addRange=M?function(e,n){if(I&&x&&"Control"==this.docSelection.type)d(this,e);else if(n&&N)H(this,e);else{var i;R?i=this.rangeCount:(this.removeAllRanges(),i=0),this.nativeSelection.addRange(o(e)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1?(t.config.checkSelectionRanges&&(i=L(this.nativeSelection,this.rangeCount-1))&&!b.rangesEqual(i,e)&&(e=new w(i)),this._ranges[this.rangeCount-1]=e,s(this,e,Y(this.nativeSelection)),this.isCollapsed=g(this)):this.refresh()}}:function(t,e){e&&N?H(this,t):(this.nativeSelection.addRange(o(t)),this.refresh())},O.setRanges=function(t){if(I&&t.length>1)h(this,t);else{this.removeAllRanges();for(var e=0,n=t.length;n>e;++e)this.addRange(t[e])}}}else{if(!(y.isHostMethod(S,"empty")&&y.isHostMethod(T,"select")&&I&&_))return e.fail("No means of selecting a Range or TextRange was found"),!1;O.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=v.getDocument(this.anchorNode);else if("Control"==this.docSelection.type){var e=this.docSelection.createRange();e.length&&(t=v.getDocument(e.item(0)).body.createTextRange())}t&&(t.body.createTextRange().select(),this.docSelection.empty())}}catch(n){}a(this)},O.addRange=function(t){"Control"==this.docSelection.type?d(this,t):(w.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},O.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?h(this,t):e&&this.addRange(t[0])}}O.getRangeAt=function(t){if(0>t||t>=this.rangeCount)throw new C("INDEX_SIZE_ERR");return this._ranges[t]};var P;if(_)P=function(e){var n;t.isSelectionValid(e.win)?n=e.docSelection.createRange():(n=v.getBody(e.win.document).createTextRange(),n.collapse(!0)),"Control"==e.docSelection.type?c(e):n&&"undefined"!=typeof n.text?l(e,n):a(e)};else if(y.isHostMethod(S,"getRangeAt")&&"number"==typeof S.rangeCount)P=function(e){if(I&&x&&"Control"==e.docSelection.type)c(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var n=0,i=e.rangeCount;i>n;++n)e._ranges[n]=new t.WrappedRange(e.nativeSelection.getRangeAt(n));s(e,e._ranges[e.rangeCount-1],Y(e.nativeSelection)),e.isCollapsed=g(e)}else a(e)};else{if(!k||"boolean"!=typeof S.isCollapsed||"boolean"!=typeof T.collapsed||!t.features.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;P=function(t){var e;e=t.nativeSelection,e.anchorNode?(e=L(e,0),t._ranges=[e],t.rangeCount=1,e=t.nativeSelection,t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset,t.isCollapsed=g(t)):a(t)}}O.refresh=function(t){var e=t?this._ranges.slice(0):null;if(P(this),t){if(t=e.length,t!=this._ranges.length)return!1;for(;t--;)if(!b.rangesEqual(e[t],this._ranges[t]))return!1;return!0}};var F=function(t,e){var n=t.getAllRanges(),i=!1;t.removeAllRanges();for(var s=0,o=n.length;o>s;++s)i||e!==n[s]?t.addRange(n[s]):i=!0;t.rangeCount||a(t)};O.removeRange=I?function(t){if("Control"==this.docSelection.type){for(var e,n=this.docSelection.createRange(),t=r(t),i=v.getDocument(n.item(0)),i=v.getBody(i).createControlRange(),s=!1,a=0,o=n.length;o>a;++a)e=n.item(a),e!==t||s?i.add(n.item(a)):s=!0;i.select(),c(this)}else F(this,t)}:function(t){F(this,t)};var Y;!_&&k&&t.features.implementsDomRange?(Y=function(t){var e=!1;return t.anchorNode&&(e=1==v.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e},O.isBackwards=function(){return Y(this)}):Y=O.isBackwards=function(){return!1},O.toString=function(){for(var t=[],e=0,n=this.rangeCount;n>e;++e)t[e]=""+this._ranges[e];return t.join("")},O.collapse=function(e,n){f(this,e);var i=t.createRange(v.getDocument(e));i.collapseToPoint(e,n),this.removeAllRanges(),this.addRange(i),this.isCollapsed=!0},O.collapseToStart=function(){if(!this.rangeCount)throw new C("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},O.collapseToEnd=function(){if(!this.rangeCount)throw new C("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},O.selectAllChildren=function(e){f(this,e);var n=t.createRange(v.getDocument(e));n.selectNodeContents(e),this.removeAllRanges(),this.addRange(n)},O.deleteFromDocument=function(){if(I&&x&&"Control"==this.docSelection.type){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),t.parentNode.removeChild(t);this.refresh()}else if(this.rangeCount){e=this.getAllRanges(),this.removeAllRanges(),t=0;for(var n=e.length;n>t;++t)e[t].deleteContents();this.addRange(e[n-1])}},O.getAllRanges=function(){return this._ranges.slice(0)},O.setSingleRange=function(t){this.setRanges([t])},O.containsNode=function(t,e){for(var n=0,i=this._ranges.length;i>n;++n)if(this._ranges[n].containsNode(t,e))return!0;return!1},O.toHtml=function(){var t="";if(this.rangeCount){for(var t=b.getRangeDocument(this._ranges[0]).createElement("div"),e=0,n=this._ranges.length;n>e;++e)t.appendChild(this._ranges[e].cloneContents());t=t.innerHTML}return t},O.getName=function(){return"WrappedSelection"},O.inspect=function(){return p(this)},O.detach=function(){this.win=this.anchorNode=this.focusNode=this.win._rangySelection=null},u.inspect=p,t.Selection=u,t.selectionPrototype=O,t.addCreateMissingNativeApiListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return t.getSelection(this)}),e=null})});var Base=function(){};Base.extend=function(t,e){var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,t),i.base=function(){},delete Base._prototyping;var s=i.constructor,a=i.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==a)this._constructing=!0,s.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],i)};return a.ancestor=this,a.extend=this.extend,a.forEach=this.forEach,a.implement=this.implement,a.prototype=i,a.toString=this.toString,a.valueOf=function(t){return"object"==t?a:s.valueOf()},n.call(a,e),"function"==typeof a.init&&a.init(),a},Base.prototype={extend:function(t,e){if(1<arguments.length){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var i=e.valueOf(),e=function(){var t=this.base||Base.prototype.base;this.base=n;var e=i.apply(this,arguments);return this.base=t,e};e.valueOf=function(t){return"object"==t?e:i},e.toString=Base.toString}this[t]=e}else if(t){var s=Base.prototype.extend;!Base._prototyping&&"function"!=typeof this&&(s=this.extend||s);for(var a={toSource:null},o=["constructor","toString","valueOf"],r=Base._prototyping?0:1;l=o[r++];)t[l]!=a[l]&&s.call(this,l,t[l]);for(var l in t)a[l]||s.call(this,l,t[l])}return this}},Base=Base.extend({constructor:function(t){this.extend(t)}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var i in t)void 0===this.prototype[i]&&e.call(n,t[i],i,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return""+this.valueOf()}}),wysihtml5.browser=function(){var t=navigator.userAgent,e=document.createElement("div"),n=-1!==t.indexOf("MSIE")&&-1===t.indexOf("Opera"),i=-1!==t.indexOf("Gecko")&&-1===t.indexOf("KHTML"),s=-1!==t.indexOf("AppleWebKit/"),a=-1!==t.indexOf("Chrome/"),o=-1!==t.indexOf("Opera/");return{USER_AGENT:t,supported:function(){var t=this.USER_AGENT.toLowerCase(),n="contentEditable"in e,i=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,s=document.querySelector&&document.querySelectorAll,t=this.isIos()&&5>(/ipad|iphone|ipod/.test(t)&&t.match(/ os (\d+).+? like mac os x/)||[,0])[1]||-1!==t.indexOf("opera mobi")||-1!==t.indexOf("hpwos/");return n&&i&&s&&!t},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var t=this.USER_AGENT.toLowerCase();return-1!==t.indexOf("webkit")&&-1!==t.indexOf("mobile")},supportsSandboxedIframes:function(){return n},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!i},hasCurrentStyleProperty:function(){return"currentStyle"in e},insertsLineBreaksOnReturn:function(){return i},supportsPlaceholderAttributeOn:function(t){return"placeholder"in t},supportsEvent:function(t){var n;return(n="on"+t in e)||(e.setAttribute("on"+t,"return;"),n="function"==typeof e["on"+t]),n},supportsEventsInIframeCorrectly:function(){return!o},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return s||i},supportsDataTransfer:function(){try{return s&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(t){return!1}},supportsHTML5Tags:function(t){return t=t.createElement("div"),t.innerHTML="<article>foo</article>","<article>foo</article>"===t.innerHTML.toLowerCase()},supportsCommand:function(){var t={formatBlock:n,insertUnorderedList:n||o||s,insertOrderedList:n||o||s},e={insertHTML:i};return function(n,i){if(!t[i]){try{return n.queryCommandSupported(i)}catch(s){}try{return n.queryCommandEnabled(i)}catch(a){return!!e[i]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return n},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return i||o||s},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return i||n||o},clearsListsInContentEditableCorrectly:function(){return i||n||s},autoScrollsToCaret:function(){return!s},autoClosesUnclosedTags:function(){var t,n=e.cloneNode(!1);return n.innerHTML="<p><div></div>",n=n.innerHTML.toLowerCase(),t="<p></p><div></div>"===n||"<p><div></div></p>"===n,this.autoClosesUnclosedTags=function(){return t},t},supportsNativeGetElementsByClassName:function(){return-1!==(""+document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in e},needsSpaceAfterLineBreak:function(){return o},supportsSpeechApiOn:function(e){return 11<=(t.match(/Chrome\/(\d+)/)||[,0])[1]&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(t){return n&&("XMLHttpRequest"===t||"XDomainRequest"===t)},doesAsyncFocus:function(){return n},hasProblemsSettingCaretAfterImg:function(){return n},hasUndoInContextMenu:function(){return i||a||o}}}(),wysihtml5.lang.array=function(t){return{contains:function(e){if(t.indexOf)return-1!==t.indexOf(e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return!0;return!1},without:function(e){for(var e=wysihtml5.lang.array(e),n=[],i=0,s=t.length;s>i;i++)e.contains(t[i])||n.push(t[i]);return n},get:function(){for(var e=0,n=t.length,i=[];n>e;e++)i.push(t[e]);return i}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(t,e){return this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(t,e){this.events=this.events||{};for(var n=this.events[t]||[],i=0;i<n.length;i++)n[i].call(this,e);return this},stopObserving:function(t,e){this.events=this.events||{};var n,i,s=0;if(t){for(n=this.events[t]||[],i=[];s<n.length;s++)n[s]!==e&&e&&i.push(n[s]);this.events[t]=i}else this.events={};return this}}),wysihtml5.lang.object=function(t){return{merge:function(e){for(var n in e)t[n]=e[n];return this},get:function(){return t},clone:function(){var e,n={};for(e in t)n[e]=t[e];return n},isArray:function(){return"[object Array]"===Object.prototype.toString.call(t)}}},function(){var t=/^\s+/,e=/\s+$/;wysihtml5.lang.string=function(n){return n=""+n,{trim:function(){return n.replace(t,"").replace(e,"")},interpolate:function(t){for(var e in t)n=this.replace("#{"+e+"}").by(t[e]);return n},replace:function(t){return{by:function(e){return n.split(t).join(e)}}}}}}(),function(t){function e(t){return t.replace(s,function(t,e){var n=(e.match(a)||[])[1]||"",i=r[n],e=e.replace(a,"");e.split(i).length>e.split(n).length&&(e+=n,n="");var s=i=e;return e.length>o&&(s=s.substr(0,o)+"..."),"www."===i.substr(0,4)&&(i="http://"+i),'<a href="'+i+'">'+s+"</a>"+n})}function n(a){if(!i.contains(a.nodeName)){if(a.nodeType!==t.TEXT_NODE||!a.data.match(s)){for(r=t.lang.array(a.childNodes).get(),o=r.length,l=0;o>l;l++)n(r[l]);return a}var o,r=a.parentNode;o=r.ownerDocument;var l=o._wysihtml5_tempElement;for(l||(l=o._wysihtml5_tempElement=o.createElement("div")),o=l,o.innerHTML="<span></span>"+e(a.data),o.removeChild(o.firstChild);o.firstChild;)r.insertBefore(o.firstChild,a);r.removeChild(a)}}var i=t.lang.array("CODE PRE A SCRIPT HEAD TITLE STYLE".split(" ")),s=/((https?:\/\/|www\.)[^\s<]{3,})/gi,a=/([^\w\/\-](,?))$/i,o=100,r={")":"(","]":"[","}":"{"};t.dom.autoLink=function(t){var e;t:{e=t;for(var s;e.parentNode;){if(e=e.parentNode,s=e.nodeName,i.contains(s)){e=!0;break t}if("body"===s)break}e=!1}return e?t:(t===t.ownerDocument.documentElement&&(t=t.ownerDocument.body),n(t))},t.dom.autoLink.URL_REG_EXP=s}(wysihtml5),function(t){var e=t.browser.supportsClassList(),n=t.dom;n.addClass=function(t,i){return e?t.classList.add(i):void(n.hasClass(t,i)||(t.className+=" "+i))},n.removeClass=function(t,n){return e?t.classList.remove(n):void(t.className=t.className.replace(RegExp("(^|\\s+)"+n+"(\\s+|$)")," "))},n.hasClass=function(t,n){if(e)return t.classList.contains(n);var i=t.className;return 0<i.length&&(i==n||RegExp("(^|\\s)"+n+"(\\s|$)").test(i))}}(wysihtml5),wysihtml5.dom.contains=function(){var t=document.documentElement;return t.contains?function(t,e){return e.nodeType!==wysihtml5.ELEMENT_NODE&&(e=e.parentNode),t!==e&&t.contains(e)}:t.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:void 0}(),wysihtml5.dom.convertToList=function(){function t(t,e){var n=t.createElement("li");return e.appendChild(n),n}return function(e,n){if("UL"===e.nodeName||"OL"===e.nodeName||"MENU"===e.nodeName)return e;var i,s,a,o,r,l=e.ownerDocument,c=l.createElement(n),d=e.querySelectorAll("br"),u=d.length;for(r=0;u>r;r++)for(i=d[r];(s=i.parentNode)&&s!==e&&s.lastChild===i;){if("block"===wysihtml5.dom.getStyle("display").from(s)){s.removeChild(i);break}wysihtml5.dom.insert(i).after(i.parentNode)}for(d=wysihtml5.lang.array(e.childNodes).get(),u=d.length,r=0;u>r;r++)o=o||t(l,c),i=d[r],s="block"===wysihtml5.dom.getStyle("display").from(i),a="BR"===i.nodeName,s?(o=o.firstChild?t(l,c):o,o.appendChild(i),o=null):a?o=o.firstChild?null:o:o.appendChild(i);return e.parentNode.replaceChild(c,e),c}}(),wysihtml5.dom.copyAttributes=function(t){return{from:function(e){return{to:function(n){for(var i,s=0,a=t.length;a>s;s++)i=t[s],"undefined"!=typeof e[i]&&""!==e[i]&&(n[i]=e[i]);return{andTo:arguments.callee}}}}}},function(t){var e=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],n=function(n){var i;t:for(var s=0,a=e.length;a>s;s++)if("border-box"===t.getStyle(e[s]).from(n)){i=e[s];break t}return i?parseInt(t.getStyle("width").from(n),10)<n.offsetWidth:!1};t.copyStyles=function(i){return{from:function(s){n(s)&&(i=wysihtml5.lang.array(i).without(e));for(var a,o="",r=i.length,l=0;r>l;l++)a=i[l],o+=a+":"+t.getStyle(a).from(s)+";";return{to:function(e){return t.setStyles(o).on(e),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(t){t.dom.delegate=function(e,n,i,s){return t.dom.observe(e,i,function(i){for(var a=i.target,o=t.lang.array(e.querySelectorAll(n));a&&a!==e;){if(o.contains(a)){s.call(a,i);break}a=a.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var t="abbr article aside audio bdi canvas command datalist details figcaption figure footer header hgroup keygen mark meter nav output progress rp rt ruby svg section source summary time track video wbr".split(" ");return function(e,n){var i,n=n||document;if("object"==typeof e&&e.nodeType)i=n.createElement("div"),i.appendChild(e);else if(wysihtml5.browser.supportsHTML5Tags(n))i=n.createElement("div"),i.innerHTML=e;else{if(i=n,!i._wysihtml5_supportsHTML5Tags){for(var s=0,a=t.length;a>s;s++)i.createElement(t[s]);i._wysihtml5_supportsHTML5Tags=!0}i=n,s=i.createElement("div"),s.style.display="none",i.body.appendChild(s);try{s.innerHTML=e}catch(o){}i.body.removeChild(s),i=s}return i}}(),wysihtml5.dom.getParentElement=function(){function t(t,e){return e&&e.length?"string"==typeof e?t===e:wysihtml5.lang.array(e).contains(t):!0}return function(e,n,i){if(i=i||50,n.className||n.classRegExp){t:{for(var s=n.nodeName,a=n.className,n=n.classRegExp;i--&&e&&"BODY"!==e.nodeName;){var o;if((o=e.nodeType===wysihtml5.ELEMENT_NODE)&&(o=t(e.nodeName,s))){o=a;var r=(e.className||"").match(n)||[];o=o?r[r.length-1]===o:!!r.length}if(o)break t;e=e.parentNode}e=null}return e}t:{for(s=n.nodeName,a=i;a--&&e&&"BODY"!==e.nodeName;){if(t(e.nodeName,s))break t;e=e.parentNode}e=null}return e}}(),wysihtml5.dom.getStyle=function(){function t(t){return t.replace(n,function(t){return t.charAt(1).toUpperCase()})}var e={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},n=/\-[a-z]/g;return function(n){return{from:function(i){if(i.nodeType===wysihtml5.ELEMENT_NODE){var s=i.ownerDocument,a=e[n]||t(n),o=i.style,r=i.currentStyle,l=o[a];if(l)return l;if(r)try{return r[a]}catch(c){}var d,a=s.defaultView||s.parentWindow,s=("height"===n||"width"===n)&&"TEXTAREA"===i.nodeName;if(a.getComputedStyle)return s&&(d=o.overflow,o.overflow="hidden"),i=a.getComputedStyle(i,null).getPropertyValue(n),s&&(o.overflow=d||""),i}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){var t={},e=1;return function(n,i){var s=(n._wysihtml5_identifier||(n._wysihtml5_identifier=e++))+":"+i,a=t[s];return a||(a=t[s]=n.getElementsByTagName(i)),0<a.length}}(),function(t){var e={},n=1;t.dom.hasElementWithClassName=function(i,s){if(!t.browser.supportsNativeGetElementsByClassName())return!!i.querySelector("."+s);var a=(i._wysihtml5_identifier||(i._wysihtml5_identifier=n++))+":"+s,o=e[a];

return o||(o=e[a]=i.getElementsByClassName(s)),0<o.length}}(wysihtml5),wysihtml5.dom.insert=function(t){return{after:function(e){e.parentNode.insertBefore(t,e.nextSibling)},before:function(e){e.parentNode.insertBefore(t,e)},into:function(e){e.appendChild(t)}}},wysihtml5.dom.insertCSS=function(t){return t=t.join("\n"),{into:function(e){var n=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),n&&n.appendChild(i)}}},wysihtml5.dom.observe=function(t,e,n){for(var i,s,e="string"==typeof e?[e]:e,a=0,o=e.length;o>a;a++)s=e[a],t.addEventListener?t.addEventListener(s,n,!1):(i=function(e){"target"in e||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},n.call(t,e)},t.attachEvent("on"+s,i));return{stop:function(){for(var s,a=0,o=e.length;o>a;a++)s=e[a],t.removeEventListener?t.removeEventListener(s,n,!1):t.detachEvent("on"+s,i)}}},wysihtml5.dom.parse=function(){function t(e,s){var a,o=e.childNodes,r=o.length;a=n[e.nodeType];var l=0;if(a=a&&a(e),!a)return null;for(l=0;r>l;l++)(newChild=t(o[l],s))&&a.appendChild(newChild);return s&&1>=a.childNodes.length&&a.nodeName.toLowerCase()===i&&!a.attributes.length?a.firstChild:a}function e(t,e){var n,e=e.toLowerCase();if((n="IMG"==t.nodeName)&&(n="src"==e)){var i;try{i=t.complete&&!t.mozMatchesSelector(":-moz-broken")}catch(s){t.complete&&"complete"===t.readyState&&(i=!0)}n=!0===i}return n?t.src:r&&"outerHTML"in t?-1!=t.outerHTML.toLowerCase().indexOf(" "+e+"=")?t.getAttribute(e):null:t.getAttribute(e)}var n={1:function(t){var n,a,r=o.tags;if(a=t.nodeName.toLowerCase(),n=t.scopeName,t._wysihtml5)return null;if(t._wysihtml5=1,"wysihtml5-temp"===t.className)return null;if(n&&"HTML"!=n&&(a=n+":"+a),"outerHTML"in t&&!wysihtml5.browser.autoClosesUnclosedTags()&&"P"===t.nodeName&&"</p>"!==t.outerHTML.slice(-4).toLowerCase()&&(a="div"),a in r){if(n=r[a],!n||n.remove)return null;n="string"==typeof n?{rename_tag:n}:n}else{if(!t.firstChild)return null;n={rename_tag:i}}a=t.ownerDocument.createElement(n.rename_tag||a);var r={},d=n.set_class,u=n.add_class,h=n.set_attributes,f=n.check_attributes,p=o.classes,m=0,g=[];n=[];var v,y=[],b=[];if(h&&(r=wysihtml5.lang.object(h).clone()),f)for(v in f)(h=l[f[v]])&&(h=h(e(t,v)),"string"==typeof h&&(r[v]=h));if(d&&g.push(d),u)for(v in u)(h=c[u[v]])&&(d=h(e(t,v)),"string"==typeof d&&g.push(d));for(p["_wysihtml5-temp-placeholder"]=1,(b=t.getAttribute("class"))&&(g=g.concat(b.split(s))),u=g.length;u>m;m++)t=g[m],p[t]&&n.push(t);for(p=n.length;p--;)t=n[p],wysihtml5.lang.array(y).contains(t)||y.unshift(t);y.length&&(r["class"]=y.join(" "));for(v in r)try{a.setAttribute(v,r[v])}catch(w){}return r.src&&("undefined"!=typeof r.width&&a.setAttribute("width",r.width),"undefined"!=typeof r.height&&a.setAttribute("height",r.height)),a},3:function(t){return t.ownerDocument.createTextNode(t.data)}},i="span",s=/\s+/,a={tags:{},classes:{}},o={},r=!wysihtml5.browser.supportsGetAttributeCorrectly(),l={url:function(){var t=/^https?:\/\//i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),alt:function(){var t=/[^ a-z0-9_\-]/gi;return function(e){return e?e.replace(t,""):""}}(),numbers:function(){var t=/\D/g;return function(e){return(e=(e||"").replace(t,""))||null}}()},c={align_img:function(){var t={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(e){return t[(""+e).toLowerCase()]}}(),align_text:function(){var t={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(e){return t[(""+e).toLowerCase()]}}(),clear_br:function(){var t={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(e){return t[(""+e).toLowerCase()]}}(),size_font:function(){var t={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(e){return t[(""+e).charAt(0)]}}()};return function(e,n,i,s){wysihtml5.lang.object(o).merge(a).merge(n).get();for(var i=i||e.ownerDocument||document,n=i.createDocumentFragment(),r="string"==typeof e,e=r?wysihtml5.dom.getAsDom(e,i):e;e.firstChild;)i=e.firstChild,e.removeChild(i),(i=t(i,s))&&n.appendChild(i);return e.innerHTML="",e.appendChild(n),r?wysihtml5.quirks.getCorrectInnerHTML(e):e}}(),wysihtml5.dom.removeEmptyTextNodes=function(t){for(var e=wysihtml5.lang.array(t.childNodes).get(),n=e.length,i=0;n>i;i++)t=e[i],t.nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(t,e){for(var n,i=t.ownerDocument.createElement(e);n=t.firstChild;)i.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(t).to(i),t.parentNode.replaceChild(i,t),i},wysihtml5.dom.replaceWithChildNodes=function(t){if(t.parentNode)if(t.firstChild){for(var e=t.ownerDocument.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t.parentNode.replaceChild(e,t)}else t.parentNode.removeChild(t)},function(t){function e(t){var e=t.ownerDocument.createElement("br");t.appendChild(e)}t.resolveList=function(n){if("MENU"===n.nodeName||"UL"===n.nodeName||"OL"===n.nodeName){var i,s,a,o=n.ownerDocument.createDocumentFragment(),r=n.previousElementSibling||n.previousSibling;for(r&&"block"!==t.getStyle("display").from(r)&&e(o);a=n.firstChild;){for(i=a.lastChild;r=a.firstChild;)s=(s=r===i)&&"block"!==t.getStyle("display").from(r)&&"BR"!==r.nodeName,o.appendChild(r),s&&e(o);a.parentNode.removeChild(a)}n.parentNode.replaceChild(o,n)}}}(wysihtml5.dom),function(t){var e=document,n="parent top opener frameElement frames localStorage globalStorage sessionStorage indexedDB".split(" "),i="open close openDialog showModalDialog alert confirm prompt openDatabase postMessage XMLHttpRequest XDomainRequest".split(" "),s=["referrer","write","open","close"];t.dom.Sandbox=Base.extend({constructor:function(e,n){this.callback=e||t.EMPTY_FUNCTION,this.config=t.lang.object({}).merge(n).get(),this.iframe=this._createIframe()},insertInto:function(t){"string"==typeof t&&(t=e.getElementById(t)),t.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var t=this.getIframe();t.parentNode.removeChild(t)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var n=this,i=e.createElement("iframe");return i.className="wysihtml5-sandbox",t.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(i),t.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(i.src="javascript:'<html></html>'"),i.onload=function(){i.onreadystatechange=i.onload=null,n._onLoadIframe(i)},i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&(i.onreadystatechange=i.onload=null,n._onLoadIframe(i))},i},_onLoadIframe:function(a){if(t.dom.contains(e.documentElement,a)){var o=this,r=a.contentWindow,l=a.contentWindow.document,c=this._getHtml({charset:e.characterSet||e.charset||"utf-8",stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(c),l.close(),this.getWindow=function(){return a.contentWindow},this.getDocument=function(){return a.contentWindow.document},r.onerror=function(t,e,n){throw Error("wysihtml5.Sandbox: "+t,e,n)},!t.browser.supportsSandboxedIframes()){var d,c=0;for(d=n.length;d>c;c++)this._unset(r,n[c]);for(c=0,d=i.length;d>c;c++)this._unset(r,i[c],t.EMPTY_FUNCTION);for(c=0,d=s.length;d>c;c++)this._unset(l,s[c]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){o.callback(o)},0)}},_getHtml:function(e){var n,i=e.stylesheets,s="",a=0;if(i="string"==typeof i?[i]:i)for(n=i.length;n>a;a++)s+='<link rel="stylesheet" href="'+i[a]+'">';return e.stylesheets=s,t.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(e)},_unset:function(e,n,i,s){try{e[n]=i}catch(a){}try{e.__defineGetter__(n,function(){return i})}catch(o){}if(s)try{e.__defineSetter__(n,function(){})}catch(r){}if(!t.browser.crashesWhenDefineProperty(n))try{var l={get:function(){return i}};s&&(l.set=function(){}),Object.defineProperty(e,n,l)}catch(c){}}})}(wysihtml5),function(){var t={className:"class"};wysihtml5.dom.setAttributes=function(e){return{on:function(n){for(var i in e)n.setAttribute(t[i]||i,e[i])}}}}(),wysihtml5.dom.setStyles=function(t){return{on:function(e){if(e=e.style,"string"==typeof t)e.cssText+=";"+t;else for(var n in t)"float"===n?(e.cssFloat=t[n],e.styleFloat=t[n]):e[n]=t[n]}}},function(t){t.simulatePlaceholder=function(e,n,i){var s=function(){n.hasPlaceholderSet()&&n.clear(),t.removeClass(n.element,"placeholder")},a=function(){n.isEmpty()&&(n.setValue(i),t.addClass(n.element,"placeholder"))};e.observe("set_placeholder",a).observe("unset_placeholder",s).observe("focus:composer",s).observe("paste:composer",s).observe("blur:composer",a),a()}}(wysihtml5.dom),function(t){var e=document.documentElement;"textContent"in e?(t.setTextContent=function(t,e){t.textContent=e},t.getTextContent=function(t){return t.textContent}):"innerText"in e?(t.setTextContent=function(t,e){t.innerText=e},t.getTextContent=function(t){return t.innerText}):(t.setTextContent=function(t,e){t.nodeValue=e},t.getTextContent=function(t){return t.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){var t={"a u":wysihtml5.dom.replaceWithChildNodes};return function(e,n,i){var s,a,o,n=n||t,i=i||e.ownerDocument||document,r="string"==typeof e,l=0,e=r?wysihtml5.dom.getAsDom(e,i):e;for(o in n)for(s=e.querySelectorAll(o),i=n[o],a=s.length;a>l;l++)i(s[l]);return r?e.innerHTML:e}}(),function(t){var e=t.dom;t.quirks.ensureProperClearing=function(){var t=function(){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();("<p>&nbsp;</p>"==e||"<p>&nbsp;</p><p>&nbsp;</p>"==e)&&(t.innerHTML="")},0)};return function(n){e.observe(n.element,["cut","keydown"],t)}}(),t.quirks.ensureProperClearingOfLists=function(){var n=["OL","UL","MENU"];return function(i){e.observe(i.element,"keydown",function(s){if(s.keyCode===t.BACKSPACE_KEY){var a=i.selection.getSelectedNode(),s=i.element;s.firstChild&&t.lang.array(n).contains(s.firstChild.nodeName)&&(a=e.getParentElement(a,{nodeName:n}))&&a==s.firstChild&&1>=a.childNodes.length&&(a.firstChild?""===a.firstChild.innerHTML:1)&&a.parentNode.removeChild(a)}})}}()}(wysihtml5),function(t){t.quirks.getCorrectInnerHTML=function(e){var n=e.innerHTML;if(-1===n.indexOf("%7E"))return n;var i,s,a,o,e=e.querySelectorAll("[href*='~'], [src*='~']");for(o=0,a=e.length;a>o;o++)i=e[o].href||e[o].src,s=t.lang.string(i).replace("~").by("%7E"),n=t.lang.string(n).replace(s).by(i);return n}}(wysihtml5),function(t){var e=t.dom,n="LI P H1 H2 H3 H4 H5 H6".split(" "),i=["UL","OL","MENU"];t.quirks.insertLineBreakOnReturn=function(s){function a(n){if(n=e.getParentElement(n,{nodeName:["P","DIV"]},2)){var i=document.createTextNode(t.INVISIBLE_SPACE);e.insert(i).before(n),e.replaceWithChildNodes(n),s.selection.selectNode(i)}}e.observe(s.element.ownerDocument,"keydown",function(o){var r=o.keyCode;if(!(o.shiftKey||r!==t.ENTER_KEY&&r!==t.BACKSPACE_KEY)){var l=s.selection.getSelectedNode();(l=e.getParentElement(l,{nodeName:n},4))?"LI"!==l.nodeName||r!==t.ENTER_KEY&&r!==t.BACKSPACE_KEY?l.nodeName.match(/H[1-6]/)&&r===t.ENTER_KEY&&setTimeout(function(){a(s.selection.getSelectedNode())},0):setTimeout(function(){var t,n=s.selection.getSelectedNode();n&&((t=e.getParentElement(n,{nodeName:i},2))||a(n))},0):r===t.ENTER_KEY&&!t.browser.insertsLineBreaksOnReturn()&&(s.commands.exec("insertLineBreak"),o.preventDefault())}})}}(wysihtml5),function(t){t.quirks.redraw=function(e){t.dom.addClass(e,"wysihtml5-quirks-redraw"),t.dom.removeClass(e,"wysihtml5-quirks-redraw");try{var n=e.ownerDocument;n.execCommand("italic",!1,null),n.execCommand("italic",!1,null)}catch(i){}}}(wysihtml5),function(t){var e=t.dom;t.Selection=Base.extend({constructor:function(t){window.rangy.init(),this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},getBookmark:function(){var t=this.getRange();return t&&t.cloneRange()},setBookmark:function(t){t&&this.setSelection(t)},setBefore:function(t){var e=rangy.createRange(this.doc);return e.setStartBefore(t),e.setEndBefore(t),this.setSelection(e)},setAfter:function(t){var e=rangy.createRange(this.doc);return e.setStartAfter(t),e.setEndAfter(t),this.setSelection(e)},selectNode:function(n){var i=rangy.createRange(this.doc),s=n.nodeType===t.ELEMENT_NODE,a="canHaveHTML"in n?n.canHaveHTML:"IMG"!==n.nodeName,o=s?n.innerHTML:n.data,o=""===o||o===t.INVISIBLE_SPACE,r=e.getStyle("display").from(n),r="block"===r||"list-item"===r;if(o&&s&&a)try{n.innerHTML=t.INVISIBLE_SPACE}catch(l){}a?i.selectNodeContents(n):i.selectNode(n),a&&o&&s?i.collapse(r):a&&o&&(i.setStartAfter(n),i.setEndAfter(n)),this.setSelection(i)},getSelectedNode:function(t){return t&&this.doc.selection&&"Control"===this.doc.selection.type&&(t=this.doc.selection.createRange())&&t.length?t.item(0):(t=this.getSelection(this.doc),t.focusNode===t.anchorNode?t.focusNode:(t=this.getRange(this.doc))?t.commonAncestorContainer:this.doc.body)},executeAndRestore:function(e,n){var i=this.doc.body,s=n&&i.scrollTop,a=n&&i.scrollLeft,o='<span class="_wysihtml5-temp-placeholder">'+t.INVISIBLE_SPACE+"</span>",r=this.getRange(this.doc);if(r){o=r.createContextualFragment(o),r.insertNode(o);try{e(r.startContainer,r.endContainer)}catch(l){setTimeout(function(){throw l},0)}(caretPlaceholder=this.doc.querySelector("._wysihtml5-temp-placeholder"))?(r=rangy.createRange(this.doc),r.selectNode(caretPlaceholder),r.deleteContents(),this.setSelection(r)):i.focus(),n&&(i.scrollTop=s,i.scrollLeft=a);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(c){}}else e(i,i)},executeAndRestoreSimple:function(t){var e,n,i,s=this.getRange(),a=this.doc.body;if(s){e=s.getNodes([3]),a=e[0]||s.startContainer,i=e[e.length-1]||s.endContainer,e=a===s.startContainer?s.startOffset:0,n=i===s.endContainer?s.endOffset:i.length;try{t(s.startContainer,s.endContainer)}catch(o){setTimeout(function(){throw o},0)}t=rangy.createRange(this.doc);try{t.setStart(a,e)}catch(r){}try{t.setEnd(i,n)}catch(l){}try{this.setSelection(t)}catch(c){}}else t(a,a)},insertHTML:function(t){var t=rangy.createRange(this.doc).createContextualFragment(t),e=t.lastChild;this.insertNode(t),e&&this.setAfter(e)},insertNode:function(t){var e=this.getRange();e&&e.insertNode(t)},surround:function(t){var e=this.getRange();if(e)try{e.surroundContents(t),this.selectNode(t)}catch(n){t.appendChild(e.extractContents()),e.insertNode(t)}},scrollIntoView:function(){var e,n=this.doc,i=n.documentElement.scrollHeight>n.documentElement.offsetHeight;if((e=n._wysihtml5ScrollIntoViewElement)||(e=n.createElement("span"),e.innerHTML=t.INVISIBLE_SPACE),e=n._wysihtml5ScrollIntoViewElement=e,i){this.insertNode(e);var i=e,s=0;if(i.parentNode)do s+=i.offsetTop||0,i=i.offsetParent;while(i);i=s,e.parentNode.removeChild(e),i>n.body.scrollTop&&(n.body.scrollTop=i)}},selectLine:function(){t.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var t=this.doc.defaultView.getSelection();t.modify("extend","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var t,e=this.doc.selection.createRange(),n=e.boundingTop,i=this.doc.body.scrollWidth;if(e.moveToPoint){for(0===n&&(t=this.doc.createElement("span"),this.insertNode(t),n=t.offsetTop,t.parentNode.removeChild(t)),n+=1,t=-10;i>t;t+=2)try{e.moveToPoint(t,n);break}catch(s){}for(t=this.doc.selection.createRange();i>=0;i--)try{t.moveToPoint(i,n);break}catch(a){}e.setEndPoint("EndToEnd",t),e.select()}},getText:function(){var t=this.getSelection();return t?t.toString():""},getNodes:function(t,e){var n=this.getRange();return n?n.getNodes([t],e):[]},getRange:function(){var t=this.getSelection();return t&&t.rangeCount&&t.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(t){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow).setSingleRange(t)}})}(wysihtml5),function(t,e){function n(t,n){return e.dom.isCharacterDataNode(t)?0==n?!!t.previousSibling:n==t.length?!!t.nextSibling:!0:n>0&&n<t.childNodes.length}function i(t,n,s){var a;if(e.dom.isCharacterDataNode(n)&&(0==s?(s=e.dom.getNodeIndex(n),n=n.parentNode):s==n.length?(s=e.dom.getNodeIndex(n)+1,n=n.parentNode):a=e.dom.splitDataNode(n,s)),!a){a=n.cloneNode(!1),a.id&&a.removeAttribute("id");for(var o;o=n.childNodes[s];)a.appendChild(o);e.dom.insertAfter(a,n)}return n==t?a:i(t,a.parentNode,e.dom.getNodeIndex(a))}function s(e){this.firstTextNode=(this.isElementMerge=e.nodeType==t.ELEMENT_NODE)?e.lastChild:e,this.textNodes=[this.firstTextNode]}function a(t,e,n,i){this.tagNames=t||[o],this.cssClass=e||"",this.similarClassRegExp=n,this.normalize=i,this.applyToAnyTagName=!1}var o="span",r=/\s+/g;s.prototype={doMerge:function(){for(var t,e,n=[],i=0,s=this.textNodes.length;s>i;++i)t=this.textNodes[i],e=t.parentNode,n[i]=t.data,i&&(e.removeChild(t),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=n=n.join("")},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){for(var t=[],e=0,n=this.textNodes.length;n>e;++e)t[e]="'"+this.textNodes[e].data+"'";return"[Merge("+t.join(",")+")]"}},a.prototype={getAncestorWithClass:function(n){for(var i;n;){if(this.cssClass)if(i=this.cssClass,n.className){var s=n.className.match(this.similarClassRegExp)||[];i=s[s.length-1]===i}else i=!1;else i=!0;if(n.nodeType==t.ELEMENT_NODE&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&i)return n;n=n.parentNode}return!1},postApply:function(t,e){for(var n,i,a,o=t[0],r=t[t.length-1],l=[],c=o,d=r,u=0,h=r.length,f=0,p=t.length;p>f;++f)i=t[f],(a=this.getAdjacentMergeableTextNode(i.parentNode,!1))?(n||(n=new s(a),l.push(n)),n.textNodes.push(i),i===o&&(c=n.firstTextNode,u=c.length),i===r&&(d=n.firstTextNode,h=n.getLength())):n=null;if((o=this.getAdjacentMergeableTextNode(r.parentNode,!0))&&(n||(n=new s(r),l.push(n)),n.textNodes.push(o)),l.length){for(f=0,p=l.length;p>f;++f)l[f].doMerge();e.setStart(c,u),e.setEnd(d,h)}},getAdjacentMergeableTextNode:function(e,n){var i=e.nodeType==t.TEXT_NODE,s=i?e.parentNode:e,a=n?"nextSibling":"previousSibling";if(i){if((i=e[a])&&i.nodeType==t.TEXT_NODE)return i}else if((i=s[a])&&this.areElementsMergeable(e,i))return i[n?"firstChild":"lastChild"];return null},areElementsMergeable:function(t,n){var i;if((i=e.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase()))&&(i=e.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase()))&&(i=t.className.replace(r," ")==n.className.replace(r," ")))t:if(t.attributes.length!=n.attributes.length)i=!1;else{i=0;for(var s,a,o=t.attributes.length;o>i;++i)if(s=t.attributes[i],a=s.name,"class"!=a&&(a=n.attributes.getNamedItem(a),s.specified!=a.specified||s.specified&&s.nodeValue!==a.nodeValue)){i=!1;break t}i=!0}return i},createContainer:function(t){return t=t.createElement(this.tagNames[0]),this.cssClass&&(t.className=this.cssClass),t},applyToTextNode:function(t){var n=t.parentNode;1==n.childNodes.length&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())?this.cssClass&&(t=this.cssClass,n.className?(n.className&&(n.className=n.className.replace(this.similarClassRegExp,"")),n.className+=" "+t):n.className=t):(n=this.createContainer(e.dom.getDocument(t)),t.parentNode.insertBefore(n,t),n.appendChild(t))},isRemovable:function(n){return e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&t.lang.string(n.className).trim()==this.cssClass},undoToTextNode:function(t,e,s){if(e.containsNode(s)||(t=e.cloneRange(),t.selectNode(s),t.isPointInRange(e.endContainer,e.endOffset)&&n(e.endContainer,e.endOffset)&&(i(s,e.endContainer,e.endOffset),e.setEndAfter(s)),t.isPointInRange(e.startContainer,e.startOffset)&&n(e.startContainer,e.startOffset)&&(s=i(s,e.startContainer,e.startOffset))),this.similarClassRegExp&&s.className&&(s.className=s.className.replace(this.similarClassRegExp,"")),this.isRemovable(s)){for(e=s,s=e.parentNode;e.firstChild;)s.insertBefore(e.firstChild,e);s.removeChild(e)}},applyToRange:function(e){var n=e.getNodes([t.TEXT_NODE]);if(!n.length)try{var i=this.createContainer(e.endContainer.ownerDocument);return e.surroundContents(i),void this.selectNode(e,i)}catch(s){}if(e.splitBoundaries(),n=e.getNodes([t.TEXT_NODE]),n.length){for(var a=0,o=n.length;o>a;++a)i=n[a],this.getAncestorWithClass(i)||this.applyToTextNode(i);e.setStart(n[0],0),i=n[n.length-1],e.setEnd(i,i.length),this.normalize&&this.postApply(n,e)}},undoToRange:function(e){var n,i,s=e.getNodes([t.TEXT_NODE]);s.length?(e.splitBoundaries(),s=e.getNodes([t.TEXT_NODE])):(s=e.endContainer.ownerDocument.createTextNode(t.INVISIBLE_SPACE),e.insertNode(s),e.selectNode(s),s=[s]);for(var a=0,o=s.length;o>a;++a)n=s[a],(i=this.getAncestorWithClass(n))&&this.undoToTextNode(n,e,i);1==o?this.selectNode(e,s[0]):(e.setStart(s[0],0),n=s[s.length-1],e.setEnd(n,n.length),this.normalize&&this.postApply(s,e))},selectNode:function(e,n){var i=n.nodeType===t.ELEMENT_NODE,s="canHaveHTML"in n?n.canHaveHTML:!0,a=i?n.innerHTML:n.data;if((a=""===a||a===t.INVISIBLE_SPACE)&&i&&s)try{n.innerHTML=t.INVISIBLE_SPACE}catch(o){}e.selectNodeContents(n),a&&i?e.collapse(!1):a&&(e.setStartAfter(n),e.setEndAfter(n))},getTextSelectedByRange:function(t,e){var n=e.cloneRange();n.selectNodeContents(t);var i=n.intersection(e),i=i?i.toString():"";return n.detach(),i},isAppliedToRange:function(e){var n,i=[],s=e.getNodes([t.TEXT_NODE]);if(!s.length)return(n=this.getAncestorWithClass(e.startContainer))?[n]:!1;for(var a,o=0,r=s.length;r>o;++o){if(a=this.getTextSelectedByRange(s[o],e),n=this.getAncestorWithClass(s[o]),""!=a&&!n)return!1;i.push(n)}return i},toggleRange:function(t){this.isAppliedToRange(t)?this.undoToRange(t):this.applyToRange(t)}},t.selection.HTMLApplier=a}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},support:function(t){return wysihtml5.browser.supportsCommand(this.doc,t)},exec:function(t,e){var n=wysihtml5.commands[t],i=wysihtml5.lang.array(arguments).get(),s=n&&n.exec,a=null;if(this.editor.fire("beforecommand:composer"),s)i.unshift(this.composer),a=s.apply(n,i);else try{a=this.doc.execCommand(t,!1,e)}catch(o){}return this.editor.fire("aftercommand:composer"),a},state:function(t){var e=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),i=e&&e.state;if(i)return n.unshift(this.composer),i.apply(e,n);try{return this.doc.queryCommandState(t)}catch(s){return!1}},value:function(t){var e=wysihtml5.commands[t],n=e&&e.value;if(n)return n.call(e,this.composer,t);try{return this.doc.queryCommandValue(t)}catch(i){return null}}}),function(t){t.commands.bold={exec:function(e,n){return t.commands.formatInline.exec(e,n,"b")},state:function(e,n){return t.commands.formatInline.state(e,n,"b")},value:function(){}}}(wysihtml5),function(t){function e(e,a){var o,r,l,c=e.doc,d="_wysihtml5-temp-"+ +new Date,u=0;for(t.commands.formatInline.exec(e,n,i,d,/non-matching-class/g),o=c.querySelectorAll(i+"."+d),d=o.length;d>u;u++)for(l in r=o[u],r.removeAttribute("class"),a)r.setAttribute(l,a[l]);u=r,1===d&&(l=s.getTextContent(r),d=!!r.querySelector("*"),l=""===l||l===t.INVISIBLE_SPACE,!d&&l&&(s.setTextContent(r,a.text||r.href),c=c.createTextNode(" "),e.selection.setAfter(r),e.selection.insertNode(c),u=c)),e.selection.setAfter(u)}var n,i="A",s=t.dom;t.commands.createLink={exec:function(t,n,i){var a=this.state(t,n);a?t.selection.executeAndRestore(function(){for(var t,e,n,i=a.length,o=0;i>o;o++)t=a[o],e=s.getParentElement(t,{nodeName:"code"}),n=s.getTextContent(t),n.match(s.autoLink.URL_REG_EXP)&&!e?s.renameElement(t,"code"):s.replaceWithChildNodes(t)}):(i="object"==typeof i?i:{href:i},e(t,i))},state:function(e,n){return t.commands.formatInline.state(e,n,"A")},value:function(){return n}}}(wysihtml5),function(t){var e=/wysiwyg-font-size-[a-z\-]+/g;t.commands.fontSize={exec:function(n,i,s){return t.commands.formatInline.exec(n,i,"span","wysiwyg-font-size-"+s,e)},state:function(n,i,s){return t.commands.formatInline.state(n,i,"span","wysiwyg-font-size-"+s,e)},value:function(){}}}(wysihtml5),function(t){var e=/wysiwyg-color-[a-z]+/g;t.commands.foreColor={exec:function(n,i,s){return t.commands.formatInline.exec(n,i,"span","wysiwyg-color-"+s,e)},state:function(n,i,s){return t.commands.formatInline.state(n,i,"span","wysiwyg-color-"+s,e)},value:function(){}}}(wysihtml5),function(t){function e(e){for(e=e.previousSibling;e&&e.nodeType===t.TEXT_NODE&&!t.lang.string(e.data).trim();)e=e.previousSibling;return e}function n(e){for(e=e.nextSibling;e&&e.nodeType===t.TEXT_NODE&&!t.lang.string(e.data).trim();)e=e.nextSibling;return e}function i(t){return"BR"===t.nodeName||"block"===o.getStyle("display").from(t)?!0:!1}function s(e,n,i,s){if(s)var a=o.observe(e,"DOMNodeInserted",function(e){var n,e=e.target;e.nodeType===t.ELEMENT_NODE&&(n=o.getStyle("display").from(e),"inline"!==n.substr(0,6)&&(e.className+=" "+s))});e.execCommand(n,!1,i),a&&a.stop()}function a(t,i){t.selection.selectLine(),t.selection.surround(i);var s=n(i),a=e(i);s&&"BR"===s.nodeName&&s.parentNode.removeChild(s),a&&"BR"===a.nodeName&&a.parentNode.removeChild(a),(s=i.lastChild)&&"BR"===s.nodeName&&s.parentNode.removeChild(s),t.selection.selectNode(i)}var o=t.dom,r="H1 H2 H3 H4 H5 H6 P BLOCKQUOTE DIV".split(" ");t.commands.formatBlock={exec:function(l,c,d,u,h){var f,p=l.doc,m=this.state(l,c,d,u,h),d="string"==typeof d?d.toUpperCase():d;if(m)l.selection.executeAndRestoreSimple(function(){h&&(m.className=m.className.replace(h,""));var s=!!t.lang.string(m.className).trim();if(s||m.nodeName!==(d||"DIV"))s&&o.renameElement(m,"DIV");else{var s=m,a=s.ownerDocument,r=n(s),l=e(s);r&&!i(r)&&s.parentNode.insertBefore(a.createElement("br"),r),l&&!i(l)&&s.parentNode.insertBefore(a.createElement("br"),s),o.replaceWithChildNodes(m)}});else{if((null===d||t.lang.array(r).contains(d))&&(f=l.selection.getSelectedNode(),m=o.getParentElement(f,{nodeName:r})))return void l.selection.executeAndRestoreSimple(function(){if(d&&(m=o.renameElement(m,d)),u){var t=m;t.className?(t.className=t.className.replace(h,""),t.className+=" "+u):t.className=u}});l.commands.support(c)?s(p,c,d||"DIV",u):(m=p.createElement(d||"DIV"),u&&(m.className=u),a(l,m))}},state:function(t,e,n,i,s){return n="string"==typeof n?n.toUpperCase():n,t=t.selection.getSelectedNode(),o.getParentElement(t,{nodeName:n,className:i,classRegExp:s})},value:function(){}}}(wysihtml5),function(t){function e(e,s,a){var o=e+":"+s;if(!i[o]){var r=i,l=t.selection.HTMLApplier,c=n[e],e=c?[e.toLowerCase(),c.toLowerCase()]:[e.toLowerCase()];r[o]=new l(e,s,a,!0)}return i[o]}var n={strong:"b",em:"i",b:"strong",i:"em"},i={};t.commands.formatInline={exec:function(t,n,i,s,a){return(n=t.selection.getRange())?(e(i,s,a).toggleRange(n),void t.selection.setSelection(n)):!1},state:function(i,s,a,o,r){var s=i.doc,l=n[a]||a;return!t.dom.hasElementWithTagName(s,a)&&!t.dom.hasElementWithTagName(s,l)||o&&!t.dom.hasElementWithClassName(s,o)?!1:(i=i.selection.getRange(),i?e(a,o,r).isAppliedToRange(i):!1)},value:function(){}}}(wysihtml5),function(t){t.commands.insertHTML={exec:function(t,e,n){t.commands.support(e)?t.doc.execCommand(e,!1,n):t.selection.insertHTML(n)},state:function(){return!1},value:function(){}}}(wysihtml5),function(t){t.commands.insertImage={exec:function(e,n,i){var s,i="object"==typeof i?i:{src:i},a=e.doc,n=this.state(e);if(n)e.selection.setBefore(n),i=n.parentNode,i.removeChild(n),t.dom.removeEmptyTextNodes(i),"A"===i.nodeName&&!i.firstChild&&(e.selection.setAfter(i),i.parentNode.removeChild(i)),t.quirks.redraw(e.element);else{n=a.createElement("IMG");for(s in i)n[s]=i[s];e.selection.insertNode(n),t.browser.hasProblemsSettingCaretAfterImg()?(i=a.createTextNode(t.INVISIBLE_SPACE),e.selection.insertNode(i),e.selection.setAfter(i)):e.selection.setAfter(n)}},state:function(e){var n;return t.dom.hasElementWithTagName(e.doc,"IMG")&&(n=e.selection.getSelectedNode())?"IMG"===n.nodeName?n:n.nodeType!==t.ELEMENT_NODE?!1:(n=e.selection.getText(),(n=t.lang.string(n).trim())?!1:(e=e.selection.getNodes(t.ELEMENT_NODE,function(t){return"IMG"===t.nodeName}),1!==e.length?!1:e[0])):!1},value:function(t){return(t=this.state(t))&&t.src}}}(wysihtml5),function(t){var e="<br>"+(t.browser.needsSpaceAfterLineBreak()?" ":"");t.commands.insertLineBreak={exec:function(n,i){n.commands.support(i)?(n.doc.execCommand(i,!1,null),t.browser.autoScrollsToCaret()||n.selection.scrollIntoView()):n.commands.exec("insertHTML",e)},state:function(){return!1},value:function(){}}}(wysihtml5),function(t){t.commands.insertOrderedList={exec:function(e,n){var i,s=e.doc,a=e.selection.getSelectedNode(),o=t.dom.getParentElement(a,{nodeName:"OL"}),r=t.dom.getParentElement(a,{nodeName:"UL"}),a="_wysihtml5-temp-"+(new Date).getTime();e.commands.support(n)?s.execCommand(n,!1,null):o?e.selection.executeAndRestoreSimple(function(){t.dom.resolveList(o)}):r?e.selection.executeAndRestoreSimple(function(){t.dom.renameElement(r,"ol")}):(e.commands.exec("formatBlock","div",a),i=s.querySelector("."+a),s=""===i.innerHTML||i.innerHTML===t.INVISIBLE_SPACE,e.selection.executeAndRestoreSimple(function(){o=t.dom.convertToList(i,"ol")}),s&&e.selection.selectNode(o.querySelector("li")))},state:function(e){return e=e.selection.getSelectedNode(),t.dom.getParentElement(e,{nodeName:"OL"})},value:function(){}}}(wysihtml5),function(t){t.commands.insertUnorderedList={exec:function(e,n){var i,s=e.doc,a=e.selection.getSelectedNode(),o=t.dom.getParentElement(a,{nodeName:"UL"}),r=t.dom.getParentElement(a,{nodeName:"OL"}),a="_wysihtml5-temp-"+(new Date).getTime();e.commands.support(n)?s.execCommand(n,!1,null):o?e.selection.executeAndRestoreSimple(function(){t.dom.resolveList(o)}):r?e.selection.executeAndRestoreSimple(function(){t.dom.renameElement(r,"ul")}):(e.commands.exec("formatBlock","div",a),i=s.querySelector("."+a),s=""===i.innerHTML||i.innerHTML===t.INVISIBLE_SPACE,e.selection.executeAndRestoreSimple(function(){o=t.dom.convertToList(i,"ul")}),s&&e.selection.selectNode(o.querySelector("li")))},state:function(e){return e=e.selection.getSelectedNode(),t.dom.getParentElement(e,{nodeName:"UL"})},value:function(){}}}(wysihtml5),function(t){t.commands.italic={exec:function(e,n){return t.commands.formatInline.exec(e,n,"i")},state:function(e,n){return t.commands.formatInline.state(e,n,"i")},value:function(){}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyCenter={exec:function(n){return t.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-center",e)},state:function(n){return t.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-center",e)},value:function(){}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyLeft={exec:function(n){return t.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-left",e)},state:function(n){return t.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-left",e)},value:function(){}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyRight={exec:function(n){return t.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-right",e)},state:function(n){return t.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-right",e)},value:function(){}}}(wysihtml5),function(t){t.commands.underline={exec:function(e,n){
return t.commands.formatInline.exec(e,n,"u")},state:function(e,n){return t.commands.formatInline.state(e,n,"u")},value:function(){}}}(wysihtml5),function(t){var e='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+t.INVISIBLE_SPACE+"</span>",n='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+t.INVISIBLE_SPACE+"</span>",i=t.dom;t.UndoManager=t.lang.Dispatcher.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.element=this.composer.element,this.history=[this.composer.getValue()],this.position=1,this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var s,a=this,o=this.composer.sandbox.getDocument();if(i.observe(this.element,"keydown",function(t){if(!t.altKey&&(t.ctrlKey||t.metaKey)){var e=t.keyCode,n=90===e&&t.shiftKey||89===e;90!==e||t.shiftKey?n&&(a.redo(),t.preventDefault()):(a.undo(),t.preventDefault())}}),i.observe(this.element,"keydown",function(t){t=t.keyCode,t!==s&&(s=t,(8===t||46===t)&&a.transact())}),t.browser.hasUndoInContextMenu()){var r,l,c=function(){for(var t;t=o.querySelector("._wysihtml5-temp");)t.parentNode.removeChild(t);clearInterval(r)};i.observe(this.element,"contextmenu",function(){c(),a.composer.selection.executeAndRestoreSimple(function(){a.element.lastChild&&a.composer.selection.setAfter(a.element.lastChild),o.execCommand("insertHTML",!1,e),o.execCommand("insertHTML",!1,n),o.execCommand("undo",!1,null)}),r=setInterval(function(){o.getElementById("_wysihtml5-redo")?(c(),a.redo()):o.getElementById("_wysihtml5-undo")||(c(),a.undo())},400),l||(l=!0,i.observe(document,"mousedown",c),i.observe(o,["mousedown","paste","cut","copy"],c))})}this.editor.observe("newword:composer",function(){a.transact()}).observe("beforecommand:composer",function(){a.transact()})},transact:function(){var t=this.history[this.position-1],e=this.composer.getValue();e!=t&&(40<(this.history.length=this.position)&&(this.history.shift(),this.position--),this.position++,this.history.push(e))},undo:function(){this.transact(),1>=this.position||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-1]),this.editor.fire("redo:composer"))},set:function(t){this.composer.setValue(t),this.editor.focus(!0)}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(t,e,n){this.parent=t,this.element=e,this.config=n,this._observeViewChange()},_observeViewChange:function(){var t=this;this.parent.observe("beforeload",function(){t.parent.observe("change_view",function(e){e===t.name?(t.parent.currentView=t,t.show(),setTimeout(function(){t.focus()},0)):t.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(t){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(t){var e=t.dom,n=t.browser;t.views.Composer=t.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(t,e,n){this.base(t,e,n),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(e){var n=this.isEmpty()?"":t.quirks.getCorrectInnerHTML(this.element);return e&&(n=this.parent.parse(n)),n=t.lang.string(n).replace(t.INVISIBLE_SPACE).by("")},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.innerHTML=t},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=e.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(e){t.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var n=this.element.lastChild;e&&n&&("BR"===n.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return e.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var t=this.element.innerHTML;return""===t||t===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector("blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea")},_initSandbox:function(){var t=this;this.sandbox=new e.Sandbox(function(){t._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var n=document.createElement("input");n.type="hidden",n.name="_wysihtml5_mode",n.value=1;var i=this.textarea.element;e.insert(this.iframe).after(i),e.insert(n).after(i)},_create:function(){var i=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new t.Selection(this.parent),this.commands=new t.Commands(this.parent),e.copyAttributes("className spellcheck title lang dir accessKey".split(" ")).from(this.textarea.element).to(this.element),e.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var s=this.config.name;s&&(e.addClass(this.element,s),e.addClass(this.iframe,s)),(s="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder"))&&e.simulatePlaceholder(this.parent,this,s),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){i.focus()},100),t.quirks.insertLineBreakOnReturn(this),n.clearsContentEditableCorrectly()||t.quirks.ensureProperClearing(this),n.clearsListsInContentEditableCorrectly()||t.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var i=this,s=n.canDisableAutoLinking(),a=n.doesAutoLinkingInContentEditable();if(s&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!a||a&&s)&&this.parent.observe("newword:composer",function(){i.selection.executeAndRestore(function(t,n){e.autoLink(n.parentNode)})});var o=this.sandbox.getDocument().getElementsByTagName("a"),r=e.autoLink.URL_REG_EXP,l=function(n){return n=t.lang.string(e.getTextContent(n)).trim(),"www."===n.substr(0,4)&&(n="http://"+n),n};e.observe(this.element,"keydown",function(t){if(o.length){var n,t=i.selection.getSelectedNode(t.target.ownerDocument),s=e.getParentElement(t,{nodeName:"A"},4);s&&(n=l(s),setTimeout(function(){var t=l(s);t!==n&&t.match(r)&&s.setAttribute("href",t)},0))}})}},_initObjectResizing:function(){var i=["width","height"],s=i.length,a=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing),this.config.allowObjectResizing?n.supportsEvent("resizeend")&&e.observe(a,"resizeend",function(e){for(var n,e=e.target||e.srcElement,o=e.style,r=0;s>r;r++)n=i[r],o[n]&&(e.setAttribute(n,parseInt(o[n],10)),o[n]="");t.quirks.redraw(a)}):n.supportsEvent("resizestart")&&e.observe(a,"resizestart",function(t){t.preventDefault()})},_initUndoManager:function(){new t.UndoManager(this.parent)}})}(wysihtml5),function(t){var e=t.dom,n=document,i=window,s=n.createElement("div"),a="background-color color cursor font-family font-size font-style font-variant font-weight line-height letter-spacing text-align text-decoration text-indent text-rendering word-break word-wrap word-spacing".split(" "),o="background-color border-collapse border-bottom-color border-bottom-style border-bottom-width border-left-color border-left-style border-left-width border-right-color border-right-style border-right-width border-top-color border-top-style border-top-width clear display float margin-bottom margin-left margin-right margin-top outline-color outline-offset outline-width outline-style padding-left padding-right padding-top padding-bottom position top left right bottom z-index vertical-align text-align -webkit-box-sizing -moz-box-sizing -ms-box-sizing box-sizing -webkit-box-shadow -moz-box-shadow -ms-box-shadow box-shadow -webkit-border-top-right-radius -moz-border-radius-topright border-top-right-radius -webkit-border-bottom-right-radius -moz-border-radius-bottomright border-bottom-right-radius -webkit-border-bottom-left-radius -moz-border-radius-bottomleft border-bottom-left-radius -webkit-border-top-left-radius -moz-border-radius-topleft border-top-left-radius width height".split(" "),r="width height top left right bottom".split(" "),l=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",t.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],c=function(t){if(t.setActive)try{t.setActive()}catch(s){}else{var a=t.style,o=n.documentElement.scrollTop||n.body.scrollTop,r=n.documentElement.scrollLeft||n.body.scrollLeft,a={position:a.position,top:a.top,left:a.left,WebkitUserSelect:a.WebkitUserSelect};e.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(t),t.focus(),e.setStyles(a).on(t),i.scrollTo&&i.scrollTo(r,o)}};t.views.Composer.prototype.style=function(){var d=this,u=n.querySelector(":focus"),h=this.textarea.element,f=h.hasAttribute("placeholder"),p=f&&h.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||s.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||s.cloneNode(!1),f&&h.removeAttribute("placeholder"),h===u&&h.blur(),e.copyStyles(o).from(h).to(this.iframe).andTo(this.blurStylesHost),e.copyStyles(a).from(h).to(this.element).andTo(this.blurStylesHost),e.insertCSS(l).into(this.element.ownerDocument),c(h),e.copyStyles(o).from(h).to(this.focusStylesHost),e.copyStyles(a).from(h).to(this.focusStylesHost);var m=t.lang.array(o).without(["display"]);if(u?u.focus():h.blur(),f&&h.setAttribute("placeholder",p),!t.browser.hasCurrentStyleProperty())var g=e.observe(i,"resize",function(){if(e.contains(document.documentElement,d.iframe)){var t=e.getStyle("display").from(h),n=e.getStyle("display").from(d.iframe);h.style.display="",d.iframe.style.display="none",e.copyStyles(r).from(h).to(d.iframe).andTo(d.focusStylesHost).andTo(d.blurStylesHost),d.iframe.style.display=n,h.style.display=t}else g.stop()});return this.parent.observe("focus:composer",function(){e.copyStyles(m).from(d.focusStylesHost).to(d.iframe),e.copyStyles(a).from(d.focusStylesHost).to(d.element)}),this.parent.observe("blur:composer",function(){e.copyStyles(m).from(d.blurStylesHost).to(d.iframe),e.copyStyles(a).from(d.blurStylesHost).to(d.element)}),this}}(wysihtml5),function(t){var e=t.dom,n=t.browser,i={66:"bold",73:"italic",85:"underline"};t.views.Composer.prototype.observe=function(){var s=this,a=this.getValue(),o=this.sandbox.getIframe(),r=this.element,l=n.supportsEventsInIframeCorrectly()?r:this.sandbox.getWindow(),c=n.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];e.observe(o,"DOMNodeRemoved",function(){clearInterval(d),s.parent.fire("destroy:composer")});var d=setInterval(function(){e.contains(document.documentElement,o)||(clearInterval(d),s.parent.fire("destroy:composer"))},250);e.observe(l,"focus",function(){s.parent.fire("focus").fire("focus:composer"),setTimeout(function(){a=s.getValue()},0)}),e.observe(l,"blur",function(){a!==s.getValue()&&s.parent.fire("change").fire("change:composer"),s.parent.fire("blur").fire("blur:composer")}),t.browser.isIos()&&e.observe(r,"blur",function(){var t=r.ownerDocument.createElement("input"),e=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollLeft||document.body.scrollLeft;try{s.selection.insertNode(t)}catch(i){r.appendChild(t)}t.focus(),t.parentNode.removeChild(t),window.scrollTo(n,e)}),e.observe(r,"dragenter",function(){s.parent.fire("unset_placeholder")}),n.firesOnDropOnlyWhenOnDragOverIsCancelled()&&e.observe(r,["dragover","dragenter"],function(t){t.preventDefault()}),e.observe(r,c,function(t){var e,i=t.dataTransfer;i&&n.supportsDataTransfer()&&(e=i.getData("text/html")||i.getData("text/plain")),e?(r.focus(),s.commands.exec("insertHTML",e),s.parent.fire("paste").fire("paste:composer"),t.stopPropagation(),t.preventDefault()):setTimeout(function(){s.parent.fire("paste").fire("paste:composer")},0)}),e.observe(r,"keyup",function(e){e=e.keyCode,(e===t.SPACE_KEY||e===t.ENTER_KEY)&&s.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){s.parent.fire("newword:composer")},0)}),n.canSelectImagesInContentEditable()||e.observe(r,"mousedown",function(t){var e=t.target;"IMG"===e.nodeName&&(s.selection.selectNode(e),t.preventDefault())}),e.observe(r,"keydown",function(t){var e=i[t.keyCode];(t.ctrlKey||t.metaKey)&&!t.altKey&&e&&(s.commands.exec(e),t.preventDefault())}),e.observe(r,"keydown",function(e){var n=s.selection.getSelectedNode(!0),i=e.keyCode;!n||"IMG"!==n.nodeName||i!==t.BACKSPACE_KEY&&i!==t.DELETE_KEY||(i=n.parentNode,i.removeChild(n),"A"===i.nodeName&&!i.firstChild&&i.parentNode.removeChild(i),setTimeout(function(){t.quirks.redraw(r)},0),e.preventDefault())});var u={IMG:"Image: ",A:"Link: "};e.observe(r,"mouseover",function(t){var t=t.target,e=t.nodeName;!("A"!==e&&"IMG"!==e)&&!t.hasAttribute("title")&&(e=u[e]+(t.getAttribute("href")||t.getAttribute("src")),t.setAttribute("title",e))})}}(wysihtml5),function(t){t.views.Synchronizer=Base.extend({constructor:function(t,e,n){this.editor=t,this.textarea=e,this.composer=n,this._observe()},fromComposerToTextarea:function(e){this.textarea.setValue(t.lang.string(this.composer.getValue()).trim(),e)},fromTextareaToComposer:function(t){var e=this.textarea.getValue();e?this.composer.setValue(e,t):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(t){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(t):this.fromComposerToTextarea(t)},_observe:function(){var e,n=this,i=this.textarea.element.form,s=function(){e=setInterval(function(){n.fromComposerToTextarea()},400)},a=function(){clearInterval(e),e=null};s(),i&&(t.dom.observe(i,"submit",function(){n.sync(!0)}),t.dom.observe(i,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(t){"composer"!==t||e?"textarea"===t&&(n.fromComposerToTextarea(!0),a()):(n.fromTextareaToComposer(!0),s())}),this.editor.observe("destroy:composer",a)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(t,e,n){this.base(t,e,n),this._observe()},clear:function(){this.element.value=""},getValue:function(t){var e=this.isEmpty()?"":this.element.value;return t&&(e=this.parent.parse(e)),e},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.value=t},hasPlaceholderSet:function(){var t=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),e=this.element.getAttribute("placeholder")||null,n=this.element.value;return t&&!n||n===e},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var t=this.element,e=this.parent,n={focusin:"focus",focusout:"blur"},i=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];e.observe("beforeload",function(){wysihtml5.dom.observe(t,i,function(t){t=n[t.type]||t.type,e.fire(t).fire(t+":textarea")}),wysihtml5.dom.observe(t,["paste","drop"],function(){setTimeout(function(){e.fire("paste").fire("paste:textarea")},0)})})}}),function(t){var e=t.dom;t.toolbar.Dialog=t.lang.Dispatcher.extend({constructor:function(t,e){this.link=t,this.container=e},_observe:function(){if(!this._observed){var n=this,i=function(t){var e=n._serialize();e==n.elementToChange?n.fire("edit",e):n.fire("save",e),n.hide(),t.preventDefault(),t.stopPropagation()};e.observe(n.link,"click",function(){e.hasClass(n.link,"wysihtml5-command-dialog-opened")&&setTimeout(function(){n.hide()},0)}),e.observe(this.container,"keydown",function(e){var s=e.keyCode;s===t.ENTER_KEY&&i(e),s===t.ESCAPE_KEY&&n.hide()}),e.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",i),e.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(t){n.fire("cancel"),n.hide(),t.preventDefault(),t.stopPropagation()});for(var s=this.container.querySelectorAll("input, select, textarea"),a=0,o=s.length,r=function(){clearInterval(n.interval)};o>a;a++)e.observe(s[a],"change",r);this._observed=!0}},_serialize:function(){for(var t=this.elementToChange||{},e=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),n=e.length,i=0;n>i;i++)t[e[i].getAttribute("data-wysihtml5-dialog-field")]=e[i].value;return t},_interpolate:function(t){for(var e,n,i=document.querySelector(":focus"),s=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),a=s.length,o=0;a>o;o++)e=s[o],e!==i&&!(t&&"hidden"===e.type)&&(n=e.getAttribute("data-wysihtml5-dialog-field"),n=this.elementToChange?this.elementToChange[n]||"":e.defaultValue,e.value=n)},show:function(t){var n=this,i=this.container.querySelector("input, select, textarea");if(this.elementToChange=t,this._observe(),this._interpolate(),t&&(this.interval=setInterval(function(){n._interpolate(!0)},500)),e.addClass(this.link,"wysihtml5-command-dialog-opened"),this.container.style.display="",this.fire("show"),i&&!t)try{i.focus()}catch(s){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,e.removeClass(this.link,"wysihtml5-command-dialog-opened"),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(t){var e=t.dom,n={position:"relative"},i={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},s={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},a={"x-webkit-speech":"",speech:""};t.toolbar.Speech=function(o,r){var l=document.createElement("input");if(t.browser.supportsSpeechApiOn(l)){var c=document.createElement("div");t.lang.object(i).merge({width:r.offsetWidth+"px",height:r.offsetHeight+"px"}),e.insert(l).into(c),e.insert(c).into(r),e.setStyles(s).on(l),e.setAttributes(a).on(l),e.setStyles(i).on(c),e.setStyles(n).on(r),e.observe(l,"onwebkitspeechchange"in l?"webkitspeechchange":"speechchange",function(){o.execCommand("insertText",l.value),l.value=""}),e.observe(l,"click",function(t){e.hasClass(r,"wysihtml5-command-disabled")&&t.preventDefault(),t.stopPropagation()})}else r.style.display="none"}}(wysihtml5),function(t){var e=t.dom;t.toolbar.Toolbar=Base.extend({constructor:function(e,n){this.editor=e,this.container="string"==typeof n?document.getElementById(n):n,this.composer=e.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var i=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),s=i.length,a=0;s>a;a++)new t.toolbar.Speech(this,i[a])},_getLinks:function(e){for(var n,i,s,a,o,r=this[e+"Links"]=t.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),l=r.length,c=0,d=this[e+"Mapping"]={};l>c;c++)n=r[c],s=n.getAttribute("data-wysihtml5-"+e),a=n.getAttribute("data-wysihtml5-"+e+"-value"),i=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+s+"']"),o=this._getDialog(n,s),d[s+":"+a]={link:n,group:i,name:s,value:a,dialog:o,state:!1}},_getDialog:function(e,n){var i,s,a=this,o=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return o&&(i=new t.toolbar.Dialog(e,o),i.observe("show",function(){s=a.composer.selection.getBookmark(),a.editor.fire("show:dialog",{command:n,dialogContainer:o,commandLink:e})}),i.observe("save",function(t){s&&a.composer.selection.setBookmark(s),a._execCommand(n,t),a.editor.fire("save:dialog",{command:n,dialogContainer:o,commandLink:e})}),i.observe("cancel",function(){a.editor.focus(!1),a.editor.fire("cancel:dialog",{command:n,dialogContainer:o,commandLink:e})})),i},execCommand:function(t,e){if(!this.commandsDisabled){var n=this.commandMapping[t+":"+e];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(t,e)}},_execCommand:function(t,e){this.editor.focus(!1),this.composer.commands.exec(t,e),this._updateLinkStates()},execAction:function(t){var e=this.editor;switch(t){case"change_view":e.currentView===e.textarea?e.fire("change_view","composer"):e.fire("change_view","textarea")}},_observe:function(){for(var t=this,n=this.editor,i=this.container,s=this.commandLinks.concat(this.actionLinks),a=s.length,o=0;a>o;o++)e.setAttributes({href:"javascript:;",unselectable:"on"}).on(s[o]);e.delegate(i,"[data-wysihtml5-command]","mousedown",function(t){t.preventDefault()}),e.delegate(i,"[data-wysihtml5-command]","click",function(e){var n=this.getAttribute("data-wysihtml5-command"),i=this.getAttribute("data-wysihtml5-command-value");t.execCommand(n,i),e.preventDefault()}),e.delegate(i,"[data-wysihtml5-action]","click",function(e){var n=this.getAttribute("data-wysihtml5-action");t.execAction(n),e.preventDefault()}),n.observe("focus:composer",function(){t.bookmark=null,clearInterval(t.interval),t.interval=setInterval(function(){t._updateLinkStates()},500)}),n.observe("blur:composer",function(){clearInterval(t.interval)}),n.observe("destroy:composer",function(){clearInterval(t.interval)}),n.observe("change_view",function(n){setTimeout(function(){t.commandsDisabled="composer"!==n,t._updateLinkStates(),t.commandsDisabled?e.addClass(i,"wysihtml5-commands-disabled"):e.removeClass(i,"wysihtml5-commands-disabled")},0)})},_updateLinkStates:function(){var n,i,s,a=this.commandMapping,o=this.actionMapping;for(n in a)s=a[n],this.commandsDisabled?(i=!1,e.removeClass(s.link,"wysihtml5-command-active"),s.group&&e.removeClass(s.group,"wysihtml5-command-active"),s.dialog&&s.dialog.hide()):(i=this.composer.commands.state(s.name,s.value),t.lang.object(i).isArray()&&(i=1===i.length?i[0]:!0),e.removeClass(s.link,"wysihtml5-command-disabled"),s.group&&e.removeClass(s.group,"wysihtml5-command-disabled")),s.state!==i&&((s.state=i)?(e.addClass(s.link,"wysihtml5-command-active"),s.group&&e.addClass(s.group,"wysihtml5-command-active"),s.dialog&&("object"==typeof i?s.dialog.show(i):s.dialog.hide())):(e.removeClass(s.link,"wysihtml5-command-active"),s.group&&e.removeClass(s.group,"wysihtml5-command-active"),s.dialog&&s.dialog.hide()));for(n in o)a=o[n],"change_view"===a.name&&(a.state=this.editor.currentView===this.editor.textarea,a.state?e.addClass(a.link,"wysihtml5-action-active"):e.removeClass(a.link,"wysihtml5-action-active"))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(t){var e={name:void 0,style:!0,toolbar:void 0,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:t.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:void 0,allowObjectResizing:!0,supportTouchDevices:!0};t.Editor=t.lang.Dispatcher.extend({constructor:function(n,i){if(this.textareaElement="string"==typeof n?document.getElementById(n):n,this.config=t.lang.object({}).merge(e).merge(i).get(),this.currentView=this.textarea=new t.views.Textarea(this,this.textareaElement,this.config),this._isCompatible=t.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&t.browser.isTouchDevice()){var s=this;setTimeout(function(){s.fire("beforeload").fire("load")},0)}else{t.dom.addClass(document.body,this.config.bodyClassName),this.currentView=this.composer=new t.views.Composer(this,this.textareaElement,this.config),"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new t.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new t.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(a){}}},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(t){return this.currentView.getValue(t)},setValue:function(t,e){return t?(this.currentView.setValue(t,e),this):this.clear()},focus:function(t){return this.currentView.focus(t),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(e){var n=this.config.parser(e,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof e&&t.quirks.redraw(e),n},_initParser:function(){this.observe("paste:composer",function(){var e=this;e.composer.selection.executeAndRestore(function(){t.quirks.cleanPastedHTML(e.composer.element),e.parse(e.composer.element)},!0)}),this.observe("paste:textarea",function(){this.textarea.setValue(this.parse(this.textarea.getValue()))})}})}(wysihtml5);var Handlebars=function(){var t=function(){"use strict";function t(t){this.string=t}var e;return t.prototype.toString=function(){return""+this.string},e=t}(),e=function(t){"use strict";function e(t){return r[t]||"&amp;"}function n(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function i(t){return t instanceof o?t.toString():t||0===t?(t=""+t,c.test(t)?t.replace(l,e):t):""}function s(t){return t||0===t?h(t)&&0===t.length?!0:!1:!0}var a={},o=t,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/;a.extend=n;var d=Object.prototype.toString;a.toString=d;var u=function(t){return"function"==typeof t};u(/x/)&&(u=function(t){return"function"==typeof t&&"[object Function]"===d.call(t)});var u;a.isFunction=u;var h=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===d.call(t):!1};return a.isArray=h,a.escapeExpression=i,a.isEmpty=s,a}(t),n=function(){"use strict";function t(){for(var t=Error.prototype.constructor.apply(this,arguments),e=0;e<n.length;e++)this[n[e]]=t[n[e]]}var e,n=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,e=t}(),i=function(t,e){"use strict";function n(t,e){this.helpers=t||{},this.partials=e||{},i(this)}function i(t){t.registerHelper("helperMissing",function(t){if(2===arguments.length)return void 0;throw new Error("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse||function(){},s=n.fn;return h(e)&&(e=e.call(this)),e===!0?s(this):e===!1||null==e?i(this):u(e)?e.length>0?t.helpers.each(e,n):i(this):s(e)}),t.registerHelper("each",function(t,e){var n,i=e.fn,s=e.inverse,a=0,o="";if(h(t)&&(t=t.call(this)),e.data&&(n=g(e.data)),t&&"object"==typeof t)if(u(t))for(var r=t.length;r>a;a++)n&&(n.index=a,n.first=0===a,n.last=a===t.length-1),o+=i(t[a],{data:n});else for(var l in t)t.hasOwnProperty(l)&&(n&&(n.key=l),o+=i(t[l],{data:n}),a++);return 0===a&&(o=s(this)),o}),t.registerHelper("if",function(t,e){return h(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){return h(t)&&(t=t.call(this)),o.isEmpty(t)?void 0:e.fn(t)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)})}function s(t,e){m.log(t,e)}var a={},o=t,r=e,l="1.1.2";a.VERSION=l;var c=4;a.COMPILER_REVISION=c;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};a.REVISION_CHANGES=d;var u=o.isArray,h=o.isFunction,f=o.toString,p="[object Object]";a.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:m,log:s,registerHelper:function(t,e,n){if(f.call(t)===p){if(n||e)throw new r("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else n&&(e.not=n),this.helpers[t]=e},registerPartial:function(t,e){f.call(t)===p?o.extend(this.partials,t):this.partials[t]=e}};var m={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(m.level<=t){var n=m.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,e)}}};a.logger=m,a.log=s;var g=function(t){var e={};return o.extend(e,t),e};return a.createFrame=g,a}(e,n),s=function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=h;if(e!==n){if(n>e){var i=f[n],s=f[e];throw new Error("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+s+").")}throw new Error("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function s(t,e){if(!e)throw new Error("No environment passed to template");var n;n=e.compile?function(t,n,i,s,a,o){var l=r.apply(this,arguments);if(l)return l;var c={helpers:s,partials:a,data:o};return a[n]=e.compile(t,{data:void 0!==o},e),a[n](i,c)}:function(t,e){var n=r.apply(this,arguments);if(n)return n;throw new u("The partial "+e+" could not be compiled when running in runtime-only mode")};var s={escapeExpression:d.escapeExpression,invokePartial:n,programs:[],program:function(t,e,n){var i=this.programs[t];return n?i=o(t,e,n):i||(i=this.programs[t]=o(t,e)),i},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n={},d.extend(n,e),d.extend(n,t)),n},programWithDepth:a,noop:l,compilerInfo:null};return function(n,a){a=a||{};var o,r,l=a.partial?a:e;a.partial||(o=a.helpers,r=a.partials);var c=t.call(s,l,n,o,r,a.data);return a.partial||i(s.compilerInfo),c}}function a(t,e,n){var i=Array.prototype.slice.call(arguments,3),s=function(t,s){return s=s||{},e.apply(this,[t,s.data||n].concat(i))};return s.program=t,s.depth=i.length,s}function o(t,e,n){var i=function(t,i){return i=i||{},e(t,i.data||n)};return i.program=t,i.depth=0,i}function r(t,e,n,i,s,a){var o={partial:!0,helpers:i,partials:s,data:a};if(void 0===t)throw new u("The partial "+e+" could not be found");return t instanceof Function?t(n,o):void 0}function l(){return""}var c={},d=t,u=e,h=n.COMPILER_REVISION,f=n.REVISION_CHANGES;return c.template=s,c.programWithDepth=a,c.program=o,c.invokePartial=r,c.noop=l,c}(e,n,i),a=function(t,e,n,i,s){"use strict";var a,o=t,r=e,l=n,c=i,d=s,u=function(){var t=new o.HandlebarsEnvironment;return c.extend(t,o),t.SafeString=r,t.Exception=l,t.Utils=c,t.VM=d,t.template=function(e){return d.template(e,t)},t},h=u();return h.create=u,a=h}(i,t,n,e,s);return a}(),glob="undefined"==typeof window?global:window,Handlebars=glob.Handlebars||require("handlebars");if(this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.color=Handlebars.template(function(t,e,n,i,s){function a(t){var e,n="";return n+="btn-"+d((e=t&&t.options,e=null==e||e===!1?e:e.size,typeof e===c?e.apply(t):e))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{};var o,r,l="",c="function",d=this.escapeExpression,u=this;return l+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',r=n["if"].call(e,(o=e&&e.options,null==o||o===!1?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,a,s),data:s}),(r||0===r)&&(l+=r),l+='" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+d((o=e&&e.locale,
o=null==o||o===!1?o:o.colours,o=null==o||o===!1?o:o.black,typeof o===c?o.apply(e):o))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.colours,o=null==o||o===!1?o:o.black,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.colours,o=null==o||o===!1?o:o.silver,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.colours,o=null==o||o===!1?o:o.gray,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.colours,o=null==o||o===!1?o:o.maroon,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.colours,o=null==o||o===!1?o:o.red,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.colours,o=null==o||o===!1?o:o.purple,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.colours,o=null==o||o===!1?o:o.green,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.colours,o=null==o||o===!1?o:o.olive,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.colours,o=null==o||o===!1?o:o.navy,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.colours,o=null==o||o===!1?o:o.blue,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.colours,o=null==o||o===!1?o:o.orange,typeof o===c?o.apply(e):o))+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.emphasis=Handlebars.template(function(t,e,n,i,s){function a(t){var e,n="";return n+="btn-"+d((e=t&&t.options,e=null==e||e===!1?e:e.size,typeof e===c?e.apply(t):e))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{};var o,r,l="",c="function",d=this.escapeExpression,u=this;return l+='<li>\n  <div class="btn-group">\n    <a class="btn ',r=n["if"].call(e,(o=e&&e.options,null==o||o===!1?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,a,s),data:s}),(r||0===r)&&(l+=r),l+=' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.emphasis,o=null==o||o===!1?o:o.bold,typeof o===c?o.apply(e):o))+'</a>\n    <a class="btn ',r=n["if"].call(e,(o=e&&e.options,null==o||o===!1?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,a,s),data:s}),(r||0===r)&&(l+=r),l+=' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.emphasis,o=null==o||o===!1?o:o.italic,typeof o===c?o.apply(e):o))+'</a>\n    <a class="btn ',r=n["if"].call(e,(o=e&&e.options,null==o||o===!1?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,a,s),data:s}),(r||0===r)&&(l+=r),l+=' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.emphasis,o=null==o||o===!1?o:o.underline,typeof o===c?o.apply(e):o))+"</a>\n  </div>\n</li>\n"}),this.wysihtml5.tpl["font-styles"]=Handlebars.template(function(t,e,n,i,s){function a(t){var e,n="";return n+="btn-"+d((e=t&&t.options,e=null==e||e===!1?e:e.size,typeof e===c?e.apply(t):e))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{};var o,r,l="",c="function",d=this.escapeExpression,u=this;return l+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',r=n["if"].call(e,(o=e&&e.options,null==o||o===!1?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,a,s),data:s}),(r||0===r)&&(l+=r),l+='" data-toggle="dropdown">\n    <span class="glyphicon glyphicon-font"></span>\n    <span class="current-font">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.font_styles,o=null==o||o===!1?o:o.normal,typeof o===c?o.apply(e):o))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="div" tabindex="-1">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.font_styles,o=null==o||o===!1?o:o.normal,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.font_styles,o=null==o||o===!1?o:o.h1,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.font_styles,o=null==o||o===!1?o:o.h2,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.font_styles,o=null==o||o===!1?o:o.h3,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.font_styles,o=null==o||o===!1?o:o.h4,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.font_styles,o=null==o||o===!1?o:o.h5,typeof o===c?o.apply(e):o))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.font_styles,o=null==o||o===!1?o:o.h6,typeof o===c?o.apply(e):o))+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.html=Handlebars.template(function(t,e,n,i,s){function a(t){var e,n="";return n+="btn-"+d((e=t&&t.options,e=null==e||e===!1?e:e.size,typeof e===c?e.apply(t):e))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{};var o,r,l="",c="function",d=this.escapeExpression,u=this;return l+='<li>\n  <div class="btn-group">\n    <a class="btn ',r=n["if"].call(e,(o=e&&e.options,null==o||o===!1?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,a,s),data:s}),(r||0===r)&&(l+=r),l+=' btn-default" data-wysihtml5-action="change_view" title="'+d((o=e&&e.locale,o=null==o||o===!1?o:o.html,o=null==o||o===!1?o:o.edit,typeof o===c?o.apply(e):o))+'" tabindex="-1">\n      <span class="glyphicon glyphicon-pencil"></span>\n    </a>\n  </div>\n</li>\n'}),this.wysihtml5.tpl.image=Handlebars.template(function(t,e,n,i,s){function a(t){var e,n="";return n+="btn-"+d((e=t&&t.options,e=null==e||e===!1?e:e.size,typeof e===c?e.apply(t):e))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{};var o,r,l="",c="function",d=this.escapeExpression,u=this;return l+='<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+d((o=e&&e.locale,o=null==o||o===!1?o:o.image,o=null==o||o===!1?o:o.insert,typeof o===c?o.apply(e):o))+'</h3>\n        </div>\n        <div class="modal-body">\n          <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control">\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.image,o=null==o||o===!1?o:o.cancel,typeof o===c?o.apply(e):o))+'</a>\n          <a class="btn btn-primary" data-dismiss="modal">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.image,o=null==o||o===!1?o:o.insert,typeof o===c?o.apply(e):o))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',r=n["if"].call(e,(o=e&&e.options,null==o||o===!1?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,a,s),data:s}),(r||0===r)&&(l+=r),l+=' btn-default" data-wysihtml5-command="insertImage" title="'+d((o=e&&e.locale,o=null==o||o===!1?o:o.image,o=null==o||o===!1?o:o.insert,typeof o===c?o.apply(e):o))+'" tabindex="-1">\n    <span class="glyphicon glyphicon-picture"></span>\n  </a>\n</li>\n'}),this.wysihtml5.tpl.link=Handlebars.template(function(t,e,n,i,s){function a(t){var e,n="";return n+="btn-"+d((e=t&&t.options,e=null==e||e===!1?e:e.size,typeof e===c?e.apply(t):e))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{};var o,r,l="",c="function",d=this.escapeExpression,u=this;return l+='<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+d((o=e&&e.locale,o=null==o||o===!1?o:o.link,o=null==o||o===!1?o:o.insert,typeof o===c?o.apply(e):o))+'</h3>\n        </div>\n        <div class="modal-body">\n          <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control">\n          <div class="checkbox"><label> <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+d((o=e&&e.locale,o=null==o||o===!1?o:o.link,o=null==o||o===!1?o:o.target,typeof o===c?o.apply(e):o))+'</label></div>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.link,o=null==o||o===!1?o:o.cancel,typeof o===c?o.apply(e):o))+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal">'+d((o=e&&e.locale,o=null==o||o===!1?o:o.link,o=null==o||o===!1?o:o.insert,typeof o===c?o.apply(e):o))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',r=n["if"].call(e,(o=e&&e.options,null==o||o===!1?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,a,s),data:s}),(r||0===r)&&(l+=r),l+=' btn-default" data-wysihtml5-command="createLink" title="'+d((o=e&&e.locale,o=null==o||o===!1?o:o.link,o=null==o||o===!1?o:o.insert,typeof o===c?o.apply(e):o))+'" tabindex="-1">\n    <span class="glyphicon glyphicon-share"></span>\n  </a>\n</li>\n'}),this.wysihtml5.tpl.lists=Handlebars.template(function(t,e,n,i,s){function a(t){var e,n="";return n+="btn-"+d((e=t&&t.options,e=null==e||e===!1?e:e.size,typeof e===c?e.apply(t):e))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{};var o,r,l="",c="function",d=this.escapeExpression,u=this;return l+='<li>\n  <div class="btn-group">\n    <a class="btn ',r=n["if"].call(e,(o=e&&e.options,null==o||o===!1?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,a,s),data:s}),(r||0===r)&&(l+=r),l+=' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+d((o=e&&e.locale,o=null==o||o===!1?o:o.lists,o=null==o||o===!1?o:o.unordered,typeof o===c?o.apply(e):o))+'" tabindex="-1"><span class="glyphicon glyphicon-list"></span></a>\n    <a class="btn ',r=n["if"].call(e,(o=e&&e.options,null==o||o===!1?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,a,s),data:s}),(r||0===r)&&(l+=r),l+=' btn-default" data-wysihtml5-command="insertOrderedList" title="'+d((o=e&&e.locale,o=null==o||o===!1?o:o.lists,o=null==o||o===!1?o:o.ordered,typeof o===c?o.apply(e):o))+'" tabindex="-1"><span class="glyphicon glyphicon-th-list"></span></a>\n    <a class="btn ',r=n["if"].call(e,(o=e&&e.options,null==o||o===!1?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,a,s),data:s}),(r||0===r)&&(l+=r),l+=' btn-default" data-wysihtml5-command="Outdent" title="'+d((o=e&&e.locale,o=null==o||o===!1?o:o.lists,o=null==o||o===!1?o:o.outdent,typeof o===c?o.apply(e):o))+'" tabindex="-1"><span class="glyphicon glyphicon-indent-right"></span></a>\n    <a class="btn ',r=n["if"].call(e,(o=e&&e.options,null==o||o===!1?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,a,s),data:s}),(r||0===r)&&(l+=r),l+=' btn-default" data-wysihtml5-command="Indent" title="'+d((o=e&&e.locale,o=null==o||o===!1?o:o.lists,o=null==o||o===!1?o:o.indent,typeof o===c?o.apply(e):o))+'" tabindex="-1"><span class="glyphicon glyphicon-indent-left"></span></a>\n  </div>\n</li>\n'}),"object"==typeof exports&&exports&&(module.exports=this.wysihtml5.tpl),!function(t,e){"use strict";var n=function(t,n,i){return e.tpl[t]({locale:n,options:i})},i=function(n,i){this.el=n;var s=i||a;for(var o in s.customTemplates)e.tpl[o]=s.customTemplates[o];this.toolbar=this.createToolbar(n,s),this.editor=this.createEditor(i),window.editor=this.editor,t("iframe.wysihtml5-sandbox").each(function(e,n){t(n.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){t("li.dropdown").removeClass("open")}})})};i.prototype={constructor:i,createEditor:function(n){n=n||{},n=t.extend(!0,{},n),n.toolbar=this.toolbar[0];var i=new e.Editor(this.el[0],n);if(n&&n.events)for(var s in n.events)i.on(s,n.events[s]);return i},createToolbar:function(e,i){var s=this,r=t("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"}),l=i.locale||a.locale||"en";for(var c in a){var d=!1;void 0!==i[c]?i[c]===!0&&(d=!0):d=a[c],d===!0&&(r.append(n(c,o[l],i)),"html"===c&&this.initHtml(r),"link"===c&&this.initInsertLink(r),"image"===c&&this.initInsertImage(r))}if(i.toolbar)for(c in i.toolbar)r.append(i.toolbar[c]);return r.find('a[data-wysihtml5-command="formatBlock"]').click(function(e){var n=e.target||e.srcElement,i=t(n);s.toolbar.find(".current-font").text(i.html())}),r.find('a[data-wysihtml5-command="foreColor"]').click(function(e){var n=e.target||e.srcElement,i=t(n);s.toolbar.find(".current-color").text(i.html())}),this.el.before(r),r},initHtml:function(t){var e='a[data-wysihtml5-action="change_view"]';t.find(e).click(function(){t.find("a.btn").not(e).toggleClass("disabled")})},initInsertImage:function(e){var n,i=this,s=e.find(".bootstrap-wysihtml5-insert-image-modal"),a=s.find(".bootstrap-wysihtml5-insert-image-url"),o=s.find("a.btn-primary"),r=a.val(),l=function(){var t=a.val();a.val(r),i.editor.currentView.element.focus(),n&&(i.editor.composer.selection.setBookmark(n),n=null),i.editor.composer.commands.exec("insertImage",t)};a.keypress(function(t){13==t.which&&(l(),s.modal("hide"))}),o.click(l),s.on("shown",function(){a.focus()}),s.on("hide",function(){i.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=insertImage]").click(function(){var e=t(this).hasClass("wysihtml5-command-active");return e?!0:(i.editor.currentView.element.focus(!1),n=i.editor.composer.selection.getBookmark(),s.appendTo("body").modal("show"),s.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()}),!1)})},initInsertLink:function(e){var n,i=this,s=e.find(".bootstrap-wysihtml5-insert-link-modal"),a=s.find(".bootstrap-wysihtml5-insert-link-url"),o=s.find(".bootstrap-wysihtml5-insert-link-target"),r=s.find("a.btn-primary"),l=a.val(),c=function(){var t=a.val();a.val(l),i.editor.currentView.element.focus(),n&&(i.editor.composer.selection.setBookmark(n),n=null);var e=o.prop("checked");i.editor.composer.commands.exec("createLink",{href:t,target:e?"_blank":"_self",rel:e?"nofollow":""})};a.keypress(function(t){13==t.which&&(c(),s.modal("hide"))}),r.click(c),s.on("shown",function(){a.focus()}),s.on("hide",function(){i.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=createLink]").click(function(){var e=t(this).hasClass("wysihtml5-command-active");return e?!0:(i.editor.currentView.element.focus(!1),n=i.editor.composer.selection.getBookmark(),s.appendTo("body").modal("show"),s.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()}),!1)})}};var s={resetDefaults:function(){t.fn.wysihtml5.defaultOptions=t.extend(!0,{},t.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(e){return this.each(function(){var n=t(this);n.data("wysihtml5",new i(n,e))})},shallowExtend:function(e){var n=t.extend({},t.fn.wysihtml5.defaultOptions,e||{},t(this).data()),i=this;return s.bypassDefaults.apply(i,[n])},deepExtend:function(e){var n=t.extend(!0,{},t.fn.wysihtml5.defaultOptions,e||{}),i=this;return s.bypassDefaults.apply(i,[n])},init:function(t){var e=this;return s.shallowExtend.apply(e,[t])}};t.fn.wysihtml5=function(e){return s[e]?s[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.wysihtml5"):s.init.apply(this,arguments)},t.fn.wysihtml5.Constructor=i;var a=t.fn.wysihtml5.defaultOptions={"font-styles":!0,color:!1,emphasis:!0,lists:!0,html:!1,link:!0,image:!0,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,code:1,pre:1}},locale:"en"};"undefined"==typeof t.fn.wysihtml5.defaultOptionsCache&&(t.fn.wysihtml5.defaultOptionsCache=t.extend(!0,{},t.fn.wysihtml5.defaultOptions));var o=t.fn.wysihtml5.locale={}}(window.jQuery,window.wysihtml5),function(t){t.fn.wysihtml5.locale.en=t.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}(jQuery),function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function s(t){return function(){return this[t].apply(this,arguments)}}function a(e,n){function i(t,e){return e.toLowerCase()}var s,a=t(e).data(),o={},r=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in a)n.test(l)&&(s=l.replace(r,i),o[s]=a[l]);return o}function o(e){var n={};if(p[e]||(e=e.split("-")[0],p[e])){var i=p[e];return t.each(f,function(t,e){e in i&&(n[e]=i[e])}),n}}var r=t(window),l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;i>n;n++)if(this[n].valueOf()===e)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.splice(0)},copy:function(){var t=new l;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),c=function(e,n){this.dates=new l,this.viewDate=i(),this.focusDate=null,this._process_options(n),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(e){this._o=t.extend({},this._o,e);var n=this.o=t.extend({},this._o),i=n.language;switch(p[i]||(i=i.split("-")[0],p[i]||(i=h.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.multidate!==!0&&(n.multidate=Number(n.multidate)||!1,n.multidate=n.multidate!==!1?Math.max(0,n.multidate):1),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var s=m.parseFormat(n.format);n.startDate!==-(1/0)&&(n.startDate=n.startDate?n.startDate instanceof Date?this._local_to_utc(this._zero_time(n.startDate)):m.parseDate(n.startDate,s,n.language):-(1/0)),n.endDate!==1/0&&(n.endDate=n.endDate?n.endDate instanceof Date?this._local_to_utc(this._zero_time(n.endDate)):m.parseDate(n.endDate,s,n.language):1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)});var a=String(n.orientation).toLowerCase().split(/\s+/g),o=n.orientation.toLowerCase();if(a=t.grep(a,function(t){return/^auto|left|right|top|bottom$/.test(t)}),n.orientation={x:"auto",y:"auto"},o&&"auto"!==o)if(1===a.length)switch(a[0]){case"top":case"bottom":n.orientation.y=a[0];break;case"left":case"right":n.orientation.x=a[0]}else o=t.grep(a,function(t){return/^left|right$/.test(t)}),n.orientation.x=o[0]||"auto",o=t.grep(a,function(t){return/^top|bottom$/.test(t)}),n.orientation.y=o[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,i,s,a=0;a<t.length;a++)n=t[a][0],2===t[a].length?(i=e,s=t[a][1]):3===t[a].length&&(i=t[a][1],s=t[a][2]),n.on(s,i)},_unapplyEvents:function(t){for(var n,i,s,a=0;a<t.length;a++)n=t[a][0],2===t[a].length?(s=e,i=t[a][1]):3===t[a].length&&(s=t[a][1],i=t[a][2]),n.off(i,s)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),s=this._utc_to_local(i);this.element.trigger({type:e,date:s,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return m.formatDate(n,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:s("setDates"),setUTCDate:s("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return m.formatDate(t,n,i)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,s=r.width(),a=r.height(),o=r.scrollTop(),l=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,c=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=c.left,f=c.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=e-u)):(this.picker.addClass("datepicker-orient-left"),c.left<0?h-=c.left-i:c.left+e>s&&(h=s-e-i));var p,m,g=this.o.orientation.y;"auto"===g&&(p=-o+c.top-n,m=o+a-(c.top+d+n),g=Math.max(p,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+g),"top"===g?f+=d:f-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:f,left:h,zIndex:l})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),n=[],i=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return m.parseDate(t,this.o.format,this.o.language)},this)),n=t.grep(n,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';e+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+p[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+p[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),a=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<s?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>s)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===a.getFullYear()&&e.getUTCMonth()===a.getMonth()&&e.getUTCDate()===a.getDate()&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var i,s=new Date(this.viewDate),a=s.getUTCFullYear(),o=s.getUTCMonth(),r=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=p[this.o.language].today||p.en.today||"",h=p[this.o.language].clear||p.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(p[this.o.language].months[o]+" "+a),this.picker.find("tfoot th.today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(h).toggle(this.o.clearBtn!==!1),
this.updateNavArrows(),this.fillMonths();var f=n(a,o-1,28),g=m.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(g),f.setUTCDate(g-(f.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(f);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,b=[];f.valueOf()<v;){if(f.getUTCDay()===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),C=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),D=new Date(Number(D=n(C.getUTCFullYear(),0,1))+(11-D.getUTCDay())%7*864e5),S=(C-D)/864e5/7+1;b.push('<td class="cw">'+S+"</td>")}if(y=this.getClassNames(f),y.push("day"),this.o.beforeShowDay!==t.noop){var x=this.o.beforeShowDay(this._utc_to_local(f));x===e?x={}:"boolean"==typeof x?x={enabled:x}:"string"==typeof x&&(x={classes:x}),x.enabled===!1&&y.push("disabled"),x.classes&&(y=y.concat(x.classes.split(/\s+/))),x.tooltip&&(i=x.tooltip)}y=t.unique(y),b.push('<td class="'+y.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+f.getUTCDate()+"</td>"),f.getUTCDay()===this.o.weekEnd&&b.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(b.join(""));var _=this.picker.find(".datepicker-months").find("th:eq(1)").text(a).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===a&&_.eq(e.getUTCMonth()).addClass("active")}),(r>a||a>c)&&_.addClass("disabled"),a===r&&_.slice(0,l).addClass("disabled"),a===c&&_.slice(d+1).addClass("disabled"),b="",a=10*parseInt(a/10,10);var T=this.picker.find(".datepicker-years").find("th:eq(1)").text(a+"-"+(a+9)).end().find("td");a-=1;for(var E,k=t.map(this.dates,function(t){return t.getUTCFullYear()}),N=-1;11>N;N++)E=["year"],-1===N?E.push("old"):10===N&&E.push("new"),-1!==t.inArray(a,k)&&E.push("active"),(r>a||a>c)&&E.push("disabled"),b+='<span class="'+E.join(" ")+'">'+a+"</span>",a+=1;T.html(b)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(e){e.preventDefault();var i,s,a,o=t(e.target).closest("span, td, th");if(1===o.length)switch(o[0].nodeName.toLowerCase()){case"th":switch(o[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=m.modes[this.viewMode].navStep*("prev"===o[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":var d;this.isInput?d=this.element:this.component&&(d=this.element.find("input")),d&&d.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":o.is(".disabled")||(this.viewDate.setUTCDate(1),o.is(".month")?(a=1,s=o.parent().find("span").index(o),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,s,a))):(a=1,s=0,i=parseInt(o.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,s,a))),this.showMode(-1),this.fill());break;case"td":o.is(".day")&&!o.is(".disabled")&&(a=parseInt(o.text(),10)||1,i=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),o.is(".old")?0===s?(s=11,i-=1):s-=1:o.is(".new")&&(11===s?(s=0,i+=1):s+=1),this._setDate(n(i,s,a)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,n){if(!t)return e;if(!n)return t;var i,s,a=new Date(t.valueOf()),o=a.getUTCDate(),r=a.getUTCMonth(),l=Math.abs(n);if(n=n>0?1:-1,1===l)s=-1===n?function(){return a.getUTCMonth()===r}:function(){return a.getUTCMonth()!==i},i=r+n,a.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var c=0;l>c;c++)a=this.moveMonth(a,n);i=a.getUTCMonth(),a.setUTCDate(o),s=function(){return i!==a.getUTCMonth()}}for(;s();)a.setUTCDate(--o),a.setUTCMonth(i);return a},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,n,s,a=!1,o=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),s=this.moveYear(o,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),s=this.moveMonth(o,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+e),s=new Date(o),s.setUTCDate(o.getUTCDate()+e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),s=this.moveYear(o,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),s=this.moveMonth(o,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+7*e),s=new Date(o),s.setUTCDate(o.getUTCDate()+7*e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:o=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(o),a=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(a){this._trigger(this.dates.length?"changeDate":"clearDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var d=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,t(this.inputs).datepicker(n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};d.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=t(e.target).data("datepicker"),i=n.getUTCDate(),s=t.inArray(e.target,this.inputs),a=this.inputs.length;if(-1!==s){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)}),i<this.dates[s])for(;s>=0&&i<this.dates[s];)this.pickers[s--].setUTCDate(i);else if(i>this.dates[s])for(;a>s&&i>this.dates[s];)this.pickers[s++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var u=t.fn.datepicker;t.fn.datepicker=function(n){var i=Array.apply(null,arguments);i.shift();var s;return this.each(function(){var r=t(this),l=r.data("datepicker"),u="object"==typeof n&&n;if(!l){var f=a(this,"date"),p=t.extend({},h,f,u),m=o(p.language),g=t.extend({},h,m,f,u);if(r.is(".input-daterange")||g.inputs){var v={inputs:g.inputs||r.find("input").toArray()};r.data("datepicker",l=new d(this,t.extend(g,v)))}else r.data("datepicker",l=new c(this,g))}return"string"==typeof n&&"function"==typeof l[n]&&(s=l[n].apply(l,i),s!==e)?!1:void 0}),s!==e?s:this};var h=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=c;var p=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,m.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(i,s,a){function o(){var t=this.slice(0,h[d].length),e=h[d].slice(0,t.length);return t===e}if(!i)return e;if(i instanceof Date)return i;"string"==typeof s&&(s=m.parseFormat(s));var r,l,d,u=/([\-+]\d+)([dmwy])/,h=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,d=0;d<h.length;d++)switch(r=u.exec(h[d]),l=parseInt(r[1]),r[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=c.prototype.moveMonth.call(c.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=c.prototype.moveYear.call(c.prototype,i,l)}return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}h=i&&i.match(this.nonpunctuation)||[],i=new Date;var f,g,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],b={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};b.M=b.MM=b.mm=b.m,b.dd=b.d,i=n(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var w=s.parts.slice();if(h.length!==w.length&&(w=t(w).filter(function(e,n){return-1!==t.inArray(n,y)}).toArray()),h.length===w.length){var C;for(d=0,C=w.length;C>d;d++){if(f=parseInt(h[d],10),r=w[d],isNaN(f))switch(r){case"MM":g=t(p[a].months).filter(o),f=t.inArray(g[0],p[a].months)+1;break;case"M":g=t(p[a].monthsShort).filter(o),f=t.inArray(g[0],p[a].monthsShort)+1}v[r]=f}var D,S;for(d=0;d<y.length;d++)S=y[d],S in v&&!isNaN(v[S])&&(D=new Date(i),b[S](D,v[S]),isNaN(D)||(i=D))}return i},formatDate:function(e,n,i){if(!e)return"";"string"==typeof n&&(n=m.parseFormat(n));var s={d:e.getUTCDate(),D:p[i].daysShort[e.getUTCDay()],DD:p[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:p[i].monthsShort[e.getUTCMonth()],MM:p[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m,e=[];for(var a=t.extend([],n.separators),o=0,r=n.parts.length;r>=o;o++)a.length&&e.push(a.shift()),e.push(s[n.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class="table table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=m,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=u,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),n.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(n,i,s){t.daterangepicker=e(t,s,n,i)});else if("undefined"!=typeof exports){var n,i=require("moment");try{n=require("jquery")}catch(s){if(n=window.jQuery,!n)throw new Error("jQuery dependency not found")}e(t,exports,i,n)}else t.daterangepicker=e(t,{},t.moment,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,i){var s=function(t,e,n){this.parentEl="body",this.element=i(t),this.isShowing=!1;var s='<div class="daterangepicker dropdown-menu"><div class="calendar first left"></div><div class="calendar second right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>';("object"!=typeof e||null===e)&&(e={}),this.parentEl=i("object"==typeof e&&e.parentEl&&i(e.parentEl).length?e.parentEl:this.parentEl),this.container=i(s).appendTo(this.parentEl),this.setOptions(e,n),this.container.find(".calendar").on("click.daterangepicker",".prev",i.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",i.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",i.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",i.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",i.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",i.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",i.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",i.proxy(this.updateTime,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",i.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",i.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",i.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",i.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",i.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",i.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",i.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",i.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":i.proxy(this.show,this),"focus.daterangepicker":i.proxy(this.show,this),"keyup.daterangepicker":i.proxy(this.updateFromControl,this),"keydown.daterangepicker":i.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",i.proxy(this.toggle,this))};s.prototype={constructor:s,setOptions:function(t,e){if(this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.timeZone=n().utcOffset(),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerSeconds=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses=["btn","btn-small btn-sm"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData()._week.dow},this.cb=function(){},"string"==typeof t.format&&(this.format=t.format),"string"==typeof t.separator&&(this.separator=t.separator),"string"==typeof t.startDate&&(this.startDate=n(t.startDate,this.format)),"string"==typeof t.endDate&&(this.endDate=n(t.endDate,this.format)),"string"==typeof t.minDate&&(this.minDate=n(t.minDate,this.format)),"string"==typeof t.maxDate&&(this.maxDate=n(t.maxDate,this.format)),"object"==typeof t.startDate&&(this.startDate=n(t.startDate)),"object"==typeof t.endDate&&(this.endDate=n(t.endDate)),"object"==typeof t.minDate&&(this.minDate=n(t.minDate)),"object"==typeof t.maxDate&&(this.maxDate=n(t.maxDate)),"string"==typeof t.applyClass&&(this.applyClass=t.applyClass),"string"==typeof t.cancelClass&&(this.cancelClass=t.cancelClass),"object"==typeof t.dateLimit&&(this.dateLimit=t.dateLimit),"object"==typeof t.locale&&("object"==typeof t.locale.daysOfWeek&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),"object"==typeof t.locale.monthNames&&(this.locale.monthNames=t.locale.monthNames.slice()),"number"==typeof t.locale.firstDay&&(this.locale.firstDay=t.locale.firstDay),"string"==typeof t.locale.applyLabel&&(this.locale.applyLabel=t.locale.applyLabel),"string"==typeof t.locale.cancelLabel&&(this.locale.cancelLabel=t.locale.cancelLabel),"string"==typeof t.locale.fromLabel&&(this.locale.fromLabel=t.locale.fromLabel),"string"==typeof t.locale.toLabel&&(this.locale.toLabel=t.locale.toLabel),"string"==typeof t.locale.weekLabel&&(this.locale.weekLabel=t.locale.weekLabel),"string"==typeof t.locale.customRangeLabel&&(this.locale.customRangeLabel=t.locale.customRangeLabel)),"string"==typeof t.opens&&(this.opens=t.opens),"string"==typeof t.drops&&(this.drops=t.drops),"boolean"==typeof t.showWeekNumbers&&(this.showWeekNumbers=t.showWeekNumbers),"string"==typeof t.buttonClasses&&(this.buttonClasses=[t.buttonClasses]),"object"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses),"boolean"==typeof t.showDropdowns&&(this.showDropdowns=t.showDropdowns),"boolean"==typeof t.singleDatePicker&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof t.timePicker&&(this.timePicker=t.timePicker),"boolean"==typeof t.timePickerSeconds&&(this.timePickerSeconds=t.timePickerSeconds),"number"==typeof t.timePickerIncrement&&(this.timePickerIncrement=t.timePickerIncrement),"boolean"==typeof t.timePicker12Hour&&(this.timePicker12Hour=t.timePicker12Hour),0!=this.locale.firstDay)for(var s=this.locale.firstDay;s>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),s--;var a,o,r;if("undefined"==typeof t.startDate&&"undefined"==typeof t.endDate&&i(this.element).is("input[type=text]")){var l=i(this.element).val(),c=l.split(this.separator);a=o=null,2==c.length?(a=n(c[0],this.format),o=n(c[1],this.format)):this.singleDatePicker&&""!==l&&(a=n(l,this.format),o=n(l,this.format)),null!==a&&null!==o&&(this.startDate=a,this.endDate=o)}if("string"==typeof t.timeZone||"number"==typeof t.timeZone?(this.timeZone="string"==typeof t.timeZone&&"undefined"!=typeof n.tz?-1*n.tz.zone(t.timeZone).parse(new Date):t.timeZone,this.startDate.utcOffset(this.timeZone),this.endDate.utcOffset(this.timeZone)):this.timeZone=n(this.startDate).utcOffset(),"object"==typeof t.ranges){for(r in t.ranges)a="string"==typeof t.ranges[r][0]?n(t.ranges[r][0],this.format):n(t.ranges[r][0]),o="string"==typeof t.ranges[r][1]?n(t.ranges[r][1],this.format):n(t.ranges[r][1]),this.minDate&&a.isBefore(this.minDate)&&(a=n(this.minDate)),this.maxDate&&o.isAfter(this.maxDate)&&(o=n(this.maxDate)),this.minDate&&o.isBefore(this.minDate)||this.maxDate&&a.isAfter(this.maxDate)||(this.ranges[r]=[a,o]);var d="<ul>";for(r in this.ranges)d+="<li>"+r+"</li>";d+="<li>"+this.locale.customRangeLabel+"</li>",d+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(d)}if("function"==typeof e&&(this.cb=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input").hide():this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:n([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute(),this.startDate.second()]),calendar:[]},this.rightCalendar={month:n([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute(),this.endDate.second()]),calendar:[]},"right"==this.opens||"center"==this.opens){var u=this.container.find(".calendar.first"),h=this.container.find(".calendar.second");h.hasClass("single")&&(h.removeClass("single"),u.addClass("single")),u.removeClass("left").addClass("right"),h.removeClass("right").addClass("left"),this.singleDatePicker&&(u.show(),h.hide())}"undefined"!=typeof t.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.removeClass("opensleft opensright").addClass("opens"+this.opens),this.updateView(),this.updateCalendars();var f=this.container;i.each(this.buttonClasses,function(t,e){f.find("button").addClass(e)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel)},setStartDate:function(t){"string"==typeof t&&(this.startDate=n(t,this.format).utcOffset(this.timeZone)),"object"==typeof t&&(this.startDate=n(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},setEndDate:function(t){"string"==typeof t&&(this.endDate=n(t,this.format).utcOffset(this.timeZone)),"object"==typeof t&&(this.endDate=n(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.separator),e=null,i=null;2===t.length&&(e=n(t[0],this.format).utcOffset(this.timeZone),i=n(t[1],this.format).utcOffset(this.timeZone)),(this.singleDatePicker||null===e||null===i)&&(e=n(this.element.val(),this.format).utcOffset(this.timeZone),i=e),i.isBefore(e)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=e,this.endDate=i,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},keydown:function(t){(9===t.keyCode||13===t.keyCode)&&this.hide()},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var t,e={top:0,left:0},n=i(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},n=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-e.top:this.element.offset().top+this.element.outerHeight()-e.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:n-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>i(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(t){this.element.hasClass("active")?this.hide():this.show()},show:function(t){this.isShowing||(this.element.addClass("active"),this.container.show(),this.move(),this._outsideClickProxy=i.proxy(function(t){this.outsideClick(t)},this),i(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.isShowing=!0,this.element.trigger("show.daterangepicker",this))},outsideClick:function(t){var e=i(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-date").length||this.hide()},hide:function(t){this.isShowing&&(i(document).off(".daterangepicker"),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1,this.element.trigger("hide.daterangepicker",this))},enterRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},inputsChanged:function(t){var e=i(t.target),s=n(e.val(),this.format);if(s.isValid()){var a,o;"daterangepicker_start"===e.attr("name")?(a=!1!==this.minDate&&s.isBefore(this.minDate)?this.minDate:s,o=this.endDate):(a=this.startDate,o=!1!==this.maxDate&&s.isAfter(this.maxDate)?this.maxDate:s),this.setCustomDates(a,o)}},inputsKeydown:function(t){13===t.keyCode&&(this.inputsChanged(t),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?(this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)),this.element.trigger("change")):this.element.is("input")&&(this.element.val(this.endDate.format(this.format)),this.element.trigger("change"))},clickRange:function(t){var e=t.target.innerHTML;if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(t){var e=i(t.target).parents(".calendar");e.hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){var e=i(t.target).parents(".calendar");e.hasClass("left")?this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(t){var e=i(t.target).attr("data-title"),n=e.substr(1,1),s=e.substr(3,1),a=i(t.target).parents(".calendar");a.hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[n][s].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[n][s].format(this.format))},setCustomDates:function(t,e){if(this.chosenLabel=this.locale.customRangeLabel,t.isAfter(e)){var i=this.endDate.diff(this.startDate);e=n(t).add(i,"ms"),this.maxDate&&e.isAfter(this.maxDate)&&(e=this.maxDate.clone())}this.startDate=t,this.endDate=e,this.updateView(),this.updateCalendars()},clickDate:function(t){var e,s,a=i(t.target).attr("data-title"),o=a.substr(1,1),r=a.substr(3,1),l=i(t.target).parents(".calendar");if(l.hasClass("left")){if(e=this.leftCalendar.calendar[o][r],s=this.endDate,"object"==typeof this.dateLimit){var c=n(e).add(this.dateLimit).startOf("day");s.isAfter(c)&&(s=c)}}else if(e=this.startDate,s=this.rightCalendar.calendar[o][r],"object"==typeof this.dateLimit){
var d=n(s).subtract(this.dateLimit).startOf("day");e.isBefore(d)&&(e=d)}this.singleDatePicker&&l.hasClass("left")?s=e.clone():this.singleDatePicker&&l.hasClass("right")&&(e=s.clone()),l.find("td").removeClass("active"),i(t.target).addClass("active"),this.setCustomDates(e,s),this.timePicker||s.endOf("day"),this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(t){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(t){var e=i(t.target).closest(".calendar").hasClass("left"),n=e?"left":"right",s=this.container.find(".calendar."+n),a=parseInt(s.find(".monthselect").val(),10),o=s.find(".yearselect").val();e||this.singleDatePicker||(o<this.startDate.year()||o==this.startDate.year()&&a<this.startDate.month())&&(a=this.startDate.month(),o=this.startDate.year()),this.minDate&&(o<this.minDate.year()||o==this.minDate.year()&&a<this.minDate.month())&&(a=this.minDate.month(),o=this.minDate.year()),this.maxDate&&(o>this.maxDate.year()||o==this.maxDate.year()&&a>this.maxDate.month())&&(a=this.maxDate.month(),o=this.maxDate.year()),this[n+"Calendar"].month.month(a).year(o),this.updateCalendars()},updateTime:function(t){var e=i(t.target).closest(".calendar"),n=e.hasClass("left"),s=parseInt(e.find(".hourselect").val(),10),a=parseInt(e.find(".minuteselect").val(),10),o=0;if(this.timePickerSeconds&&(o=parseInt(e.find(".secondselect").val(),10)),this.timePicker12Hour){var r=e.find(".ampmselect").val();"PM"===r&&12>s&&(s+=12),"AM"===r&&12===s&&(s=0)}if(n){var l=this.startDate.clone();l.hour(s),l.minute(a),l.second(o),this.startDate=l,this.leftCalendar.month.hour(s).minute(a).second(o),this.singleDatePicker&&(this.endDate=l.clone())}else{var c=this.endDate.clone();c.hour(s),c.minute(a),c.second(o),this.endDate=c,this.singleDatePicker&&(this.startDate=c.clone()),this.rightCalendar.month.hour(s).minute(a).second(o)}this.updateView(),this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),this.leftCalendar.month.second(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),this.rightCalendar.month.second(),"right"),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,"left")),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate,"right")),this.container.find(".ranges li").removeClass("active");var t=!0,e=0;for(var n in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()),e++;t&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},buildCalendar:function(t,e,i,s,a,o){var r,l=n([e,t]).daysInMonth(),c=n([e,t,1]),d=n([e,t,l]),u=n(c).subtract(1,"month").month(),h=n(c).subtract(1,"month").year(),f=n([h,u]).daysInMonth(),p=c.day(),m=[];for(m.firstDay=c,m.lastDay=d,r=0;6>r;r++)m[r]=[];var g=f-p+this.locale.firstDay+1;g>f&&(g-=7),p==this.locale.firstDay&&(g=f-6);var v,y,b=n([h,u,g,12,s,a]).utcOffset(this.timeZone);for(r=0,v=0,y=0;42>r;r++,v++,b=n(b).add(24,"hour"))r>0&&v%7===0&&(v=0,y++),m[y][v]=b.clone().hour(i),b.hour(12),this.minDate&&m[y][v].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&m[y][v].isBefore(this.minDate)&&"left"==o&&(m[y][v]=this.minDate.clone()),this.maxDate&&m[y][v].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&m[y][v].isAfter(this.maxDate)&&"right"==o&&(m[y][v]=this.maxDate.clone());return m},renderDropdowns:function(t,e,n){for(var i=t.month(),s=t.year(),a=n&&n.year()||s+5,o=e&&e.year()||s-50,r='<select class="monthselect">',l=s==o,c=s==a,d=0;12>d;d++)(!l||d>=e.month())&&(!c||d<=n.month())&&(r+="<option value='"+d+"'"+(d===i?" selected='selected'":"")+">"+this.locale.monthNames[d]+"</option>");r+="</select>";for(var u='<select class="yearselect">',h=o;a>=h;h++)u+='<option value="'+h+'"'+(h===s?' selected="selected"':"")+">"+h+"</option>";return u+="</select>",r+u},renderCalendar:function(t,e,n,s,a){var o='<div class="calendar-date">';o+='<table class="table-condensed">',o+="<thead>",o+="<tr>",this.showWeekNumbers&&(o+="<th></th>"),o+=!n||n.isBefore(t.firstDay)?'<th class="prev available"><i class="fa fa-arrow-left icon icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>':"<th></th>";var r=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");this.showDropdowns&&(r=this.renderDropdowns(t[1][1],n,s)),o+='<th colspan="5" class="month">'+r+"</th>",o+=!s||s.isAfter(t.lastDay)?'<th class="next available"><i class="fa fa-arrow-right icon icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':"<th></th>",o+="</tr>",o+="<tr>",this.showWeekNumbers&&(o+='<th class="week">'+this.locale.weekLabel+"</th>"),i.each(this.locale.daysOfWeek,function(t,e){o+="<th>"+e+"</th>"}),o+="</tr>",o+="</thead>",o+="<tbody>";for(var l=0;6>l;l++){o+="<tr>",this.showWeekNumbers&&(o+='<td class="week">'+t[l][0].week()+"</td>");for(var c=0;7>c;c++){var d="available ";d+=t[l][c].month()==t[1][1].month()?"":"off",n&&t[l][c].isBefore(n,"day")||s&&t[l][c].isAfter(s,"day")?d=" off disabled ":t[l][c].format("YYYY-MM-DD")==e.format("YYYY-MM-DD")?(d+=" active ",t[l][c].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(d+=" start-date "),t[l][c].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(d+=" end-date ")):t[l][c]>=this.startDate&&t[l][c]<=this.endDate&&(d+=" in-range ",t[l][c].isSame(this.startDate)&&(d+=" start-date "),t[l][c].isSame(this.endDate)&&(d+=" end-date "));var u="r"+l+"c"+c;o+='<td class="'+d.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+u+'">'+t[l][c].date()+"</td>"}o+="</tr>"}o+="</tbody>",o+="</table>",o+="</div>";var h;if(this.timePicker){o+='<div class="calendar-time">',o+='<select class="hourselect">';var f=0,p=23;n&&("left"==a||this.singleDatePicker)&&e.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&(f=n.hour(),e.hour()<f&&e.hour(f),this.timePicker12Hour&&f>=12&&e.hour()>=12&&(f-=12),this.timePicker12Hour&&12==f&&(f=1)),s&&("right"==a||this.singleDatePicker)&&e.format("YYYY-MM-DD")==s.format("YYYY-MM-DD")&&(p=s.hour(),e.hour()>p&&e.hour(p),this.timePicker12Hour&&p>=12&&e.hour()>=12&&(p-=12));var m=0,g=23,v=e.hour();for(this.timePicker12Hour&&(m=1,g=12,v>=12&&(v-=12),0===v&&(v=12)),h=m;g>=h;h++)o+=h==v?'<option value="'+h+'" selected="selected">'+h+"</option>":f>h||h>p?'<option value="'+h+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+h+'">'+h+"</option>";o+="</select> : ",o+='<select class="minuteselect">';var y=0,b=59;for(n&&("left"==a||this.singleDatePicker)&&e.format("YYYY-MM-DD h A")==n.format("YYYY-MM-DD h A")&&(y=n.minute(),e.minute()<y&&e.minute(y)),s&&("right"==a||this.singleDatePicker)&&e.format("YYYY-MM-DD h A")==s.format("YYYY-MM-DD h A")&&(b=s.minute(),e.minute()>b&&e.minute(b)),h=0;60>h;h+=this.timePickerIncrement){var w=h;10>w&&(w="0"+w),o+=h==e.minute()?'<option value="'+h+'" selected="selected">'+w+"</option>":y>h||h>b?'<option value="'+h+'" disabled="disabled" class="disabled">'+w+"</option>":'<option value="'+h+'">'+w+"</option>"}if(o+="</select> ",this.timePickerSeconds){for(o+=': <select class="secondselect">',h=0;60>h;h+=this.timePickerIncrement){var w=h;10>w&&(w="0"+w),o+=h==e.second()?'<option value="'+h+'" selected="selected">'+w+"</option>":'<option value="'+h+'">'+w+"</option>"}o+="</select>"}if(this.timePicker12Hour){o+='<select class="ampmselect">';var C="",D="";n&&("left"==a||this.singleDatePicker)&&e.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&n.hour()>=12&&(C=' disabled="disabled" class="disabled"'),s&&("right"==a||this.singleDatePicker)&&e.format("YYYY-MM-DD")==s.format("YYYY-MM-DD")&&s.hour()<12&&(D=' disabled="disabled" class="disabled"'),o+=e.hour()>=12?'<option value="AM"'+C+'>AM</option><option value="PM" selected="selected"'+D+">PM</option>":'<option value="AM" selected="selected"'+C+'>AM</option><option value="PM"'+D+">PM</option>",o+="</select>"}o+="</div>"}return o},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},i.fn.daterangepicker=function(t,e){return this.each(function(){var n=i(this);n.data("daterangepicker")&&n.data("daterangepicker").remove(),n.data("daterangepicker",new s(n,t,e))}),this}}),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(t,e){return Et.call(t,e)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function s(t){Ct.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function a(t,e){var n=!0;return p(function(){return n&&(s(t),n=!1),e.apply(this,arguments)},e)}function o(t,e){ye[t]||(s(e),ye[t]=!0)}function r(t,e){return function(n){return v(t.call(this,n),e)}}function l(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}function c(t,e){var n,i,s=12*(e.year()-t.year())+(e.month()-t.month()),a=t.clone().add(s,"months");return 0>e-a?(n=t.clone().add(s-1,"months"),i=(e-a)/(a-n)):(n=t.clone().add(s+1,"months"),i=(e-a)/(n-a)),-(s+i)}function d(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function u(){}function h(t,e){e!==!1&&O(t),m(this,t),this._d=new Date(+t._d),we===!1&&(we=!0,Ct.updateOffset(this),we=!1)}function f(t){var e=T(t),n=e.year||0,i=e.quarter||0,s=e.month||0,a=e.week||0,o=e.day||0,r=e.hour||0,l=e.minute||0,c=e.second||0,d=e.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+36e5*r,this._days=+o+7*a,this._months=+s+3*i+12*n,this._data={},this._locale=Ct.localeData(),this._bubble()}function p(t,e){for(var i in e)n(e,i)&&(t[i]=e[i]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e){var n,i,s;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Ht.length>0)for(n in Ht)i=Ht[n],s=e[i],"undefined"!=typeof s&&(t[i]=s);return t}function g(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t,e,n){for(var i=""+Math.abs(t),s=t>=0;i.length<e;)i="0"+i;return(s?n?"+":"":"-")+i}function y(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function b(t,e){var n;return e=F(e,t),t.isBefore(e)?n=y(t,e):(n=y(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function w(t,e){return function(n,i){var s,a;return null===i||isNaN(+i)||(o(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),a=n,n=i,i=a),n="string"==typeof n?+n:n,s=Ct.duration(n,i),C(this,s,t),this}}function C(t,e,n,i){var s=e._milliseconds,a=e._days,o=e._months;i=null==i?!0:i,s&&t._d.setTime(+t._d+s*n),a&&mt(t,"Date",pt(t,"Date")+a*n),o&&ft(t,pt(t,"Month")+o*n),i&&Ct.updateOffset(t,a||o)}function D(t){return"[object Array]"===Object.prototype.toString.call(t)}function S(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function x(t,e,n){var i,s=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(i=0;s>i;i++)(n&&t[i]!==e[i]||!n&&k(t[i])!==k(e[i]))&&o++;return o+a}function _(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ue[t]||he[e]||e}return t}function T(t){var e,i,s={};for(i in t)n(t,i)&&(e=_(i),e&&(s[e]=t[i]));return s}function E(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}Ct[e]=function(s,a){var o,r,l=Ct._locale[e],c=[];if("number"==typeof s&&(a=s,s=t),r=function(t){var e=Ct().utc().set(i,t);return l.call(Ct._locale,e,s||"")},null!=a)return r(a);for(o=0;n>o;o++)c.push(r(o));return c}}function k(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function N(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function M(t,e,n){return ct(Ct([t,11,31+e-n]),e,n).week}function R(t){return A(t)?366:365}function A(t){return t%4===0&&t%100!==0||t%400===0}function O(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[Nt]<0||t._a[Nt]>11?Nt:t._a[Mt]<1||t._a[Mt]>N(t._a[kt],t._a[Nt])?Mt:t._a[Rt]<0||t._a[Rt]>24||24===t._a[Rt]&&(0!==t._a[At]||0!==t._a[Ot]||0!==t._a[It])?Rt:t._a[At]<0||t._a[At]>59?At:t._a[Ot]<0||t._a[Ot]>59?Ot:t._a[It]<0||t._a[It]>999?It:-1,t._pf._overflowDayOfYear&&(kt>e||e>Mt)&&(e=Mt),t._pf.overflow=e)}function I(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function L(t){return t?t.toLowerCase().replace("_","-"):t}function H(t){for(var e,n,i,s,a=0;a<t.length;){for(s=L(t[a]).split("-"),e=s.length,n=L(t[a+1]),n=n?n.split("-"):null;e>0;){if(i=P(s.slice(0,e).join("-")))return i;if(n&&n.length>=e&&x(s,n,!0)>=e-1)break;e--}a++}return null}function P(t){var e=null;if(!Lt[t]&&Pt)try{e=Ct.locale(),require("./locale/"+t),Ct.locale(e)}catch(n){}return Lt[t]}function F(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(Ct.isMoment(t)||S(t)?+t:+Ct(t))-+n,n._d.setTime(+n._d+i),Ct.updateOffset(n,!1),n):Ct(t).local()}function Y(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function $(t){var e,n,i=t.match(Ut);for(e=0,n=i.length;n>e;e++)i[e]=ve[i[e]]?ve[i[e]]:Y(i[e]);return function(s){var a="";for(e=0;n>e;e++)a+=i[e]instanceof Function?i[e].call(s,t):i[e];return a}}function U(t,e){return t.isValid()?(e=B(e,t.localeData()),fe[e]||(fe[e]=$(e)),fe[e](t)):t.localeData().invalidDate()}function B(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Bt.lastIndex=0;i>=0&&Bt.test(t);)t=t.replace(Bt,n),Bt.lastIndex=0,i-=1;return t}function W(t,e){var n,i=e._strict;switch(t){case"Q":return Qt;case"DDDD":return ee;case"YYYY":case"GGGG":case"gggg":return i?ne:zt;case"Y":case"G":case"g":return se;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?ie:Vt;case"S":if(i)return Qt;case"SS":if(i)return te;case"SSS":if(i)return ee;case"DDD":return jt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return qt;case"a":case"A":return e._locale._meridiemParse;case"x":return Xt;case"X":return Jt;case"Z":case"ZZ":return Kt;case"T":return Zt;case"SSSS":return Gt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?te:Wt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Wt;case"Do":return i?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return n=new RegExp(J(X(t.replace("\\","")),"i"))}}function j(t){t=t||"";var e=t.match(Kt)||[],n=e[e.length-1]||[],i=(n+"").match(ce)||["-",0,0],s=+(60*i[1])+k(i[2]);return"+"===i[0]?s:-s}function z(t,e,n){var i,s=n._a;switch(t){case"Q":null!=e&&(s[Nt]=3*(k(e)-1));break;case"M":case"MM":null!=e&&(s[Nt]=k(e)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(e,t,n._strict),null!=i?s[Nt]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(s[Mt]=k(e));break;case"Do":null!=e&&(s[Mt]=k(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=k(e));break;case"YY":s[kt]=Ct.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":s[kt]=k(e);break;case"a":case"A":n._meridiem=e;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":s[Rt]=k(e);break;case"m":case"mm":s[At]=k(e);break;case"s":case"ss":s[Ot]=k(e);break;case"S":case"SS":case"SSS":case"SSSS":s[It]=k(1e3*("0."+e));break;case"x":n._d=new Date(k(e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=j(e);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(e),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=k(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=Ct.parseTwoDigitYear(e)}}function V(t){var n,i,s,a,o,r,l;n=t._w,null!=n.GG||null!=n.W||null!=n.E?(o=1,r=4,i=e(n.GG,t._a[kt],ct(Ct(),1,4).year),s=e(n.W,1),a=e(n.E,1)):(o=t._locale._week.dow,r=t._locale._week.doy,i=e(n.gg,t._a[kt],ct(Ct(),o,r).year),s=e(n.w,1),null!=n.d?(a=n.d,o>a&&++s):a=null!=n.e?n.e+o:o),l=dt(i,s,a,r,o),t._a[kt]=l.year,t._dayOfYear=l.dayOfYear}function G(t){var n,i,s,a,o=[];if(!t._d){for(s=K(t),t._w&&null==t._a[Mt]&&null==t._a[Nt]&&V(t),t._dayOfYear&&(a=e(t._a[kt],s[kt]),t._dayOfYear>R(a)&&(t._pf._overflowDayOfYear=!0),i=at(a,0,t._dayOfYear),t._a[Nt]=i.getUTCMonth(),t._a[Mt]=i.getUTCDate()),n=0;3>n&&null==t._a[n];++n)t._a[n]=o[n]=s[n];for(;7>n;n++)t._a[n]=o[n]=null==t._a[n]?2===n?1:0:t._a[n];24===t._a[Rt]&&0===t._a[At]&&0===t._a[Ot]&&0===t._a[It]&&(t._nextDay=!0,t._a[Rt]=0),t._d=(t._useUTC?at:st).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Rt]=24)}}function q(t){var e;t._d||(e=T(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],G(t))}function K(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Z(e){if(e._f===Ct.ISO_8601)return void tt(e);e._a=[],e._pf.empty=!0;var n,i,s,a,o,r=""+e._i,l=r.length,c=0;for(s=B(e._f,e._locale).match(Ut)||[],n=0;n<s.length;n++)a=s[n],i=(r.match(W(a,e))||[])[0],i&&(o=r.substr(0,r.indexOf(i)),o.length>0&&e._pf.unusedInput.push(o),r=r.slice(r.indexOf(i)+i.length),c+=i.length),ve[a]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(a),z(a,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(a);e._pf.charsLeftOver=l-c,r.length>0&&e._pf.unusedInput.push(r),e._pf.bigHour===!0&&e._a[Rt]<=12&&(e._pf.bigHour=t),e._a[Rt]=d(e._locale,e._a[Rt],e._meridiem),G(e),O(e)}function X(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,s){return e||n||i||s})}function J(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(t){var e,n,s,a,o;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(0/0));for(a=0;a<t._f.length;a++)o=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=i(),e._f=t._f[a],Z(e),I(e)&&(o+=e._pf.charsLeftOver,o+=10*e._pf.unusedTokens.length,e._pf.score=o,(null==s||s>o)&&(s=o,n=e));p(t,n||e)}function tt(t){var e,n,i=t._i,s=ae.exec(i);if(s){for(t._pf.iso=!0,e=0,n=re.length;n>e;e++)if(re[e][1].exec(i)){t._f=re[e][0]+(s[6]||" ");break}for(e=0,n=le.length;n>e;e++)if(le[e][1].exec(i)){t._f+=le[e][0];break}i.match(Kt)&&(t._f+="Z"),Z(t)}else t._isValid=!1}function et(t){tt(t),t._isValid===!1&&(delete t._isValid,Ct.createFromInputFallback(t))}function nt(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function it(e){var n,i=e._i;i===t?e._d=new Date:S(i)?e._d=new Date(+i):null!==(n=Ft.exec(i))?e._d=new Date(+n[1]):"string"==typeof i?et(e):D(i)?(e._a=nt(i.slice(0),function(t){return parseInt(t,10)}),G(e)):"object"==typeof i?q(e):"number"==typeof i?e._d=new Date(i):Ct.createFromInputFallback(e)}function st(t,e,n,i,s,a,o){var r=new Date(t,e,n,i,s,a,o);return 1970>t&&r.setFullYear(t),r}function at(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function ot(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function rt(t,e,n,i,s){return s.relativeTime(e||1,!!n,t,i)}function lt(t,e,n){var i=Ct.duration(t).abs(),s=Tt(i.as("s")),a=Tt(i.as("m")),o=Tt(i.as("h")),r=Tt(i.as("d")),l=Tt(i.as("M")),c=Tt(i.as("y")),d=s<pe.s&&["s",s]||1===a&&["m"]||a<pe.m&&["mm",a]||1===o&&["h"]||o<pe.h&&["hh",o]||1===r&&["d"]||r<pe.d&&["dd",r]||1===l&&["M"]||l<pe.M&&["MM",l]||1===c&&["y"]||["yy",c];return d[2]=e,d[3]=+t>0,d[4]=n,rt.apply({},d)}function ct(t,e,n){var i,s=n-e,a=n-t.day();return a>s&&(a-=7),s-7>a&&(a+=7),i=Ct(t).add(a,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function dt(t,e,n,i,s){var a,o,r=at(t,0,1).getUTCDay();return r=0===r?7:r,n=null!=n?n:s,a=s-r+(r>i?7:0)-(s>r?7:0),o=7*(e-1)+(n-s)+a+1,{year:o>0?t:t-1,dayOfYear:o>0?o:R(t-1)+o}}function ut(e){var n,i=e._i,s=e._f;return e._locale=e._locale||Ct.localeData(e._l),null===i||s===t&&""===i?Ct.invalid({nullInput:!0}):("string"==typeof i&&(e._i=i=e._locale.preparse(i)),Ct.isMoment(i)?new h(i,!0):(s?D(s)?Q(e):Z(e):it(e),n=new h(e),n._nextDay&&(n.add(1,"d"),n._nextDay=t),n))}function ht(t,e){var n,i;if(1===e.length&&D(e[0])&&(e=e[0]),!e.length)return Ct();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function ft(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),N(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function pt(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function mt(t,e,n){return"Month"===e?ft(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function gt(t,e){return function(n){return null!=n?(mt(this,t,n),Ct.updateOffset(this,e),this):pt(this,t)}}function vt(t){return 400*t/146097}function yt(t){return 146097*t/400}function bt(t){Ct.duration.fn[t]=function(){return this._data[t]}}function wt(t){"undefined"==typeof ender&&(Dt=_t.moment,_t.moment=t?a("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",Ct):Ct)}for(var Ct,Dt,St,xt="2.9.0",_t="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Tt=Math.round,Et=Object.prototype.hasOwnProperty,kt=0,Nt=1,Mt=2,Rt=3,At=4,Ot=5,It=6,Lt={},Ht=[],Pt="undefined"!=typeof module&&module&&module.exports,Ft=/^\/?Date\((\-?\d+)/i,Yt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,$t=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ut=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Bt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wt=/\d\d?/,jt=/\d{1,3}/,zt=/\d{1,4}/,Vt=/[+\-]?\d{1,6}/,Gt=/\d+/,qt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Kt=/Z|[\+\-]\d\d:?\d\d/gi,Zt=/T/i,Xt=/[\+\-]?\d+/,Jt=/[\+\-]?\d+(\.\d{1,3})?/,Qt=/\d/,te=/\d\d/,ee=/\d{3}/,ne=/\d{4}/,ie=/[+-]?\d{6}/,se=/[+-]?\d+/,ae=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oe="YYYY-MM-DDTHH:mm:ssZ",re=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],le=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ce=/([\+\-]|\d\d)/gi,de=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ue={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},he={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},fe={},pe={s:45,m:45,h:22,d:26,M:11},me="DDD w W M D d".split(" "),ge="M D H h m s w W".split(" "),ve={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+v(Math.abs(t),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return k(this.milliseconds()/100)},SS:function(){return v(k(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v(k(t/60),2)+":"+v(k(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v(k(t/60),2)+v(k(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ye={},be=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],we=!1;me.length;)St=me.pop(),ve[St+"o"]=l(ve[St],St);for(;ge.length;)St=ge.pop(),ve[St+St]=r(ve[St],2);ve.DDDD=r(ve.DDD,3),p(u.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,n){var i,s,a;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(s=Ct.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=Ct([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.apply(e,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var s=this._relativeTime[n];return"function"==typeof s?s(t,e,n,i):s.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return ct(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),Ct=function(e,n,s,a){var o;return"boolean"==typeof s&&(a=s,s=t),o={},o._isAMomentObject=!0,o._i=e,o._f=n,o._l=s,o._strict=a,o._isUTC=!1,o._pf=i(),ut(o)},Ct.suppressDeprecationWarnings=!1,Ct.createFromInputFallback=a("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),Ct.min=function(){var t=[].slice.call(arguments,0);return ht("isBefore",t)},Ct.max=function(){var t=[].slice.call(arguments,0);return ht("isAfter",t)},Ct.utc=function(e,n,s,a){var o;return"boolean"==typeof s&&(a=s,s=t),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=s,o._i=e,o._f=n,o._strict=a,o._pf=i(),ut(o).utc()},Ct.unix=function(t){return Ct(1e3*t)},Ct.duration=function(t,e){var i,s,a,o,r=t,l=null;return Ct.isDuration(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(l=Yt.exec(t))?(i="-"===l[1]?-1:1,r={y:0,d:k(l[Mt])*i,h:k(l[Rt])*i,m:k(l[At])*i,s:k(l[Ot])*i,ms:k(l[It])*i}):(l=$t.exec(t))?(i="-"===l[1]?-1:1,a=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i},r={y:a(l[2]),M:a(l[3]),d:a(l[4]),h:a(l[5]),m:a(l[6]),s:a(l[7]),w:a(l[8])}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=b(Ct(r.from),Ct(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),s=new f(r),Ct.isDuration(t)&&n(t,"_locale")&&(s._locale=t._locale),s},Ct.version=xt,Ct.defaultFormat=oe,Ct.ISO_8601=function(){},
Ct.momentProperties=Ht,Ct.updateOffset=function(){},Ct.relativeTimeThreshold=function(e,n){return pe[e]===t?!1:n===t?pe[e]:(pe[e]=n,!0)},Ct.lang=a("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return Ct.locale(t,e)}),Ct.locale=function(t,e){var n;return t&&(n="undefined"!=typeof e?Ct.defineLocale(t,e):Ct.localeData(t),n&&(Ct.duration._locale=Ct._locale=n)),Ct._locale._abbr},Ct.defineLocale=function(t,e){return null!==e?(e.abbr=t,Lt[t]||(Lt[t]=new u),Lt[t].set(e),Ct.locale(t),Lt[t]):(delete Lt[t],null)},Ct.langData=a("moment.langData is deprecated. Use moment.localeData instead.",function(t){return Ct.localeData(t)}),Ct.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ct._locale;if(!D(t)){if(e=P(t))return e;t=[t]}return H(t)},Ct.isMoment=function(t){return t instanceof h||null!=t&&n(t,"_isAMomentObject")},Ct.isDuration=function(t){return t instanceof f};for(St=be.length-1;St>=0;--St)E(be[St]);Ct.normalizeUnits=function(t){return _(t)},Ct.invalid=function(t){var e=Ct.utc(0/0);return null!=t?p(e._pf,t):e._pf.userInvalidated=!0,e},Ct.parseZone=function(){return Ct.apply(null,arguments).parseZone()},Ct.parseTwoDigitYear=function(t){return k(t)+(k(t)>68?1900:2e3)},Ct.isDate=S,p(Ct.fn=h.prototype,{clone:function(){return Ct(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=Ct(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():U(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):U(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return I(this)},isDSTShifted:function(){return this._a?this.isValid()&&x(this._a,(this._isUTC?Ct.utc(this._a):Ct(this._a)).toArray())>0:!1},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=U(this,t||Ct.defaultFormat);return this.localeData().postformat(e)},add:w(1,"add"),subtract:w(-1,"subtract"),diff:function(t,e,n){var i,s,a=F(t,this),o=6e4*(a.utcOffset()-this.utcOffset());return e=_(e),"year"===e||"month"===e||"quarter"===e?(s=c(this,a),"quarter"===e?s/=3:"year"===e&&(s/=12)):(i=this-a,s="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-o)/864e5:"week"===e?(i-o)/6048e5:i),n?s:g(s)},from:function(t,e){return Ct.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(Ct(),t)},calendar:function(t){var e=t||Ct(),n=F(e,this).startOf("day"),i=this.diff(n,"days",!0),s=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(s,this,Ct(e)))},isLeapYear:function(){return A(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=ot(t,this.localeData()),this.add(t-e,"d")):e},month:gt("Month",!0),startOf:function(t){switch(t=_(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=_(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){var n;return e=_("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=Ct.isMoment(t)?t:Ct(t),+this>+t):(n=Ct.isMoment(t)?+t:+Ct(t),n<+this.clone().startOf(e))},isBefore:function(t,e){var n;return e=_("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=Ct.isMoment(t)?t:Ct(t),+t>+this):(n=Ct.isMoment(t)?+t:+Ct(t),+this.clone().endOf(e)<n)},isBetween:function(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)},isSame:function(t,e){var n;return e=_(e||"millisecond"),"millisecond"===e?(t=Ct.isMoment(t)?t:Ct(t),+this===+t):(n=+Ct(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},min:a("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=Ct.apply(null,arguments),this>t?this:t}),max:a("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=Ct.apply(null,arguments),t>this?this:t}),zone:a("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var n,i=this._offset||0;return null!=t?("string"==typeof t&&(t=j(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(n=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?C(this,Ct.duration(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ct.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(j(this._i)),this},hasAlignedHourOffset:function(t){return t=t?Ct(t).utcOffset():0,(this.utcOffset()-t)%60===0},daysInMonth:function(){return N(this.year(),this.month())},dayOfYear:function(t){var e=Tt((Ct(this).startOf("day")-Ct(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=ct(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=ct(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=ct(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return M(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return M(this.year(),t.dow,t.doy)},get:function(t){return t=_(t),this[t]()},set:function(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else t=_(t),"function"==typeof this[t]&&this[t](e);return this},locale:function(e){var n;return e===t?this._locale._abbr:(n=Ct.localeData(e),null!=n&&(this._locale=n),this)},lang:a("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),Ct.fn.millisecond=Ct.fn.milliseconds=gt("Milliseconds",!1),Ct.fn.second=Ct.fn.seconds=gt("Seconds",!1),Ct.fn.minute=Ct.fn.minutes=gt("Minutes",!1),Ct.fn.hour=Ct.fn.hours=gt("Hours",!0),Ct.fn.date=gt("Date",!0),Ct.fn.dates=a("dates accessor is deprecated. Use date instead.",gt("Date",!0)),Ct.fn.year=gt("FullYear",!0),Ct.fn.years=a("years accessor is deprecated. Use year instead.",gt("FullYear",!0)),Ct.fn.days=Ct.fn.day,Ct.fn.months=Ct.fn.month,Ct.fn.weeks=Ct.fn.week,Ct.fn.isoWeeks=Ct.fn.isoWeek,Ct.fn.quarters=Ct.fn.quarter,Ct.fn.toJSON=Ct.fn.toISOString,Ct.fn.isUTC=Ct.fn.isUtc,p(Ct.duration.fn=f.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,s=this._days,a=this._months,o=this._data,r=0;o.milliseconds=i%1e3,t=g(i/1e3),o.seconds=t%60,e=g(t/60),o.minutes=e%60,n=g(e/60),o.hours=n%24,s+=g(n/24),r=g(vt(s)),s-=g(yt(r)),a+=g(s/30),s%=30,r+=g(a/12),a%=12,o.days=s,o.months=a,o.years=r},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12)},humanize:function(t){var e=lt(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=Ct.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=Ct.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=_(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if(t=_(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*vt(e),"month"===t?n:n/12;switch(e=this._days+Math.round(yt(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:Ct.fn.lang,locale:Ct.fn.locale,toIsoString:a("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),s=Math.abs(this.minutes()),a=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||s||a?"T":"")+(i?i+"H":"")+(s?s+"M":"")+(a?a+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),Ct.duration.fn.toString=Ct.duration.fn.toISOString;for(St in de)n(de,St)&&bt(St.toLowerCase());Ct.duration.fn.asMilliseconds=function(){return this.as("ms")},Ct.duration.fn.asSeconds=function(){return this.as("s")},Ct.duration.fn.asMinutes=function(){return this.as("m")},Ct.duration.fn.asHours=function(){return this.as("h")},Ct.duration.fn.asDays=function(){return this.as("d")},Ct.duration.fn.asWeeks=function(){return this.as("weeks")},Ct.duration.fn.asMonths=function(){return this.as("M")},Ct.duration.fn.asYears=function(){return this.as("y")},Ct.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===k(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),Pt?module.exports=Ct:"function"==typeof define&&define.amd?(define(function(t,e,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(_t.moment=Dt),Ct}),wt(!0)):wt()}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):t(jQuery,moment)}(function(t,e){function n(t){i(wt,t)}function i(e){function n(n,a){t.isPlainObject(a)&&t.isPlainObject(e[n])&&!s(n)?e[n]=i({},e[n],a):void 0!==a&&(e[n]=a)}for(var a=1;arguments.length>a;a++)t.each(arguments[a],n);return e}function s(t){return/(Time|Duration)$/.test(t)}function a(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function o(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function r(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function l(){t("body").addClass("fc-not-allowed")}function c(){t("body").removeClass("fc-not-allowed")}function d(e,n,i){var s=Math.floor(n/e.length),a=Math.floor(n-s*(e.length-1)),o=[],r=[],l=[],c=0;u(e),e.each(function(n,i){var d=n===e.length-1?a:s,u=t(i).outerHeight(!0);d>u?(o.push(i),r.push(u),l.push(t(i).height())):c+=u}),i&&(n-=c,s=Math.floor(n/o.length),a=Math.floor(n-s*(o.length-1))),t(o).each(function(e,n){var i=e===o.length-1?a:s,c=r[e],d=l[e],u=i-(c-d);i>c&&t(n).height(u)})}function u(t){t.height("")}function h(e){var n=0;return e.find("> *").each(function(e,i){var s=t(i).outerWidth();s>n&&(n=s)}),n++,e.width(n),n}function f(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight?!0:(p(t),!1)}function p(t){t.height("").removeClass("fc-scroller")}function m(e){var n=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function g(t){var e=t.offset().left,n=e+t.width(),i=t.children(),s=i.offset().left,a=s+i.outerWidth();return{left:s-e,right:n-a}}function v(t){return 1==t.which&&!t.ctrlKey}function y(t,e){var n,i,s,a,o=t.start,r=t.end,l=e.start,c=e.end;return r>l&&c>o?(o>=l?(n=o.clone(),s=!0):(n=l.clone(),s=!1),c>=r?(i=r.clone(),a=!0):(i=c.clone(),a=!1),{start:n,end:i,isStart:s,isEnd:a}):void 0}function b(t,e){if(t=t||{},void 0!==t[e])return t[e];for(var n,i=e.split(/(?=[A-Z])/),s=i.length-1;s>=0;s--)if(n=t[i[s].toLowerCase()],void 0!==n)return n;return t["default"]}function w(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function C(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days")})}function D(t,e){var n,i;for(n=0;At.length>n&&(i=At[n],!S(i,t,e));n++);return i}function S(t,n,i){var s;return s=null!=i?i.diff(n,t,!0):e.isDuration(n)?n.as(t):n.end.diff(n.start,t,!0),s>=1&&H(s)?s:!1}function x(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function _(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function T(t){var e=function(){};return e.prototype=t,new e}function E(t,e){for(var n in t)k(t,n)&&(e[n]=t[n])}function k(t,e){return Ot.call(t,e)}function N(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function M(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var s,a;for(s=0;e.length>s;s++)a=e[s].apply(n,i)||a;return a}}function R(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t]}function A(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function O(t){return t.replace(/&.*?;/g,"")}function I(t){return t.charAt(0).toUpperCase()+t.slice(1)}function L(t,e){return t-e}function H(t){return 0===t%1}function P(t,e){var n,i,s,a,o=function(){var r=+new Date-a;e>r&&r>0?n=setTimeout(o,e-r):(n=null,t.apply(s,i),n||(s=i=null))};return function(){s=this,i=arguments,a=+new Date,n||(n=setTimeout(o,e))}}function F(n,i,s){var a,o,r,l,c=n[0],d=1==n.length&&"string"==typeof c;return e.isMoment(c)?(l=e.apply(null,n),$(c,l)):x(c)||void 0===c?l=e.apply(null,n):(a=!1,o=!1,d?It.test(c)?(c+="-01",n=[c],a=!0,o=!0):(r=Lt.exec(c))&&(a=!r[5],o=!0):t.isArray(c)&&(o=!0),l=i||a?e.utc.apply(e,n):e.apply(null,n),a?(l._ambigTime=!0,l._ambigZone=!0):s&&(o?l._ambigZone=!0:d&&l.zone(c))),l._fullCalendar=!0,l}function Y(t,n){var i,s,a=!1,o=!1,r=t.length,l=[];for(i=0;r>i;i++)s=t[i],e.isMoment(s)||(s=St.moment.parseZone(s)),a=a||s._ambigTime,o=o||s._ambigZone,l.push(s);for(i=0;r>i;i++)s=l[i],n||!a||s._ambigTime?o&&!s._ambigZone&&(l[i]=s.clone().stripZone()):l[i]=s.clone().stripTime();return l}function $(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function U(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function B(t,e){return Pt.format.call(t,e)}function W(t,e){return j(t,K(e))}function j(t,e){var n,i="";for(n=0;e.length>n;n++)i+=z(t,e[n]);return i}function z(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?Ft[n]?Ft[n](t):B(t,n):e.maybe&&(i=j(t,e.maybe),i.match(/[1-9]/))?i:""}function V(t,e,n,i,s){var a;return t=St.moment.parseZone(t),e=St.moment.parseZone(e),a=(t.localeData||t.lang).call(t),n=a.longDateFormat(n)||n,i=i||" - ",G(t,e,K(n),i,s)}function G(t,e,n,i,s){var a,o,r,l,c="",d="",u="",h="",f="";for(o=0;n.length>o&&(a=q(t,e,n[o]),a!==!1);o++)c+=a;for(r=n.length-1;r>o&&(a=q(t,e,n[r]),a!==!1);r--)d=a+d;for(l=o;r>=l;l++)u+=z(t,n[l]),h+=z(e,n[l]);return(u||h)&&(f=s?h+i+u:u+i+h),c+f+d}function q(t,e,n){var i,s;return"string"==typeof n?n:(i=n.token)&&(s=Yt[i.charAt(0)],s&&t.isSame(e,s))?B(t,i):!1}function K(t){return t in $t?$t[t]:$t[t]=Z(t)}function Z(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push(e[1]):e[2]?n.push({maybe:Z(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5]);return n}function X(){}function J(t,e){return t||e?t&&e?t.grid===e.grid&&t.row===e.row&&t.col===e.col:!1:!0}function Q(t){var e=et(t);return"background"===e||"inverse-background"===e}function tt(t){return"inverse-background"===et(t)}function et(t){return R((t.source||{}).rendering,t.rendering)}function nt(t){var e,n,i={};for(e=0;t.length>e;e++)n=t[e],(i[n._id]||(i[n._id]=[])).push(n);return i}function it(t,e){return t.eventStartMS-e.eventStartMS}function st(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||(t.event.title||"").localeCompare(e.event.title)}function at(n){var i,s,a,o,r=St.dataAttrPrefix;return r&&(r+="-"),i=n.data(r+"event")||null,i&&(i="object"==typeof i?t.extend({},i):{},s=i.start,null==s&&(s=i.time),a=i.duration,o=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==s&&(s=n.data(r+"start")),null==s&&(s=n.data(r+"time")),null==a&&(a=n.data(r+"duration")),null==o&&(o=n.data(r+"stick")),s=null!=s?e.duration(s):null,a=null!=a?e.duration(a):null,o=Boolean(o),{eventProps:i,startTime:s,duration:a,stick:o}}function ot(t,e){var n,i;for(n=0;e.length>n;n++)if(i=e[n],i.leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function rt(t,e){return t.leftCol-e.leftCol}function lt(t){var e,n,i;if(t.sort(st),e=ct(t),dt(e),n=e[0]){for(i=0;n.length>i;i++)ut(n[i]);for(i=0;n.length>i;i++)ht(n[i],0,0)}}function ct(t){var e,n,i,s=[];for(e=0;t.length>e;e++){for(n=t[e],i=0;s.length>i&&ft(n,s[i]).length;i++);n.level=i,(s[i]||(s[i]=[])).push(n)}return s}function dt(t){var e,n,i,s,a;for(e=0;t.length>e;e++)for(n=t[e],i=0;n.length>i;i++)for(s=n[i],s.forwardSegs=[],a=e+1;t.length>a;a++)ft(s,t[a],s.forwardSegs)}function ut(t){var e,n,i=t.forwardSegs,s=0;if(void 0===t.forwardPressure){for(e=0;i.length>e;e++)n=i[e],ut(n),s=Math.max(s,1+n.forwardPressure);t.forwardPressure=s}}function ht(t,e,n){var i,s=t.forwardSegs;if(void 0===t.forwardCoord)for(s.length?(s.sort(mt),ht(s[0],e+1,n),t.forwardCoord=s[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;s.length>i;i++)ht(s[i],0,t.forwardCoord)}function ft(t,e,n){n=n||[];for(var i=0;e.length>i;i++)pt(t,e[i])&&n.push(e[i]);return n}function pt(t,e){return t.bottom>e.top&&t.top<e.bottom}function mt(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||st(t,e)}function gt(n,s){function o(t){return(t.locale||t.lang).call(t,tt.lang).humanize()}function r(t){at?d()&&(y(),h(t)):l()}function l(){ot=tt.theme?"ui":"fc",n.addClass("fc"),n.addClass(tt.isRTL?"fc-rtl":"fc-ltr"),n.addClass(tt.theme?"ui-widget":"fc-unthemed"),at=t("<div class='fc-view-container'/>").prependTo(n),it=new vt(J,tt),st=it.render(),st&&n.prepend(st),u(tt.defaultView),tt.handleWindowResize&&(ct=P(w,tt.windowResizeDelay),t(window).resize(ct))}function c(){rt&&rt.destroyView(),it.destroy(),at.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),t(window).unbind("resize",ct)}function d(){return n.is(":visible")}function u(t){h(0,t)}function h(e,n){mt++,rt&&n&&rt.type!==n&&(it.deactivateButton(rt.type),V(),rt.start&&rt.destroyView(),rt.el.remove(),rt=null),!rt&&n&&(rt=f(n),rt.el=t("<div class='fc-view fc-"+n+"-view' />").appendTo(at),it.activateButton(n)),rt&&(0>e?dt=rt.computePrevDate(dt):e>0&&(dt=rt.computeNextDate(dt)),rt.start&&!e&&dt.isWithin(rt.intervalStart,rt.intervalEnd)||d()&&(V(),rt.start&&rt.destroyView(),rt.setDate(dt),rt.renderView(),G(),R(),A(),E())),G(),mt--}function f(t){var e=p(t);return new e["class"](J,e.options,t)}function p(n){function i(e){"function"==typeof e?a=e:"object"==typeof e&&t.extend(s,e)}var s,a,r,l,c,d=tt.defaultButtonText||{},u=tt.buttonText||{},h=tt.views||{},f=n,p=[],m=!1;if(pt[n])return pt[n];for(;f&&!a;)s={},i(xt[f]),i(h[f]),p.unshift(s),f=s.type;return p.unshift({}),s=t.extend.apply(t,p),a?(r=s.duration||a.duration,r&&(r=e.duration(r),l=D(r),m=1===S(l,r)),m&&h[l]&&(s=t.extend({},h[l],s)),c=u[n]||(m?u[l]:null)||d[n]||(m?d[l]:null)||s.buttonText||a.buttonText||(r?o(r):null)||n,pt[n]={"class":a,options:s,buttonText:c}):void 0}function m(t){return Boolean(p(t))}function g(t){var e=p(t);return e?e.buttonText:void 0}function v(t){return d()?(t&&b(),mt++,rt.updateSize(!0),mt--,!0):void 0}function y(){d()&&b()}function b(){lt="number"==typeof tt.contentHeight?tt.contentHeight:"number"==typeof tt.height?tt.height-(st?st.outerHeight(!0):0):Math.round(at.width()/Math.max(tt.aspectRatio,.5))}function w(t){!mt&&t.target===window&&rt.start&&v(!0)&&rt.trigger("windowResize",ft)}function C(){_(),k()}function x(){d()&&(V(),rt.destroyViewEvents(),rt.renderViewEvents(gt),G())}function _(){V(),rt.destroyViewEvents(),G()}function E(){!tt.lazyFetching||ut(rt.start,rt.end)?k():x()}function k(){ht(rt.start,rt.end)}function N(t){gt=t,x()}function M(){x()}function R(){it.updateTitle(rt.computeTitle())}function A(){var t=J.getNow();t.isWithin(rt.intervalStart,rt.intervalEnd)?it.disableButton("today"):it.enableButton("today")}function O(t,e){t=J.moment(t),e=e?J.moment(e):t.clone().add(t.hasTime()?J.defaultTimedEventDuration:J.defaultAllDayEventDuration),rt.select({start:t,end:e})}function L(){rt&&rt.unselect()}function H(){h(-1)}function F(){h(1)}function Y(){dt.add(-1,"years"),h()}function $(){dt.add(1,"years"),h()}function U(){dt=J.getNow(),h()}function B(t){dt=J.moment(t),h()}function W(t){dt.add(e.duration(t)),h()}function j(t,e){var n,i;e&&m(e)||(e=e||"day",n=it.getViewsWithButtons().join(" "),i=n.match(RegExp("\\w+"+I(e))),i||(i=n.match(/\w+Day/)),e=i?i[0]:"agendaDay"),dt=t,u(e)}function z(){return dt.clone()}function V(){at.css({width:"100%",height:at.height(),overflow:"hidden"})}function G(){at.css({width:"",height:"",overflow:""})}function q(){return J}function K(){return rt}function Z(t,e){return void 0===e?tt[t]:void(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(tt[t]=e,v(!0)))}function X(t,e){return tt[t]?tt[t].apply(e||ft,Array.prototype.slice.call(arguments,2)):void 0}var J=this;s=s||{};var Q,tt=i({},wt,s);Q=tt.lang in _t?_t[tt.lang]:_t[wt.lang],Q&&(tt=i({},wt,Q,s)),tt.isRTL&&(tt=i({},wt,Dt,Q||{},s)),J.options=tt,J.render=r,J.destroy=c,J.refetchEvents=C,J.reportEvents=N,J.reportEventChange=M,J.rerenderEvents=x,J.changeView=u,J.select=O,J.unselect=L,J.prev=H,J.next=F,J.prevYear=Y,J.nextYear=$,J.today=U,J.gotoDate=B,J.incrementDate=W,J.zoomTo=j,J.getDate=z,J.getCalendar=q,J.getView=K,J.option=Z,J.trigger=X,J.isValidViewType=m,J.getViewButtonText=g;var et=T(a(tt.lang));if(tt.monthNames&&(et._months=tt.monthNames),tt.monthNamesShort&&(et._monthsShort=tt.monthNamesShort),tt.dayNames&&(et._weekdays=tt.dayNames),tt.dayNamesShort&&(et._weekdaysShort=tt.dayNamesShort),null!=tt.firstDay){var nt=T(et._week);nt.dow=tt.firstDay,et._week=nt}J.defaultAllDayEventDuration=e.duration(tt.defaultAllDayEventDuration),J.defaultTimedEventDuration=e.duration(tt.defaultTimedEventDuration),J.moment=function(){var t;return"local"===tt.timezone?(t=St.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===tt.timezone?St.moment.utc.apply(null,arguments):St.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=et:t._lang=et,t},J.getIsAmbigTimezone=function(){return"local"!==tt.timezone&&"UTC"!==tt.timezone},J.rezoneDate=function(t){return J.moment(t.toArray())},J.getNow=function(){var t=tt.now;return"function"==typeof t&&(t=t()),J.moment(t)},J.calculateWeekNumber=function(t){var e=tt.weekNumberCalculation;return"function"==typeof e?e(t):"local"===e?t.week():"ISO"===e.toUpperCase()?t.isoWeek():void 0},J.getEventEnd=function(t){return t.end?t.end.clone():J.getDefaultEventEnd(t.allDay,t.start)},J.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(J.defaultAllDayEventDuration):n.add(J.defaultTimedEventDuration),J.getIsAmbigTimezone()&&n.stripZone(),n},yt.call(J,tt);var it,st,at,ot,rt,lt,ct,dt,ut=J.isFetchNeeded,ht=J.fetchEvents,ft=n[0],pt={},mt=0,gt=[];dt=null!=tt.defaultDate?J.moment(tt.defaultDate):J.getNow(),J.getSuggestedViewHeight=function(){return void 0===lt&&y(),lt},J.isHeightAuto=function(){return"auto"===tt.contentHeight||"auto"===tt.height}}function vt(e,n){function i(){var e=n.header;return f=n.theme?"ui":"fc",e?p=t("<div class='fc-toolbar'/>").append(a("left")).append(a("right")).append(a("center")).append('<div class="fc-clear"/>'):void 0}function s(){p.remove()}function a(i){var s=t('<div class="fc-'+i+'"/>'),a=n.header[i];return a&&t.each(a.split(" "),function(){var i,a=t(),o=!0;t.each(this.split(","),function(i,s){var r,l,c,d,u,h,p,g,v;"title"==s?(a=a.add(t("<h2>&nbsp;</h2>")),o=!1):(e[s]?r=function(){e[s]()}:e.isValidViewType(s)&&(r=function(){e.changeView(s)},m.push(s),u=e.getViewButtonText(s)),r&&(l=b(n.themeButtonIcons,s),c=b(n.buttonIcons,s),d=b(n.defaultButtonText,s),h=b(n.buttonText,s),p=u||h?A(u||h):l&&n.theme?"<span class='ui-icon ui-icon-"+l+"'></span>":c&&!n.theme?"<span class='fc-icon fc-icon-"+c+"'></span>":A(d||s),g=["fc-"+s+"-button",f+"-button",f+"-state-default"],v=t('<button type="button" class="'+g.join(" ")+'">'+p+"</button>").click(function(){v.hasClass(f+"-state-disabled")||(r(),(v.hasClass(f+"-state-active")||v.hasClass(f+"-state-disabled"))&&v.removeClass(f+"-state-hover"))}).mousedown(function(){v.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){v.removeClass(f+"-state-down")}).hover(function(){v.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){v.removeClass(f+"-state-hover").removeClass(f+"-state-down")}),a=a.add(v)))}),o&&a.first().addClass(f+"-corner-left").end().last().addClass(f+"-corner-right").end(),a.length>1?(i=t("<div/>"),o&&i.addClass("fc-button-group"),i.append(a),s.append(i)):s.append(a)}),s}function o(t){p.find("h2").text(t)}function r(t){p.find(".fc-"+t+"-button").addClass(f+"-state-active")}function l(t){p.find(".fc-"+t+"-button").removeClass(f+"-state-active")}function c(t){p.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(f+"-state-disabled")}function d(t){p.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(f+"-state-disabled")}function u(){return m}var h=this;h.render=i,h.destroy=s,h.updateTitle=o,h.activateButton=r,h.deactivateButton=l,h.disableButton=c,h.enableButton=d,h.getViewsWithButtons=u;var f,p=t(),m=[]}function yt(n){function i(t,e){return!B||t.clone().stripZone()<B.clone().stripZone()||e.clone().stripZone()>W.clone().stripZone()}function s(t,e){B=t,W=e,J=[];var n=++K,i=q.length;Z=i;for(var s=0;i>s;s++)a(q[s],n)}function a(e,n){o(e,function(i){var s,a,o,r=t.isArray(e.events);if(n==K){if(i)for(s=0;i.length>s;s++)a=i[s],o=r?a:D(a,e),o&&J.push.apply(J,E(o));Z--,Z||V(J)}})}function o(e,i){var s,a,r=St.sourceFetchers;for(s=0;r.length>s;s++){if(a=r[s].call(U,e,B.clone(),W.clone(),n.timezone,i),a===!0)return;if("object"==typeof a)return void o(a,i)}var l=e.events;if(l)t.isFunction(l)?(y(),l.call(U,B.clone(),W.clone(),n.timezone,function(t){i(t),b()})):t.isArray(l)?i(l):i();else{var c=e.url;if(c){var d,u=e.success,h=e.error,f=e.complete;d=t.isFunction(e.data)?e.data():e.data;var p=t.extend({},d||{}),m=R(e.startParam,n.startParam),g=R(e.endParam,n.endParam),v=R(e.timezoneParam,n.timezoneParam);m&&(p[m]=B.format()),g&&(p[g]=W.format()),n.timezone&&"local"!=n.timezone&&(p[v]=n.timezone),y(),t.ajax(t.extend({},Xt,e,{data:p,success:function(e){e=e||[];var n=M(u,this,arguments);t.isArray(n)&&(e=n),i(e)},error:function(){M(h,this,arguments),i()},complete:function(){M(f,this,arguments),b()}}))}else i()}}function r(t){var e=l(t);e&&(q.push(e),Z++,a(e,K))}function l(e){var n,i,s=St.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return D(t,n)})),i=0;s.length>i;i++)s[i].call(U,n);return n}}function c(e){q=t.grep(q,function(t){return!d(t,e)}),J=t.grep(J,function(t){return!d(t.source,e)}),V(J)}function d(t,e){return t&&e&&u(t)==u(e)}function u(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function h(t){t.start=U.moment(t.start),t.end=t.end?U.moment(t.end):null,k(t,f(t)),V(J)}function f(e){var n={};return t.each(e,function(t,e){p(t)&&void 0!==e&&N(e)&&(n[t]=e)}),n}function p(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function m(t,e){var n,i,s,a=D(t);if(a){for(n=E(a),i=0;n.length>i;i++)s=n[i],s.source||(e&&(G.events.push(s),s.source=G),J.push(s));return V(J),n}return[]}function g(e){var n,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),J=t.grep(J,e,!0),i=0;q.length>i;i++)t.isArray(q[i].events)&&(q[i].events=t.grep(q[i].events,e,!0));V(J)}function v(e){return t.isFunction(e)?t.grep(J,e):null!=e?(e+="",t.grep(J,function(t){return t._id==e})):J}function y(){X++||j("loading",null,!0,z())}function b(){--X||j("loading",null,!1,z())}function D(i,s){var a,o,r,l={};if(n.eventDataTransform&&(i=n.eventDataTransform(i)),s&&s.eventDataTransform&&(i=s.eventDataTransform(i)),t.extend(l,i),s&&(l.source=s),l._id=i._id||(void 0===i.id?"_fc"+Jt++:i.id+""),l.className=i.className?"string"==typeof i.className?i.className.split(/\s+/):i.className:[],a=i.start||i.date,o=i.end,_(a)&&(a=e.duration(a)),_(o)&&(o=e.duration(o)),i.dow||e.isDuration(a)||e.isDuration(o))l.start=a?e.duration(a):null,l.end=o?e.duration(o):null,l._recurring=!0;else{if(a&&(a=U.moment(a),!a.isValid()))return!1;o&&(o=U.moment(o),o.isValid()||(o=null)),r=i.allDay,void 0===r&&(r=R(s?s.allDayDefault:void 0,n.allDayDefault)),S(a,o,r,l)}return l}function S(t,e,n,i){i.start=t,i.end=e,i.allDay=n,x(i),bt(i)}function x(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=U.rezoneDate(t.start)),t.end&&!t.end.hasTime()&&(t.end=U.rezoneDate(t.end))),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(t.end=n.forceEventDuration?U.getDefaultEventEnd(t.allDay,t.start):null)}function T(t){var e;return t.end||(e=t.allDay,null==e&&(e=!t.start.hasTime()),t={start:t.start,end:U.getDefaultEventEnd(e,t.start)}),t}function E(e,n,i){var s,a,o,r,l,c,d,u,h,f=[];if(n=n||B,i=i||W,e)if(e._recurring){if(a=e.dow)for(s={},o=0;a.length>o;o++)s[a[o]]=!0;for(r=n.clone().stripTime();r.isBefore(i);)(!s||s[r.day()])&&(l=e.start,
c=e.end,d=r.clone(),u=null,l&&(d=d.time(l)),c&&(u=r.clone().time(c)),h=t.extend({},e),S(d,u,!l&&!c,h),f.push(h)),r.add(1,"days")}else f.push(e);return f}function k(e,n){var i,s,a,o,r={};return n=n||{},n.start||(n.start=e.start.clone()),void 0===n.end&&(n.end=e.end?e.end.clone():null),null==n.allDay&&(n.allDay=e.allDay),x(n),i=null!==e._end&&null===n.end,s=n.allDay?C(n.start,e._start):w(n.start,e._start),!i&&n.end&&(a=w(n.end,n.start).subtract(w(e._end||U.getDefaultEventEnd(e._allDay,e._start),e._start))),t.each(n,function(t,e){p(t)&&void 0!==e&&(r[t]=e)}),o=A(v(e._id),i,n.allDay,s,a,r),{dateDelta:s,durationDelta:a,undo:o}}function A(e,n,i,s,a,o){var r=U.getIsAmbigTimezone(),l=[];return s&&!s.valueOf()&&(s=null),a&&!a.valueOf()&&(a=null),t.each(e,function(e,c){var d,u;d={start:c.start.clone(),end:c.end?c.end.clone():null,allDay:c.allDay},t.each(o,function(t){d[t]=c[t]}),u={start:c._start,end:c._end,allDay:c._allDay},n&&(u.end=null),u.allDay=i,x(u),s&&(u.start.add(s),u.end&&u.end.add(s)),a&&(u.end||(u.end=U.getDefaultEventEnd(u.allDay,u.start)),u.end.add(a)),r&&!u.allDay&&(s||a)&&(u.start.stripZone(),u.end&&u.end.stripZone()),t.extend(c,o,u),bt(c),l.push(function(){t.extend(c,d),bt(c)})}),function(){for(var t=0;l.length>t;t++)l[t]()}}function O(){var e,i=n.businessHours,s={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},a=U.getView();return i&&(e="object"==typeof i?t.extend({},s,i):s),e?E(D(e),a.start,a.end):[]}function I(t,e){var i=e.source||{},s=R(e.constraint,i.constraint,n.eventConstraint),a=R(e.overlap,i.overlap,n.eventOverlap);return t=T(t),P(t,s,a,e)}function L(t){return P(t,n.selectConstraint,n.selectOverlap)}function H(e,n){var i,s;return n&&(i=t.extend({},n,e),s=E(D(i))[0]),s?I(e,s):(e=T(e),L(e))}function P(t,e,n,i){var s,a,o,r,l;if(t={start:t.start.clone().stripZone(),end:t.end.clone().stripZone()},null!=e){for(s=F(e),a=!1,o=0;s.length>o;o++)if(Y(s[o],t)){a=!0;break}if(!a)return!1}for(o=0;J.length>o;o++)if(r=J[o],(!i||i._id!==r._id)&&$(r,t)){if(n===!1)return!1;if("function"==typeof n&&!n(r,i))return!1;if(i){if(l=R(r.overlap,(r.source||{}).overlap),l===!1)return!1;if("function"==typeof l&&!l(i,r))return!1}}return!0}function F(t){return"businessHours"===t?O():"object"==typeof t?E(D(t)):v(t)}function Y(t,e){var n=t.start.clone().stripZone(),i=U.getEventEnd(t).stripZone();return e.start>=n&&i>=e.end}function $(t,e){var n=t.start.clone().stripZone(),i=U.getEventEnd(t).stripZone();return i>e.start&&e.end>n}var U=this;U.isFetchNeeded=i,U.fetchEvents=s,U.addEventSource=r,U.removeEventSource=c,U.updateEvent=h,U.renderEvent=m,U.removeEvents=g,U.clientEvents=v,U.mutateEvent=k,U.normalizeEventDateProps=x,U.ensureVisibleEventRange=T;var B,W,j=U.trigger,z=U.getView,V=U.reportEvents,G={events:[]},q=[G],K=0,Z=0,X=0,J=[];t.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(t,e){var n=l(e);n&&q.push(n)}),U.getBusinessHoursEvents=O,U.isEventRangeAllowed=I,U.isSelectionRangeAllowed=L,U.isExternalDropRangeAllowed=H}function bt(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var wt={titleRangeSeparator:"  ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,defaultButtonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},Ct={dayPopoverFormat:"dddd, MMMM D"},Dt={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}},St=t.fullCalendar={version:"2.2.5"},xt=St.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(s,a){var o,r=t(a),l=r.data("fullCalendar");"string"==typeof e?l&&t.isFunction(l[e])&&(o=l[e].apply(l,n),s||(i=o),"destroy"===e&&r.removeData("fullCalendar")):l||(l=new gt(r,e),r.data("fullCalendar",l),l.render())}),i};var _t=St.langs={};St.datepickerLang=function(e,n,i){var s=_t[e]||(_t[e]={});s.isRTL=i.isRTL,s.weekNumberTitle=i.weekHeader,t.each(Tt,function(t,e){s[t]=e(i)}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},St.lang=function(e,n){var s,o;s=_t[e]||(_t[e]={}),n&&i(s,n),o=a(e),t.each(Et,function(t,e){void 0===s[t]&&(s[t]=e(o,s))}),wt.lang=e};var Tt={defaultButtonText:function(t){return{prev:O(t.prevText),next:O(t.nextText),today:O(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},Et={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}};St.lang("en",Ct),St.intersectionToSeg=y,St.applyAll=M,St.debounce=P;var kt,Nt,Mt,Rt=["sun","mon","tue","wed","thu","fri","sat"],At=["year","month","week","day","hour","minute","second","millisecond"],Ot={}.hasOwnProperty,It=/^\s*\d{4}-\d\d$/,Lt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Ht=e.fn,Pt=t.extend({},Ht);St.moment=function(){return F(arguments)},St.moment.utc=function(){var t=F(arguments,!0);return t.hasTime()&&t.utc(),t},St.moment.parseZone=function(){return F(arguments,!0,!0)},Ht.clone=function(){var t=Pt.clone.apply(this,arguments);return $(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},Ht.time=function(t){if(!this._fullCalendar)return Pt.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},Ht.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),Nt(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Ht.hasTime=function(){return!this._ambigTime},Ht.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),Nt(this,t),e&&(this._ambigTime=!0),this._ambigZone=!0),this},Ht.hasZone=function(){return!this._ambigZone},Ht.zone=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),Pt.zone.apply(this,arguments)},Ht.local=function(){var t=this.toArray(),e=this._ambigZone;return Pt.local.apply(this,arguments),e&&Mt(this,t),this},Ht.format=function(){return this._fullCalendar&&arguments[0]?W(this,arguments[0]):this._ambigTime?B(this,"YYYY-MM-DD"):this._ambigZone?B(this,"YYYY-MM-DD[T]HH:mm:ss"):Pt.format.apply(this,arguments)},Ht.toISOString=function(){return this._ambigTime?B(this,"YYYY-MM-DD"):this._ambigZone?B(this,"YYYY-MM-DD[T]HH:mm:ss"):Pt.toISOString.apply(this,arguments)},Ht.isWithin=function(t,e){var n=Y([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},Ht.isSame=function(t,e){var n;return this._fullCalendar?e?(n=Y([this,t],!0),Pt.isSame.call(n[0],n[1],e)):(t=St.moment.parseZone(t),Pt.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):Pt.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){Ht[e]=function(t,n){var i;return this._fullCalendar?(i=Y([this,t]),Pt[e].call(i[0],i[1],n)):Pt[e].apply(this,arguments)}}),kt="_d"in e()&&"updateOffset"in e,Nt=kt?function(t,n){t._d.setTime(Date.UTC.apply(Date,n)),e.updateOffset(t,!1)}:U,Mt=kt?function(t,n){t._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),e.updateOffset(t,!1)}:U;var Ft={t:function(t){return B(t,"a").charAt(0)},T:function(t){return B(t,"A").charAt(0)}};St.formatRange=V;var Yt={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},$t={};St.Class=X,X.extend=function(t){var e,n=this;return t=t||{},k(t,"constructor")&&(e=t.constructor),"function"!=typeof e&&(e=t.constructor=function(){n.apply(this,arguments)}),e.prototype=T(n.prototype),E(t,e.prototype),E(n,e),e},X.mixin=function(t){E(t.prototype||t,this.prototype)};var Ut=X.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),n.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=t.proxy(this,"documentMousedown"))},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function(){var e,n,i,s,a,o=this.options,r=this.el.offsetParent().offset(),l=this.el.outerWidth(),c=this.el.outerHeight(),d=t(window),u=m(this.el);s=o.top||0,a=void 0!==o.left?o.left:void 0!==o.right?o.right-l:0,u.is(window)||u.is(document)?(u=d,e=0,n=0):(i=u.offset(),e=i.top,n=i.left),e+=d.scrollTop(),n+=d.scrollLeft(),o.viewportConstrain!==!1&&(s=Math.min(s,e+u.outerHeight()-c-this.margin),s=Math.max(s,e+this.margin),a=Math.min(a,n+u.outerWidth()-l-this.margin),a=Math.max(a,n+this.margin)),this.el.css({top:s-r.top,left:a-r.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),Bt=X.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,minX:null,maxX:null,minY:null,maxY:null,constructor:function(t){this.grid=t},build:function(){this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.rowCoords=null,this.colCoords=null},getCell:function(t,e){var n,i,s,a=this.rowCoords,o=this.colCoords,r=null,l=null;if(this.inBounds(t,e)){for(n=0;a.length>n;n++)if(i=a[n],e>=i.top&&i.bottom>e){r=n;break}for(n=0;o.length>n;n++)if(i=o[n],t>=i.left&&i.right>t){l=n;break}if(null!==r&&null!==l)return s=this.grid.getCell(r,l),s.grid=this.grid,s}return null},computeBounds:function(){var t;this.containerEl&&(t=this.containerEl.offset(),this.minX=t.left,this.maxX=t.left+this.containerEl.outerWidth(),this.minY=t.top,this.maxY=t.top+this.containerEl.outerHeight())},inBounds:function(t,e){return this.containerEl?t>=this.minX&&this.maxX>t&&e>=this.minY&&this.maxY>e:!0}}),Wt=X.extend({coordMaps:null,constructor:function(t){this.coordMaps=t},build:function(){var t,e=this.coordMaps;for(t=0;e.length>t;t++)e[t].build()},getCell:function(t,e){var n,i=this.coordMaps,s=null;for(n=0;i.length>n&&!s;n++)s=i[n].getCell(t,e);return s},clear:function(){var t,e=this.coordMaps;for(t=0;e.length>t;t++)e[t].clear()}}),jt=X.extend({coordMap:null,options:null,isListening:!1,isDragging:!1,origCell:null,cell:null,mouseX0:null,mouseY0:null,mousemoveProxy:null,mouseupProxy:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(t,e){this.coordMap=t,this.options=e||{}},mousedown:function(t){v(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(e){var n,i;this.isListening||(e&&this.options.scroll&&(n=m(t(e.target)),n.is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=P(t.proxy(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),this.computeCoords(),e&&(i=this.getCell(e),this.origCell=i,this.mouseX0=e.pageX,this.mouseY0=e.pageY),t(document).on("mousemove",this.mousemoveProxy=t.proxy(this,"mousemove")).on("mouseup",this.mouseupProxy=t.proxy(this,"mouseup")).on("selectstart",this.preventDefault),this.isListening=!0,this.trigger("listenStart",e))},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},mousemove:function(t){var e,n;this.isDragging||(e=this.options.distance||1,n=Math.pow(t.pageX-this.mouseX0,2)+Math.pow(t.pageY-this.mouseY0,2),n>=e*e&&this.startDrag(t)),this.isDragging&&this.drag(t)},startDrag:function(t){var e;this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.trigger("dragStart",t),e=this.getCell(t),e&&this.cellOver(e))},drag:function(t){var e;this.isDragging&&(e=this.getCell(t),J(e,this.cell)||(this.cell&&this.cellOut(),e&&this.cellOver(e)),this.dragScroll(t))},cellOver:function(t){this.cell=t,this.trigger("cellOver",t,J(t,this.origCell))},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cell=null)},mouseup:function(t){this.stopDrag(t),this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.trigger("dragStop",t),this.isDragging=!1)},stopListening:function(e){this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.trigger("listenStop",e),this.origCell=this.cell=null,this.coordMap.clear())},getCell:function(t){return this.coordMap.getCell(t.pageX,t.pageY)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t,e=this.scrollEl;e&&(t=e.offset(),this.scrollBounds={top:t.top,left:t.left,bottom:t.top+e.outerHeight(),right:t.left+e.outerWidth()})},dragScroll:function(t){var e,n,i,s,a=this.scrollSensitivity,o=this.scrollBounds,r=0,l=0;o&&(e=(a-(t.pageY-o.top))/a,n=(a-(o.bottom-t.pageY))/a,i=(a-(t.pageX-o.left))/a,s=(a-(o.right-t.pageX))/a,e>=0&&1>=e?r=-1*e*this.scrollSpeed:n>=0&&1>=n&&(r=n*this.scrollSpeed),i>=0&&1>=i?l=-1*i*this.scrollSpeed:s>=0&&1>=s&&(l=s*this.scrollSpeed)),this.setScrollVel(r,l)},setScrollVel:function(e,n){this.scrollTopVel=e,this.scrollLeftVel=n,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(t.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;0>this.scrollTopVel?0>=t.scrollTop()&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),0>this.scrollLeftVel?0>=t.scrollLeft()&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.computeCoords())},scrollHandler:function(){this.scrollIntervalId||this.computeCoords()}}),zt=X.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.mouseY0=e.pageY,this.mouseX0=e.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=t.proxy(this,"mousemove")))},stop:function(e,n){function i(){this.isAnimating=!1,s.destroyEl(),this.top0=this.left0=null,n&&n()}var s=this,a=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),e&&a&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:a,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),Vt=X.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL")},rowHtml:function(t,e){var n,i,s=this.getHtmlRenderer("cell",t),a="";for(e=e||0,n=0;this.colCnt>n;n++)i=this.getCell(e,n),a+=s(i);return a=this.bookendCells(a,t,e),"<tr>"+a+"</tr>"},bookendCells:function(t,e,n){var i=this.getHtmlRenderer("intro",e)(n||0),s=this.getHtmlRenderer("outro",e)(n||0),a=this.isRTL?s:i,o=this.isRTL?i:s;return"string"==typeof t?a+t+o:t.prepend(a).append(o)},getHtmlRenderer:function(t,e){var n,i,s,a,o=this.view;return n=t+"Html",e&&(i=e+I(t)+"Html"),i&&(a=o[i])?s=o:i&&(a=this[i])?s=this:(a=o[n])?s=o:(a=this[n])&&(s=this),"function"==typeof a?function(){return a.apply(s,arguments)||""}:function(){return a||""}}}),Gt=St.Grid=Vt.extend({start:null,end:null,rowCnt:0,colCnt:0,rowData:null,colData:null,el:null,coordMap:null,elsByFill:null,documentDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventEnd:null,constructor:function(){Vt.apply(this,arguments),this.coordMap=new Bt(this),this.elsByFill={},this.documentDragStartProxy=t.proxy(this,"documentDragStart")},render:function(){this.bindHandlers()},destroy:function(){this.unbindHandlers()},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventEnd:function(){return!1},setRange:function(t){var e=this.view;this.start=t.start.clone(),this.end=t.end.clone(),this.rowData=[],this.colData=[],this.updateCells(),this.colHeadFormat=e.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=e.opt("timeFormat")||this.computeEventTimeFormat(),this.displayEventEnd=e.opt("displayEventEnd"),null==this.displayEventEnd&&(this.displayEventEnd=this.computeDisplayEventEnd())},updateCells:function(){},rangeToSegs:function(){},getCell:function(e,n){var i;return null==n&&("number"==typeof e?(n=e%this.colCnt,e=Math.floor(e/this.colCnt)):(n=e.col,e=e.row)),i={row:e,col:n},t.extend(i,this.getRowData(e),this.getColData(n)),t.extend(i,this.computeCellRange(i)),i},computeCellRange:function(){},getRowData:function(t){return this.rowData[t]||{}},getColData:function(t){return this.colData[t]||{}},getRowEl:function(){},getColEl:function(){},getCellDayEl:function(t){return this.getColEl(t.col)||this.getRowEl(t.row)},computeRowCoords:function(){var t,e,n,i=[];for(t=0;this.rowCnt>t;t++)e=this.getRowEl(t),n={top:e.offset().top},t>0&&(i[t-1].bottom=n.top),i.push(n);return n.bottom=n.top+e.outerHeight(),i},computeColCoords:function(){var t,e,n,i=[];for(t=0;this.colCnt>t;t++)e=this.getColEl(t),n={left:e.offset().left},t>0&&(i[t-1].right=n.left),i.push(n);return n.right=n.left+e.outerWidth(),i},bindHandlers:function(){var e=this;this.el.on("mousedown",function(n){t(n.target).is(".fc-event-container *, .fc-more")||t(n.target).closest(".fc-popover").length||e.dayMousedown(n)}),this.bindSegHandlers(),t(document).on("dragstart",this.documentDragStartProxy)},unbindHandlers:function(){t(document).off("dragstart",this.documentDragStartProxy)},dayMousedown:function(t){var e,n,i=this,s=this.view,a=s.opt("selectable"),o=new jt(this.coordMap,{scroll:s.opt("dragScroll"),dragStart:function(){s.unselect()},cellOver:function(t,s){var r=o.origCell;r&&(e=s?t:null,a&&(n=i.computeSelection(r,t),n?i.renderSelection(n):l()))},cellOut:function(){e=null,n=null,i.destroySelection(),c()},listenStop:function(t){e&&s.trigger("dayClick",i.getCellDayEl(e),e.start,t),n&&s.reportSelection(n,t),c()}});o.mousedown(t)},renderRangeHelper:function(t,e){var n;n=e?T(e.event):{},n.start=t.start.clone(),n.end=t.end?t.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventDateProps(n),n.className=(n.className||[]).concat("fc-helper"),e||(n.editable=!1),this.renderHelper(n,e)},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},destroySelection:function(){this.destroyHighlight()},computeSelection:function(t,e){var n,i=[t.start,t.end,e.start,e.end];return i.sort(L),n={start:i[0].clone(),end:i[3].clone()},this.view.calendar.isSelectionRangeAllowed(n)?n:null},renderHighlight:function(t){this.renderFill("highlight",this.rangeToSegs(t))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,n){var i,s=this,a=this[e+"SegEl"],o="",r=[];if(n.length){for(i=0;n.length>i;i++)o+=this.fillSegHtml(e,n[i]);t(o).each(function(e,i){var o=n[e],l=t(i);a&&(l=a.call(s,o,l)),l&&(l=t(l),l.is(s.fillSegTag)&&(o.el=l,r.push(o)))})}return r},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],i=this[t+"SegStyles"],s=n?n.call(this,e):[],a=i?i.call(this,e):"";return"<"+this.fillSegTag+(s.length?' class="'+s.join(" ")+'"':"")+(a?' style="'+a+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(t){var e=this.view,n=t.start;return'<th class="fc-day-header '+e.widgetHeaderClass+" fc-"+Rt[n.day()]+'">'+A(n.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(t){var e=this.view,n=t.start,i=this.getDayClasses(n);return i.unshift("fc-day",e.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+n.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow().stripTime(),i=["fc-"+Rt[t.day()]];return"month"===e.name&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):i.push(n>t?"fc-past":"fc-future"),i}});Gt.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,segs:null,renderEvents:function(t){var e,n,i=this.eventsToSegs(t),s=[],a=[];for(e=0;i.length>e;e++)n=i[e],Q(n.event)?s.push(n):a.push(n);s=this.renderBgSegs(s)||s,a=this.renderFgSegs(a)||a,this.segs=s.concat(a)},destroyEvents:function(){this.triggerSegMouseout(),this.destroyFgSegs(),this.destroyBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(e,n){var i,s=this.view,a="",o=[];if(e.length){for(i=0;e.length>i;i++)a+=this.fgSegHtml(e[i],n);t(a).each(function(n,i){var a=e[n],r=s.resolveEventEl(a.event,t(i));r&&(r.data("fc-seg",a),a.el=r,o.push(a))})}return o},fgSegHtml:function(){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegStyles:function(t){var e=this.view,n=t.event,i=n.source||{},s=n.color,a=i.color,o=e.opt("eventColor"),r=n.backgroundColor||s||i.backgroundColor||a||e.opt("eventBackgroundColor")||o;return r?"background-color:"+r:""},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var e=this,n=this.view;t.each({mouseenter:function(t,n){e.triggerSegMouseover(t,n)},mouseleave:function(t,n){e.triggerSegMouseout(t,n)},click:function(t,e){return n.trigger("eventClick",this,t.event,e)},mousedown:function(i,s){t(s.target).is(".fc-resizer")&&n.isEventResizable(i.event)?e.segResizeMousedown(i,s):n.isEventDraggable(i.event)&&e.segDragMousedown(i,s)}},function(n,i){e.el.on(n,".fc-event-container > *",function(n){var s=t(this).data("fc-seg");return!s||e.isDraggingSeg||e.isResizingSeg?void 0:i.call(this,s,n)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(t,e){var n,i=this,s=this.view,a=t.el,o=t.event,r=new zt(t.el,{parentEl:s.el,opacity:s.opt("dragOpacity"),revertDuration:s.opt("dragRevertDuration"),zIndex:2}),d=new jt(s.coordMap,{distance:5,scroll:s.opt("dragScroll"),listenStart:function(t){r.hide(),r.start(t)},dragStart:function(e){i.triggerSegMouseout(t,e),i.isDraggingSeg=!0,s.hideEvent(o),s.trigger("eventDragStart",a[0],o,e,{})},cellOver:function(e,a){var c=t.cell||d.origCell;n=i.computeEventDrop(c,e,o),n?(s.renderDrag(n,t)?r.hide():r.show(),a&&(n=null)):(r.show(),l())},cellOut:function(){n=null,s.destroyDrag(),r.show(),c()},dragStop:function(t){r.stop(!n,function(){i.isDraggingSeg=!1,s.destroyDrag(),s.showEvent(o),s.trigger("eventDragStop",a[0],o,t,{}),n&&s.reportEventDrop(o,n,a,t)}),c()},listenStop:function(){r.stop()}});d.mousedown(e)},computeEventDrop:function(t,e,n){var i,s,a,o,r,l=t.start,c=e.start;return l.hasTime()===c.hasTime()?(i=w(c,l),s=n.start.clone().add(i),a=null===n.end?null:n.end.clone().add(i),o=n.allDay):(s=c.clone(),a=null,o=!c.hasTime()),r={start:s,end:a,allDay:o},this.view.calendar.isEventRangeAllowed(r,n)?r:null},documentDragStart:function(e,n){var i,s,a=this.view;a.opt("droppable")&&(i=t(e.target),s=a.opt("dropAccept"),(t.isFunction(s)?s.call(i[0],i):i.is(s))&&this.startExternalDrag(i,e,n))},startExternalDrag:function(e,n){var i,s,a=this,o=at(e);i=new jt(this.coordMap,{cellOver:function(t){s=a.computeExternalDrop(t,o),s?a.renderDrag(s):l()},cellOut:function(){s=null,a.destroyDrag(),c()}}),t(document).one("dragstop",function(t,n){a.destroyDrag(),c(),s&&a.view.reportExternalDrop(o,s,e,t,n)}),i.startDrag(n)},computeExternalDrop:function(t,e){var n={start:t.start.clone(),end:null};return e.startTime&&!n.start.hasTime()&&n.start.time(e.startTime),e.duration&&(n.end=n.start.clone().add(e.duration)),this.view.calendar.isExternalDropRangeAllowed(n,e.eventProps)?n:null},renderDrag:function(){},destroyDrag:function(){},segResizeMousedown:function(t,e){function n(){a.destroyEventResize(),o.showEvent(u),c()}var i,s,a=this,o=this.view,r=o.calendar,d=t.el,u=t.event,h=u.start,f=r.getEventEnd(u);s=new jt(this.coordMap,{distance:5,scroll:o.opt("dragScroll"),dragStart:function(e){a.triggerSegMouseout(t,e),a.isResizingSeg=!0,o.trigger("eventResizeStart",d[0],u,e,{})},cellOver:function(e){i=e.end,i.isAfter(h)||(i=h.clone().add(w(e.end,e.start))),i.isSame(f)?i=null:r.isEventRangeAllowed({start:h,end:i},u)?(a.renderEventResize({start:h,end:i},t),o.hideEvent(u)):(i=null,l())},cellOut:function(){i=null,n()},dragStop:function(t){a.isResizingSeg=!1,n(),o.trigger("eventResizeStop",d[0],u,t,{}),i&&o.reportEventResize(u,i,d,t)}}),s.mousedown(e)},renderEventResize:function(){},destroyEventResize:function(){},getEventTimeText:function(t,e){return e=e||this.eventTimeFormat,t.end&&this.displayEventEnd?this.view.formatRange(t,e):t.start.format(e)},getSegClasses:function(t,e,n){var i=t.event,s=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return e&&s.push("fc-draggable"),n&&s.push("fc-resizable"),s},getEventSkinCss:function(t){var e=this.view,n=t.source||{},i=t.color,s=n.color,a=e.opt("eventColor"),o=t.backgroundColor||i||n.backgroundColor||s||e.opt("eventBackgroundColor")||a,r=t.borderColor||i||n.borderColor||s||e.opt("eventBorderColor")||a,l=t.textColor||n.textColor||e.opt("eventTextColor"),c=[];return o&&c.push("background-color:"+o),r&&c.push("border-color:"+r),l&&c.push("color:"+l),c.join(";")},eventsToSegs:function(t,e){var n,i=this.eventsToRanges(t),s=[];for(n=0;i.length>n;n++)s.push.apply(s,this.eventRangeToSegs(i[n],e));return s},eventsToRanges:function(e){var n=this,i=nt(e),s=[];return t.each(i,function(t,e){e.length&&s.push.apply(s,tt(e[0])?n.eventsToInverseRanges(e):n.eventsToNormalRanges(e))}),s},eventsToNormalRanges:function(t){var e,n,i,s,a=this.view.calendar,o=[];for(e=0;t.length>e;e++)n=t[e],i=n.start.clone().stripZone(),s=a.getEventEnd(n).stripZone(),o.push({event:n,start:i,end:s,eventStartMS:+i,eventDurationMS:s-i});return o},eventsToInverseRanges:function(t){var e,n,i=this.view,s=i.start.clone().stripZone(),a=i.end.clone().stripZone(),o=this.eventsToNormalRanges(t),r=[],l=t[0],c=s;for(o.sort(it),e=0;o.length>e;e++)n=o[e],n.start>c&&r.push({event:l,start:c,end:n.start}),c=n.end;return a>c&&r.push({event:l,start:c,end:a}),r},eventRangeToSegs:function(t,e){var n,i,s;for(n=e?e(t):this.rangeToSegs(t),i=0;n.length>i;i++)s=n[i],s.event=t.event,s.eventStartMS=t.eventStartMS,s.eventDurationMS=t.eventDurationMS;return n}}),St.compareSegs=st,St.dataAttrPrefix="";var qt=Gt.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,render:function(t){var e,n,i,s=this.view,a=this.rowCnt,o=this.colCnt,r=a*o,l="";for(e=0;a>e;e++)l+=this.dayRowHtml(e,t);for(this.el.html(l),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),n=0;r>n;n++)i=this.getCell(n),s.trigger("dayRender",null,i.start,this.dayEls.eq(n));Gt.prototype.render.call(this)},destroy:function(){this.destroySegPopover(),Gt.prototype.destroy.call(this)},dayRowHtml:function(t,e){var n=this.view,i=["fc-row","fc-week",n.widgetContentClass];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",t)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(t){return this.bgCellHtml(t)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd";

},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},updateCells:function(){var t,e,n,i;if(this.updateCellDates(),t=this.cellDates,this.breakOnWeeks){for(e=t[0].day(),i=1;t.length>i&&t[i].day()!=e;i++);n=Math.ceil(t.length/i)}else n=1,i=t.length;this.rowCnt=n,this.colCnt=i},updateCellDates:function(){for(var t=this.view,e=this.start.clone(),n=[],i=-1,s=[];e.isBefore(this.end);)t.isHiddenDay(e)?s.push(i+.5):(i++,s.push(i),n.push(e.clone())),e.add(1,"days");this.cellDates=n,this.dayToCellOffsets=s},computeCellRange:function(t){var e=this.colCnt,n=t.row*e+(this.isRTL?e-t.col-1:t.col),i=this.cellDates[n].clone(),s=i.clone().add(1,"day");return{start:i,end:s}},getRowEl:function(t){return this.rowEls.eq(t)},getColEl:function(t){return this.dayEls.eq(t)},getCellDayEl:function(t){return this.dayEls.eq(t.row*this.colCnt+t.col)},computeRowCoords:function(){var t=Gt.prototype.computeRowCoords.call(this);return t[t.length-1].bottom+=this.bottomCoordPadding,t},rangeToSegs:function(t){var e,n,i,s,a,o,r,l,c,d,u=this.isRTL,h=this.rowCnt,f=this.colCnt,p=[];for(t=this.view.computeDayRange(t),e=this.dateToCellOffset(t.start),n=this.dateToCellOffset(t.end.subtract(1,"days")),i=0;h>i;i++)s=i*f,a=s+f-1,l=Math.max(s,e),c=Math.min(a,n),l=Math.ceil(l),c=Math.floor(c),c>=l&&(o=l===e,r=c===n,l-=s,c-=s,d={row:i,isStart:o,isEnd:r},u?(d.leftCol=f-c-1,d.rightCol=f-l-1):(d.leftCol=l,d.rightCol=c),p.push(d));return p},dateToCellOffset:function(t){var e=this.dayToCellOffsets,n=t.diff(this.start,"days");return 0>n?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},renderDrag:function(t,e){var n;return this.renderHighlight(this.view.calendar.ensureVisibleEventRange(t)),e&&!e.el.closest(this.el).length?(this.renderRangeHelper(t,e),n=this.view.opt("dragOpacity"),void 0!==n&&this.helperEls.css("opacity",n),!0):void 0},destroyDrag:function(){this.destroyHighlight(),this.destroyHelper()},renderEventResize:function(t,e){this.renderHighlight(t),this.renderRangeHelper(t,e)},destroyEventResize:function(){this.destroyHighlight(),this.destroyHelper()},renderHelper:function(e,n){var i,s=[],a=this.eventsToSegs([e]);a=this.renderFgSegEls(a),i=this.renderSegRows(a),this.rowEls.each(function(e,a){var o,r=t(a),l=t('<div class="fc-helper-skeleton"><table/></div>');o=n&&n.row===e?n.el.position().top:r.find(".fc-content-skeleton tbody").position().top,l.css("top",o).find("table").append(i[e].tbodyEl),r.append(l),s.push(l[0])}),this.helperEls=t(s)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,n){var i,s,a,o=[];for(n=this.renderFillSegEls(e,n),i=0;n.length>i;i++)s=n[i],a=this.renderFillRow(e,s),this.rowEls.eq(s.row).append(a),o.push(a[0]);return this.elsByFill[e]=t(o),n},renderFillRow:function(e,n){var i,s,a=this.colCnt,o=n.leftCol,r=n.rightCol+1;return i=t('<div class="fc-'+e.toLowerCase()+'-skeleton"><table><tr/></table></div>'),s=i.find("tr"),o>0&&s.append('<td colspan="'+o+'"/>'),s.append(n.el.attr("colspan",r-o)),a>r&&s.append('<td colspan="'+(a-r)+'"/>'),this.bookendCells(s,e),i}});qt.mixin({rowStructs:null,destroyEvents:function(){this.destroySegPopover(),Gt.prototype.destroyEvents.apply(this,arguments)},getEventSegs:function(){return Gt.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var n=t.grep(e,function(t){return t.event.allDay});return Gt.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(e){var n;return e=this.renderFgSegEls(e),n=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,i){t(i).find(".fc-content-skeleton > table").append(n[e].tbodyEl)}),e},destroyFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;e.length>n;n++)i.push(this.renderSegRow(n,e[n]));return i},fgSegHtml:function(t,e){var n,i=this.view,s=t.event,a=i.isEventDraggable(s),o=!e&&s.allDay&&t.isEnd&&i.isEventResizable(s),r=this.getSegClasses(t,a,o),l=this.getEventSkinCss(s),c="";return r.unshift("fc-day-grid-event"),!s.allDay&&t.isStart&&(c='<span class="fc-time">'+A(this.getEventTimeText(s))+"</span>"),n='<span class="fc-title">'+(A(s.title||"")||"&nbsp;")+"</span>",'<a class="'+r.join(" ")+'"'+(s.url?' href="'+A(s.url)+'"':"")+(l?' style="'+l+'"':"")+'><div class="fc-content">'+(this.isRTL?n+" "+c:c+" "+n)+"</div>"+(o?'<div class="fc-resizer"/>':"")+"</a>"},renderSegRow:function(e,n){function i(e){for(;e>o;)d=(v[s-1]||[])[o],d?d.attr("rowspan",parseInt(d.attr("rowspan")||1,10)+1):(d=t("<td/>"),r.append(d)),g[s][o]=d,v[s][o]=d,o++}var s,a,o,r,l,c,d,u=this.colCnt,h=this.buildSegLevels(n),f=Math.max(1,h.length),p=t("<tbody/>"),m=[],g=[],v=[];for(s=0;f>s;s++){if(a=h[s],o=0,r=t("<tr/>"),m.push([]),g.push([]),v.push([]),a)for(l=0;a.length>l;l++){for(c=a[l],i(c.leftCol),d=t('<td class="fc-event-container"/>').append(c.el),c.leftCol!=c.rightCol?d.attr("colspan",c.rightCol-c.leftCol+1):v[s][o]=d;c.rightCol>=o;)g[s][o]=d,m[s][o]=c,o++;r.append(d)}i(u),this.bookendCells(r,"eventSkeleton"),p.append(r)}return{row:e,tbodyEl:p,cellMatrix:g,segMatrix:m,segLevels:h,segs:n}},buildSegLevels:function(t){var e,n,i,s=[];for(t.sort(st),e=0;t.length>e;e++){for(n=t[e],i=0;s.length>i&&ot(n,s[i]);i++);n.level=i,(s[i]||(s[i]=[])).push(n)}for(i=0;s.length>i;i++)s[i].sort(rt);return s},groupSegRows:function(t){var e,n=[];for(e=0;this.rowCnt>e;e++)n.push([]);for(e=0;t.length>e;e++)n[t[e].row].push(t[e]);return n}}),qt.mixin({segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;i.length>e;e++)this.unlimitRow(e),n=t?"number"==typeof t?t:this.computeRowLevelLimit(e):!1,n!==!1&&this.limitRow(e,n)},computeRowLevelLimit:function(t){var e,n,i=this.rowEls.eq(t),s=i.height(),a=this.rowStructs[t].tbodyEl.children();for(e=0;a.length>e;e++)if(n=a.eq(e).removeClass("fc-limited"),n.position().top+n.outerHeight()>s)return e;return!1},limitRow:function(e,n){function i(i){for(;i>S;)s=w.getCell(e,S),d=w.getCellSegs(s,n),d.length&&(f=o[n-1][S],b=w.renderMoreLink(s,d),y=t("<div/>").append(b),f.append(y),D.push(y[0])),S++}var s,a,o,r,l,c,d,u,h,f,p,m,g,v,y,b,w=this,C=this.rowStructs[e],D=[],S=0;if(n&&C.segLevels.length>n){for(a=C.segLevels[n-1],o=C.cellMatrix,r=C.tbodyEl.children().slice(n).addClass("fc-limited").get(),l=0;a.length>l;l++){for(c=a[l],i(c.leftCol),h=[],u=0;c.rightCol>=S;)s=this.getCell(e,S),d=this.getCellSegs(s,n),h.push(d),u+=d.length,S++;if(u){for(f=o[n-1][c.leftCol],p=f.attr("rowspan")||1,m=[],g=0;h.length>g;g++)v=t('<td class="fc-more-cell"/>').attr("rowspan",p),d=h[g],s=this.getCell(e,c.leftCol+g),b=this.renderMoreLink(s,[c].concat(d)),y=t("<div/>").append(b),v.append(y),m.push(v[0]),D.push(v[0]);f.addClass("fc-limited").after(t(m)),r.push(f[0])}}i(this.colCnt),C.moreEls=t(D),C.limitedEls=t(r)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n){var i=this,s=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(a){var o=s.opt("eventLimitClick"),r=e.start,l=t(this),c=i.getCellDayEl(e),d=i.getCellSegs(e),u=i.resliceDaySegs(d,r),h=i.resliceDaySegs(n,r);"function"==typeof o&&(o=s.trigger("eventLimitClick",null,{date:r,dayEl:c,moreEl:l,segs:u,hiddenSegs:h},a)),"popover"===o?i.showSegPopover(e,l,u):"string"==typeof o&&s.calendar.zoomTo(r,o)})},showSegPopover:function(t,e,n){var i,s,a=this,o=this.view,r=e.parent();i=1==this.rowCnt?o.el:this.rowEls.eq(t.row),s={className:"fc-more-popover",content:this.renderSegPopoverContent(t,n),parentEl:this.el,top:i.offset().top,autoHide:!0,viewportConstrain:o.opt("popoverViewportConstrain"),hide:function(){a.segPopover.destroy(),a.segPopover=null,a.popoverSegs=null}},this.isRTL?s.right=r.offset().left+r.outerWidth()+1:s.left=r.offset().left-1,this.segPopover=new Ut(s),this.segPopover.show()},renderSegPopoverContent:function(e,n){var i,s=this.view,a=s.opt("theme"),o=e.start.format(s.opt("dayPopoverFormat")),r=t('<div class="fc-header '+s.widgetHeaderClass+'"><span class="fc-close '+(a?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+A(o)+'</span><div class="fc-clear"/></div><div class="fc-body '+s.widgetContentClass+'"><div class="fc-event-container"></div></div>'),l=r.find(".fc-event-container");for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,i=0;n.length>i;i++)n[i].cell=e,l.append(n[i].el);return r},resliceDaySegs:function(e,n){var i=t.map(e,function(t){return t.event}),s=n.clone().stripTime(),a=s.clone().add(1,"days"),o={start:s,end:a};return this.eventsToSegs(i,function(t){var e=y(t,o);return e?[e]:[]})},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e){for(var n,i=this.rowStructs[t.row].segMatrix,s=e||0,a=[];i.length>s;)n=i[s][t.col],n&&a.push(n),s++;return a}});var Kt=Gt.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){Gt.apply(this,arguments),this.processOptions()},render:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr"),this.computeSlatTops(),this.renderBusinessHours(),Gt.prototype.render.call(this)},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(t),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(t){return this.bgCellHtml(t)},slatRowHtml:function(){for(var t,n,i,s=this.view,a=this.isRTL,o="",r=0===this.slotDuration.asMinutes()%15,l=e.duration(+this.minTime);this.maxTime>l;)t=this.start.clone().time(l),n=t.minutes(),i='<td class="fc-axis fc-time '+s.widgetContentClass+'" '+s.axisStyleAttr()+">"+(r&&n?"":"<span>"+A(t.format(this.axisFormat))+"</span>")+"</td>",o+="<tr "+(n?'class="fc-minor"':"")+">"+(a?"":i)+'<td class="'+s.widgetContentClass+'"/>'+(a?i:"")+"</tr>",l.add(this.slotDuration);return o},processOptions:function(){var t=this.view,n=t.opt("slotDuration"),i=t.opt("snapDuration");n=e.duration(n),i=i?e.duration(i):n,this.slotDuration=n,this.snapDuration=i,this.minTime=e.duration(t.opt("minTime")),this.maxTime=e.duration(t.opt("maxTime")),this.axisFormat=t.opt("axisFormat")||t.opt("smallTimeFormat")},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},updateCells:function(){var t,e=this.view,n=[];for(t=this.start.clone();t.isBefore(this.end);)n.push({day:t.clone()}),t.add(1,"day"),t=e.skipHiddenDays(t);this.isRTL&&n.reverse(),this.colData=n,this.colCnt=n.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellRange:function(t){var e=this.computeSnapTime(t.row),n=this.view.calendar.rezoneDate(t.day).time(e),i=n.clone().add(this.snapDuration);return{start:n,end:i}},getColEl:function(t){return this.dayEls.eq(t)},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},rangeToSegs:function(t){var e,n,i,s,a=this.colCnt,o=[];for(t={start:t.start.clone().stripZone(),end:t.end.clone().stripZone()},n=0;a>n;n++)i=this.colData[n].day,s={start:i.clone().time(this.minTime),end:i.clone().time(this.maxTime)},e=y(t,s),e&&(e.col=n,o.push(e));return o},resize:function(){this.computeSlatTops(),this.updateSegVerticals()},computeRowCoords:function(){var t,e,n=this.el.offset().top,i=[];for(t=0;this.rowCnt>t;t++)e={top:n+this.computeTimeTop(this.computeSnapTime(t))},t>0&&(i[t-1].bottom=e.top),i.push(e);return e.bottom=e.top+this.computeTimeTop(this.computeSnapTime(t)),i},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t.clone().stripZone()-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,i,s,a=(t-this.minTime)/this.slotDuration;return a=Math.max(0,a),a=Math.min(this.slatEls.length,a),e=Math.floor(a),n=a-e,i=this.slatTops[e],n?(s=this.slatTops[e+1],i+(s-i)*n):i},computeSlatTops:function(){var e,n=[];this.slatEls.each(function(i,s){e=t(s).position().top,n.push(e)}),n.push(e+this.slatEls.last().outerHeight()),this.slatTops=n},renderDrag:function(t,e){var n;return e?(this.renderRangeHelper(t,e),n=this.view.opt("dragOpacity"),void 0!==n&&this.helperEl.css("opacity",n),!0):void this.renderHighlight(this.view.calendar.ensureVisibleEventRange(t))},destroyDrag:function(){this.destroyHelper(),this.destroyHighlight()},renderEventResize:function(t,e){this.renderRangeHelper(t,e)},destroyEventResize:function(){this.destroyHelper()},renderHelper:function(e,n){var i,s,a,o,r=this.eventsToSegs([e]);for(r=this.renderFgSegEls(r),i=this.renderSegTable(r),s=0;r.length>s;s++)a=r[s],n&&n.col===a.col&&(o=n.el,a.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")}));this.helperEl=t('<div class="fc-helper-skeleton"/>').append(i).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderRangeHelper(t):this.renderHighlight(t)},destroySelection:function(){this.destroyHelper(),this.destroyHighlight()},renderFill:function(e,n,i){var s,a,o,r,l,c,d,u,h,f;if(n.length){for(n=this.renderFillSegEls(e,n),s=this.groupSegCols(n),i=i||e.toLowerCase(),a=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),o=a.find("tr"),r=0;s.length>r;r++)if(l=s[r],c=t("<td/>").appendTo(o),l.length)for(d=t('<div class="fc-'+i+'-container"/>').appendTo(c),u=this.colData[r].day,h=0;l.length>h;h++)f=l[h],d.append(f.el.css({top:this.computeDateTop(f.start,u),bottom:-this.computeDateTop(f.end,u)}));this.bookendCells(o,e),this.el.append(a),this.elsByFill[e]=a}return n}});Kt.mixin({eventSkeletonEl:null,renderFgSegs:function(e){return e=this.renderFgSegEls(e),this.el.append(this.eventSkeletonEl=t('<div class="fc-content-skeleton"/>').append(this.renderSegTable(e))),e},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(e){var n,i,s,a,o,r,l=t("<table><tr/></table>"),c=l.find("tr");for(n=this.groupSegCols(e),this.computeSegVerticals(e),a=0;n.length>a;a++){for(o=n[a],lt(o),r=t('<div class="fc-event-container"/>'),i=0;o.length>i;i++)s=o[i],s.el.css(this.generateSegPositionCss(s)),30>s.bottom-s.top&&s.el.addClass("fc-short"),r.append(s.el);c.append(t("<td/>").append(r))}return this.bookendCells(c,"eventSkeleton"),l},updateSegVerticals:function(){var t,e=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(e),t=0;e.length>t;t++)e[t].el.css(this.generateSegVerticalCss(e[t]))},computeSegVerticals:function(t){var e,n;for(e=0;t.length>e;e++)n=t[e],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},fgSegHtml:function(t,e){var n,i,s,a=this.view,o=t.event,r=a.isEventDraggable(o),l=!e&&t.isEnd&&a.isEventResizable(o),c=this.getSegClasses(t,r,l),d=this.getEventSkinCss(o);return c.unshift("fc-time-grid-event"),a.isMultiDayEvent(o)?(t.isStart||t.isEnd)&&(n=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),s=this.getEventTimeText({start:t.start})):(n=this.getEventTimeText(o),i=this.getEventTimeText(o,"LT"),s=this.getEventTimeText({start:o.start})),'<a class="'+c.join(" ")+'"'+(o.url?' href="'+A(o.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+A(s)+'" data-full="'+A(i)+'"><span>'+A(n)+"</span></div>":"")+(o.title?'<div class="fc-title">'+A(o.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(l?'<div class="fc-resizer"/>':"")+"</a>"},generateSegPositionCss:function(t){var e,n,i=this.view.opt("slotEventOverlap"),s=t.backwardCoord,a=t.forwardCoord,o=this.generateSegVerticalCss(t);return i&&(a=Math.min(1,s+2*(a-s))),this.isRTL?(e=1-a,n=s):(e=s,n=1-a),o.zIndex=t.level+1,o.left=100*e+"%",o.right=100*n+"%",i&&t.forwardPressure&&(o[this.isRTL?"marginLeft":"marginRight"]=20),o},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},groupSegCols:function(t){var e,n=[];for(e=0;this.colCnt>e;e++)n.push([]);for(e=0;t.length>e;e++)n[t[e].col].push(t[e]);return n}});var Zt=St.View=X.extend({type:null,name:null,calendar:null,options:null,coordMap:null,el:null,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(n,i,s){this.calendar=n,this.options=i,this.type=this.name=s,this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initTheming(),this.initHiddenDays(),this.documentMousedownProxy=t.proxy(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(e){var n;return n=this.options[e],void 0!==n?n:(n=this.calendar.options[e],t.isPlainObject(n)&&!s(e)?b(n,this.type):n)},trigger:function(t,e){var n=this.calendar;return n.trigger.apply(n,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e)},computeRange:function(t){var n,i,s=e.duration(this.opt("duration")||this.constructor.duration||{days:1}),a=D(s),o=t.clone().startOf(a),r=o.clone().add(s);return S("days",s)?(o.stripTime(),r.stripTime()):(o.hasTime()||(o=this.calendar.rezoneDate(o)),r.hasTime()||(r=this.calendar.rezoneDate(r))),n=o.clone(),n=this.skipHiddenDays(n),i=r.clone(),i=this.skipHiddenDays(i,-1,!0),{intervalDuration:s,intervalUnit:a,intervalStart:o,intervalEnd:r,start:n,end:i}},computePrevDate:function(t){return this.skipHiddenDays(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.skipHiddenDays(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,n){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),V(t.start,i,e,n,this.opt("isRTL"))},renderView:function(){this.render(),this.updateSize(),this.initializeScroll(),this.trigger("viewRender",this,this,this.el),t(document).on("mousedown",this.documentMousedownProxy)},render:function(){},destroyView:function(){this.unselect(),this.destroyViewEvents(),this.destroy(),this.trigger("viewDestroy",this,this,this.el),t(document).off("mousedown",this.documentMousedownProxy)},destroy:function(){this.el.empty()},initTheming:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},updateSize:function(t){t&&this.recordScroll(),this.updateHeight(),this.updateWidth()},updateWidth:function(){},updateHeight:function(){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(t,e){var n,i;return e=e||this.scrollerEl,n=this.el.add(e),n.css({position:"relative",left:-1}),i=this.el.outerHeight()-e.height(),n.css({position:"",left:""}),t-i},initializeScroll:function(){},recordScroll:function(){this.scrollerEl&&(this.scrollTop=this.scrollerEl.scrollTop())},restoreScroll:function(){null!==this.scrollTop&&this.scrollerEl.scrollTop(this.scrollTop)},renderViewEvents:function(t){this.renderEvents(t),this.eventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},renderEvents:function(){},destroyViewEvents:function(){this.eventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)}),this.destroyEvents()},destroyEvents:function(){},resolveEventEl:function(e,n){var i=this.trigger("eventRender",e,e,n);return i===!1?n=null:i&&i!==!0&&(n=t(i)),n},showEvent:function(t){this.eventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.eventSegEach(function(t){t.el.css("visibility","hidden")},t)},eventSegEach:function(t,e){var n,i=this.getEventSegs();for(n=0;i.length>n;n++)e&&i[n].event._id!==e._id||t.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return R(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,n,i){var s=this.calendar,a=s.mutateEvent(t,e),o=function(){a.undo(),s.reportEventChange()};this.triggerEventDrop(t,a.dateDelta,o,n,i),s.reportEventChange()},triggerEventDrop:function(t,e,n,i,s){this.trigger("eventDrop",i[0],t,e,n,s,{})},reportExternalDrop:function(e,n,i,s,a){var o,r,l=e.eventProps;l&&(o=t.extend({},l,n),r=this.calendar.renderEvent(o,e.stick)[0]),this.triggerExternalDrop(r,n,i,s,a)},triggerExternalDrop:function(t,e,n,i,s){this.trigger("drop",n[0],e.start,i,s),t&&this.trigger("eventReceive",null,t)},renderDrag:function(){},destroyDrag:function(){},isEventResizable:function(t){var e=t.source||{};return R(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,n,i){var s=this.calendar,a=s.mutateEvent(t,{end:e}),o=function(){a.undo(),s.reportEventChange()};this.triggerEventResize(t,a.durationDelta,o,n,i),s.reportEventChange()},triggerEventResize:function(t,e,n,i,s){this.trigger("eventResize",i[0],t,e,n,s,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(){},reportSelection:function(t,e){this.isSelected=!0,this.trigger("select",null,t.start,t.end,e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,t))},destroySelection:function(){},documentMousedown:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&v(e)&&(n=this.opt("unselectCancel"),n&&t(e.target).closest(n).length||this.unselect(e))},initHiddenDays:function(){var e,n=this.opt("hiddenDays")||[],i=[],s=0;for(this.opt("weekends")===!1&&n.push(0,6),e=0;7>e;e++)(i[e]=-1!==t.inArray(e,n))||s++;if(!s)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,n){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,n=t.start.clone().stripTime(),i=t.end,s=null;return i&&(s=i.clone().stripTime(),e=+i.time(),e&&e>=this.nextDayThreshold&&s.add(1,"days")),(!i||n>=s)&&(s=n.clone().add(1,"days")),{start:n,end:s}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}});St.sourceNormalizers=[],St.sourceFetchers=[];var Xt={dataType:"json",cache:!1},Jt=1,Qt=xt.basic=Zt.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new qt(this),this.coordMap=this.dayGrid.coordMap},setRange:function(t){Zt.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=Zt.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},render:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(this.hasRigidRows())},destroy:function(){this.dayGrid.destroy(),Zt.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+A(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(t){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.calendar.calculateWeekNumber(this.dayGrid.getCell(t,0).start)+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(t){var e,n=t.start;return this.dayNumbersVisible?(e=this.dayGrid.getDayClasses(n),e.unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=h(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,i=this.opt("eventLimit");p(this.scrollerEl),r(this.headRowEl),this.dayGrid.destroySegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!e&&f(this.scrollerEl,n)&&(o(this.headRowEl,g(this.scrollerEl)),n=this.computeScrollerHeight(t),this.scrollerEl.height(n),this.restoreScroll())},setGridHeight:function(t,e){e?u(this.dayGrid.rowEls):d(this.dayGrid.rowEls,t,!0)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.recordScroll(),this.dayGrid.destroyEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},destroySelection:function(){this.dayGrid.destroySelection()}});n({fixedWeekCount:!0});var te=xt.month=Qt.extend({computeRange:function(t){var e=Qt.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&e.end.add(6-e.end.diff(e.start,"weeks"),"weeks"),e},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),d(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});te.duration={months:1},xt.basicWeek={type:"basic",duration:{weeks:1}},xt.basicDay={type:"basic",duration:{days:1}},n({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0});var ee=5;xt.agenda=Zt.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new Kt(this),this.opt("allDaySlot")?(this.dayGrid=new qt(this),this.coordMap=new Wt([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(t){Zt.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},render:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.el=this.el.find(".fc-time-grid"),this.timeGrid.render(),this.bottomRuleEl=t('<hr class="'+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},destroy:function(){this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),Zt.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="'+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var t,e,n,i;return this.opt("weekNumbers")?(t=this.timeGrid.getCell(0).start,e=this.calendar.calculateWeekNumber(t),n=this.opt("weekNumberTitle"),i=this.opt("isRTL")?e+n:n+e,'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+A(i)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||A(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(t){t&&this.timeGrid.resize(),Zt.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=h(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),p(this.scrollerEl),r(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.destroySegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=ee),n&&this.dayGrid.limitRows(n)),e||(i=this.computeScrollerHeight(t),f(this.scrollerEl,i)?(o(this.noScrollRowEls,g(this.scrollerEl)),i=this.computeScrollerHeight(t),this.scrollerEl.height(i),this.restoreScroll()):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},initializeScroll:function(){function t(){n.scrollerEl.scrollTop(s)}var n=this,i=e.duration(this.opt("scrollTime")),s=this.timeGrid.computeTimeTop(i);s=Math.ceil(s),s&&s++,t(),setTimeout(t,0)},renderEvents:function(t){var e,n,i=[],s=[],a=[];for(n=0;t.length>n;n++)t[n].allDay?i.push(t[n]):s.push(t[n]);e=this.timeGrid.renderEvents(s),this.dayGrid&&(a=this.dayGrid.renderEvents(i)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},destroyEvents:function(){this.recordScroll(),this.timeGrid.destroyEvents(),this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},destroyDrag:function(){this.timeGrid.destroyDrag(),this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},destroySelection:function(){this.timeGrid.destroySelection(),
this.dayGrid&&this.dayGrid.destroySelection()}}),xt.agendaWeek={type:"agenda",duration:{weeks:1}},xt.agendaDay={type:"agenda",duration:{days:1}}}),function(e){e.fn.extend({slimScroll:function(n){var i={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},s=e.extend(i,n);return this.each(function(){function i(t){if(d){var t=t||window.event,n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3);var i=t.target||t.srcTarget||t.srcElement;e(i).closest("."+s.wrapperClass).is(C.parent())&&a(n,!0),t.preventDefault&&!w&&t.preventDefault(),w||(t.returnValue=!1)}}function a(t,e,n){w=!1;var i=t,a=C.outerHeight()-T.outerHeight();if(e&&(i=parseInt(T.css("top"))+t*parseInt(s.wheelStep)/100*T.outerHeight(),i=Math.min(Math.max(i,0),a),i=t>0?Math.ceil(i):Math.floor(i),T.css({top:i+"px"})),g=parseInt(T.css("top"))/(C.outerHeight()-T.outerHeight()),i=g*(C[0].scrollHeight-C.outerHeight()),n){i=t;var o=i/C[0].scrollHeight*C.outerHeight();o=Math.min(Math.max(o,0),a),T.css({top:o+"px"})}C.scrollTop(i),C.trigger("slimscrolling",~~i),l(),c()}function o(){window.addEventListener?(this.addEventListener("DOMMouseScroll",i,!1),this.addEventListener("mousewheel",i,!1)):document.attachEvent("onmousewheel",i)}function r(){m=Math.max(C.outerHeight()/C[0].scrollHeight*C.outerHeight(),b),T.css({height:m+"px"});var t=m==C.outerHeight()?"none":"block";T.css({display:t})}function l(){if(r(),clearTimeout(f),g==~~g){if(w=s.allowPageScroll,v!=g){var t=0==~~g?"top":"bottom";C.trigger("slimscroll",t)}}else w=!1;return v=g,m>=C.outerHeight()?void(w=!0):(T.stop(!0,!0).fadeIn("fast"),void(s.railVisible&&_.stop(!0,!0).fadeIn("fast")))}function c(){s.alwaysVisible||(f=setTimeout(function(){s.disableFadeOut&&d||u||h||(T.fadeOut("slow"),_.fadeOut("slow"))},1e3))}var d,u,h,f,p,m,g,v,y="<div></div>",b=30,w=!1,C=e(this);if(C.parent().hasClass(s.wrapperClass)){var D=C.scrollTop();if(T=C.parent().find("."+s.barClass),_=C.parent().find("."+s.railClass),r(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){C.parent().css("height","auto"),C.css("height","auto");var S=C.parent().parent().height();C.parent().css("height",S),C.css("height",S)}if("scrollTo"in n)D=parseInt(s.scrollTo);else if("scrollBy"in n)D+=parseInt(s.scrollBy);else if("destroy"in n)return T.remove(),_.remove(),void C.unwrap();a(D,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){s.height="auto"==s.height?C.parent().height():s.height;var x=e(y).addClass(s.wrapperClass).css({position:"relative",overflow:"hidden",width:s.width,height:s.height});C.css({overflow:"hidden",width:s.width,height:s.height,"-ms-touch-action":"none"});var _=e(y).addClass(s.railClass).css({width:s.size,height:"100%",position:"absolute",top:0,display:s.alwaysVisible&&s.railVisible?"block":"none","border-radius":s.railBorderRadius,background:s.railColor,opacity:s.railOpacity,zIndex:90}),T=e(y).addClass(s.barClass).css({background:s.color,width:s.size,position:"absolute",top:0,opacity:s.opacity,display:s.alwaysVisible?"block":"none","border-radius":s.borderRadius,BorderRadius:s.borderRadius,MozBorderRadius:s.borderRadius,WebkitBorderRadius:s.borderRadius,zIndex:99}),E="right"==s.position?{right:s.distance}:{left:s.distance};_.css(E),T.css(E),C.wrap(x),C.parent().append(T),C.parent().append(_),s.railDraggable&&T.bind("mousedown",function(n){var i=e(document);return h=!0,t=parseFloat(T.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,T.css("top",currTop),a(0,T.position().top,!1)}),i.bind("mouseup.slimscroll",function(t){h=!1,c(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),_.hover(function(){l()},function(){c()}),T.hover(function(){u=!0},function(){u=!1}),C.hover(function(){d=!0,l(),c()},function(){d=!1,c()}),window.navigator.msPointerEnabled?(C.bind("MSPointerDown",function(t,e){t.originalEvent.targetTouches.length&&(p=t.originalEvent.targetTouches[0].pageY)}),C.bind("MSPointerMove",function(t){if(t.originalEvent.preventDefault(),t.originalEvent.targetTouches.length){var e=(p-t.originalEvent.targetTouches[0].pageY)/s.touchScrollStep;a(e,!0),p=t.originalEvent.targetTouches[0].pageY}})):(C.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(p=t.originalEvent.touches[0].pageY)}),C.bind("touchmove",function(t){if(w||t.originalEvent.preventDefault(),t.originalEvent.touches.length){var e=(p-t.originalEvent.touches[0].pageY)/s.touchScrollStep;a(e,!0),p=t.originalEvent.touches[0].pageY}})),r(),"bottom"===s.start?(T.css({top:C.outerHeight()-T.outerHeight()}),a(0,!0)):"top"!==s.start&&(a(e(s.start).position().top,null,!0),s.alwaysVisible||T.hide()),o()}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),function(t,e,n,i){"use strict";var s=function(e,n){this.widget="",this.$element=t(e),this.defaultTime=n.defaultTime,this.disableFocus=n.disableFocus,this.isOpen=n.isOpen,this.minuteStep=n.minuteStep,this.modalBackdrop=n.modalBackdrop,this.secondStep=n.secondStep,this.showInputs=n.showInputs,this.showMeridian=n.showMeridian,this.showSeconds=n.showSeconds,this.template=n.template,this.appendWidgetTo=n.appendWidgetTo,this.upArrowStyle=n.upArrowStyle,this.downArrowStyle=n.downArrowStyle,this.containerClass=n.containerClass,this._init()};s.prototype={constructor:s,_init:function(){var e=this;this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend")?(this.$element.parent(".input-append, .input-prepend").find(".add-on").length?this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":t.proxy(this.showWidget,this)}):this.$element.closest(this.containerClass).find(".add-on").on({"click.timepicker":t.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this)})):this.$element.on(this.template?{"focus.timepicker":t.proxy(this.showWidget,this),"click.timepicker":t.proxy(this.showWidget,this),"blur.timepicker":t.proxy(this.blurElement,this)}:{"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this)}),this.$widget=this.template!==!1?t(this.getTemplate()).prependTo(this.$element.parents(this.appendWidgetTo)).on("click",t.proxy(this.widgetClick,this)):!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){t(this).on({"click.timepicker":function(){t(this).select()},"keydown.timepicker":t.proxy(e.widgetKeydown,e)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=i,this.updateFromElementVal()},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else 0===this.hour?this.hour=23:this.hour--;this.update()},decrementMinute:function(t){var e;e=t?this.minute-t:this.minute-this.minuteStep,0>e?(this.decrementHour(),this.minute=e+60):this.minute=e,this.update()},decrementSecond:function(){var t=this.second-this.secondStep;0>t?(this.decrementMinute(!0),this.second=t+60):this.second=t,this.update()},elementKeydown:function(t){switch(t.keyCode){case 9:switch(this.updateFromElementVal(),this.highlightedUnit){case"hour":t.preventDefault(),this.highlightNextUnit();break;case"minute":(this.showMeridian||this.showSeconds)&&(t.preventDefault(),this.highlightNextUnit());break;case"second":this.showMeridian&&(t.preventDefault(),this.highlightNextUnit())}break;case 27:this.updateFromElementVal();break;case 37:t.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}break;case 39:t.preventDefault(),this.updateFromElementVal(),this.highlightNextUnit();break;case 40:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}}},formatTime:function(t,e,n,i){return t=10>t?"0"+t:t,e=10>e?"0"+e:e,n=10>n?"0"+n:n,t+":"+e+(this.showSeconds?":"+n:"")+(this.showMeridian?" "+i:"")},getCursorPosition:function(){var t=this.$element.get(0);if("selectionStart"in t)return t.selectionStart;if(n.selection){t.focus();var e=n.selection.createRange(),i=n.selection.createRange().text.length;return e.moveStart("character",-t.value.length),e.text.length-i}},getTemplate:function(){var t,e,n,i,s,a;switch(this.showInputs?(e='<input type="text" name="hour" class="bootstrap-timepicker-hour form-control" maxlength="2"/>',n='<input type="text" name="minute" class="bootstrap-timepicker-minute form-control" maxlength="2"/>',i='<input type="text" name="second" class="bootstrap-timepicker-second form-control" maxlength="2"/>',s='<input type="text" name="meridian" class="bootstrap-timepicker-meridian form-control" maxlength="2"/>'):(e='<span class="bootstrap-timepicker-hour"></span>',n='<span class="bootstrap-timepicker-minute"></span>',i='<span class="bootstrap-timepicker-second"></span>',s='<span class="bootstrap-timepicker-meridian"></span>'),a='<table><tr><td><a href="#" data-action="incrementHour"><i class="'+this.upArrowStyle+'"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="'+this.upArrowStyle+'"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="'+this.upArrowStyle+'"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="'+this.upArrowStyle+'"></i></a></td>':"")+"</tr><tr><td>"+e+'</td> <td class="separator">:</td><td>'+n+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+i+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+s+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="'+this.downArrowStyle+'"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="'+this.downArrowStyle+'"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="'+this.downArrowStyle+'"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="'+this.downArrowStyle+'"></i></a></td>':"")+"</tr></table>",this.template){case"modal":t='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal"></a><h3>Pick a Time</h3></div><div class="modal-content">'+a+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":t='<div class="bootstrap-timepicker-widget dropdown-menu">'+a+"</div>"}return t},getTime:function(){return this.formatTime(this.hour,this.minute,this.second,this.meridian)},hideWidget:function(){this.isOpen!==!1&&(this.showInputs&&this.updateFromWidgetInputs(),this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),t(n).off("mousedown.timepicker"),this.isOpen=!1)},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMeridian();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var t=this.$element.get(0);this.highlightedUnit="hour",t.setSelectionRange&&setTimeout(function(){t.setSelectionRange(0,2)},0)},highlightMinute:function(){var t=this.$element.get(0);this.highlightedUnit="minute",t.setSelectionRange&&setTimeout(function(){t.setSelectionRange(3,5)},0)},highlightSecond:function(){var t=this.$element.get(0);this.highlightedUnit="second",t.setSelectionRange&&setTimeout(function(){t.setSelectionRange(6,8)},0)},highlightMeridian:function(){var t=this.$element.get(0);this.highlightedUnit="meridian",t.setSelectionRange&&(this.showSeconds?setTimeout(function(){t.setSelectionRange(9,11)},0):setTimeout(function(){t.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return 23===this.hour?void(this.hour=0):(this.hour++,void this.update())},incrementMinute:function(t){var e;e=t?this.minute+t:this.minute+this.minuteStep-this.minute%this.minuteStep,e>59?(this.incrementHour(),this.minute=e-60):this.minute=e,this.update()},incrementSecond:function(){var t=this.second+this.secondStep-this.second%this.secondStep;t>59?(this.incrementMinute(!0),this.second=t-60):this.second=t,this.update()},remove:function(){t("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(t){if(this.$element.val())this.updateFromElementVal();else if("current"===t){var e=new Date,n=e.getHours(),i=Math.floor(e.getMinutes()/this.minuteStep)*this.minuteStep,s=Math.floor(e.getSeconds()/this.secondStep)*this.secondStep,a="AM";this.showMeridian&&(0===n?n=12:n>=12?(n>12&&(n-=12),a="PM"):a="AM"),this.hour=n,this.minute=i,this.second=s,this.meridian=a,this.update()}else t===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(t)},setTime:function(t){var e,n;this.showMeridian?(e=t.split(" "),n=e[0].split(":"),this.meridian=e[1]):n=t.split(":"),this.hour=parseInt(n[0],10),this.minute=parseInt(n[1],10),this.second=parseInt(n[2],10),isNaN(this.hour)&&(this.hour=0),isNaN(this.minute)&&(this.minute=0),this.showMeridian?(this.hour>12?this.hour=12:this.hour<1&&(this.hour=12),"am"===this.meridian||"a"===this.meridian?this.meridian="AM":("pm"===this.meridian||"p"===this.meridian)&&(this.meridian="PM"),"AM"!==this.meridian&&"PM"!==this.meridian&&(this.meridian="AM")):this.hour>=24?this.hour=23:this.hour<0&&(this.hour=0),this.minute<0?this.minute=0:this.minute>=60&&(this.minute=59),this.showSeconds&&(isNaN(this.second)?this.second=0:this.second<0?this.second=0:this.second>=60&&(this.second=59)),this.update()},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){var e=this;t(n).on("mousedown.timepicker",function(n){0===t(n.target).closest(".bootstrap-timepicker-widget").length&&e.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.disableFocus&&this.$element.blur(),this.updateFromElementVal(),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",t.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM",this.update()},update:function(){this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.updateElement(),this.updateWidget()},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){var t=this.$element.val();t&&this.setTime(t)},updateWidget:function(){if(this.$widget!==!1){var t=this.hour<10?"0"+this.hour:this.hour,e=this.minute<10?"0"+this.minute:this.minute,n=this.second<10?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(t),this.$widget.find("input.bootstrap-timepicker-minute").val(e),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(n),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(t),this.$widget.find("span.bootstrap-timepicker-minute").text(e),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(n),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var e=t("input.bootstrap-timepicker-hour",this.$widget).val()+":"+t("input.bootstrap-timepicker-minute",this.$widget).val()+(this.showSeconds?":"+t("input.bootstrap-timepicker-second",this.$widget).val():"")+(this.showMeridian?" "+t("input.bootstrap-timepicker-meridian",this.$widget).val():"");this.setTime(e)}},widgetClick:function(e){e.stopPropagation(),e.preventDefault();var n=t(e.target).closest("a").data("action");n&&this[n]()},widgetKeydown:function(e){var n=t(e.target).closest("input"),i=n.attr("name");switch(e.keyCode){case 9:if(this.showMeridian){if("meridian"===i)return this.hideWidget()}else if(this.showSeconds){if("second"===i)return this.hideWidget()}else if("minute"===i)return this.hideWidget();this.updateFromWidgetInputs();break;case 27:this.hideWidget();break;case 38:switch(e.preventDefault(),i){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}break;case 40:switch(e.preventDefault(),i){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}}}},t.fn.timepicker=function(e){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var i=t(this),a=i.data("timepicker"),o="object"==typeof e&&e;a||i.data("timepicker",a=new s(this,t.extend({},t.fn.timepicker.defaults,o,t(this).data()))),"string"==typeof e&&a[e].apply(a,n)})},t.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:".bootstrap-timepicker",upArrowStyle:"glyphicon glyphicon-chevron-up",downArrowStyle:"glyphicon glyphicon-chevron-down",containerClass:"bootstrap-timepicker"},t.fn.timepicker.Constructor=s}(jQuery,window,document),"undefined"==typeof jQuery)throw new Error("AdminLTE requires jQuery");$.AdminLTE={},$.AdminLTE.options={navbarMenuSlimscroll:!0,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:!0,sidebarSlimScroll:!0,sidebarExpandOnHover:!1,enableBoxRefresh:!0,enableBSToppltip:!0,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:!0,enableControlSidebar:!0,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:!0},enableBoxWidget:!0,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa-minus",open:"fa-plus",remove:"fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:!0,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#3c8dbc",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}},$(function(){"undefined"!=typeof AdminLTEOptions&&$.extend(!0,$.AdminLTE.options,AdminLTEOptions);var t=$.AdminLTE.options;_init(),$.AdminLTE.layout.activate(),$.AdminLTE.tree(".sidebar"),t.enableControlSidebar&&$.AdminLTE.controlSidebar.activate(),t.navbarMenuSlimscroll&&"undefined"!=typeof $.fn.slimscroll&&$(".navbar .menu").slimscroll({height:t.navbarMenuHeight,alwaysVisible:!1,size:t.navbarMenuSlimscrollWidth}).css("width","100%"),t.sidebarPushMenu&&$.AdminLTE.pushMenu.activate(t.sidebarToggleSelector),t.enableBSToppltip&&$("body").tooltip({selector:t.BSTooltipSelector}),t.enableBoxWidget&&$.AdminLTE.boxWidget.activate(),t.enableFastclick&&"undefined"!=typeof FastClick&&FastClick.attach(document.body),t.directChat.enable&&$(t.directChat.contactToggleSelector).on("click",function(){var t=$(this).parents(".direct-chat").first();t.toggleClass("direct-chat-contacts-open")}),$('.btn-group[data-toggle="btn-toggle"]').each(function(){var t=$(this);$(this).find(".btn").on("click",function(e){t.find(".btn.active").removeClass("active"),$(this).addClass("active"),e.preventDefault()})})}),function(t){t.fn.boxRefresh=function(e){function n(t){t.append(a),s.onLoadStart.call(t)}function i(t){t.find(a).remove(),s.onLoadDone.call(t)}var s=t.extend({trigger:".refresh-btn",source:"",onLoadStart:function(t){},onLoadDone:function(t){}},e),a=t('<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>');return this.each(function(){if(""===s.source)return void(console&&console.log("Please specify a source first - boxRefresh()"));var e=t(this),a=e.find(s.trigger).first();a.on("click",function(t){t.preventDefault(),n(e),e.find(".box-body").load(s.source,function(){i(e)})})})}}(jQuery),function(t){t.fn.todolist=function(e){var n=t.extend({onCheck:function(t){},onUncheck:function(t){}},e);return this.each(function(){"undefined"!=typeof t.fn.iCheck?(t("input",this).on("ifChecked",function(e){var i=t(this).parents("li").first();i.toggleClass("done"),n.onCheck.call(i)}),t("input",this).on("ifUnchecked",function(e){var i=t(this).parents("li").first();i.toggleClass("done"),n.onUncheck.call(i)})):t("input",this).on("change",function(e){var i=t(this).parents("li").first();i.toggleClass("done"),n.onCheck.call(i)})})}}(jQuery),$(function(){if($(".dataTable").dataTable({language:{url:GLOBALS.datablesLang}}),$(".selectBootstrap").selectpicker(),$(document).on("click",".confirm",function(t){t.preventDefault();var e=$(this);bootbox.dialog({message:e.data("message")||"Esta seguro de eliminar este elemento?",title:e.data("title")||"Eliminar elemento",buttons:{success:{label:e.data("success")||"Si",className:"btn-success",callback:function(){window.location.href=e.attr("href")}},danger:{label:e.data("danger")||"No",className:"btn-danger",callback:function(){}}}})}),$(".slugable").length>0){var t=$(".slugable").find(".slug-target"),e=$(".slugable").find(".slug-source");t.slugify(e)}$(document).on("click",'[data-action="AssignPermission"]',function(){var t=$(this);$.ajax({url:"/backend/roles/permissions/get",type:"GET",dataType:"json",data:{type:t.data("type"),model:t.data("model")},beforeSend:function(){t.button("loading")},success:function(e){$("#Modeltype").val(t.data("type")),$("#Modelid").val(t.data("model")),$.each(e,function(t,e){$("#permissionsSelect").append(new Option(e.display_name,e.id,!0,!1))}),$("#permissionsSelect").selectpicker(),$("#AssignPermissionsForm").attr("action",t.data("url")),$("#permissionsAddModal").modal("show")},complete:function(){t.button("reset")}})})});